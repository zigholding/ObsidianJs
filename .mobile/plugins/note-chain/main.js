/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/utils.ts
var utils_exports = {};
__export(utils_exports, {
  array_prefix_id: () => array_prefix_id,
  check_value: () => check_value,
  concat_array: () => concat_array,
  get_customjs_func: () => get_customjs_func,
  get_plugins: () => get_plugins,
  get_str_func: () => get_str_func,
  get_tp_func: () => get_tp_func,
  get_tp_user_func: () => get_tp_user_func,
  parse_templater: () => parse_templater,
  templater$1: () => templater$1,
  toogle_note_css: () => toogle_note_css
});
function get_plugins(app, name) {
}
function array_prefix_id(items, offset = 1) {
  let res = new Array();
  let N = items.length.toString().length;
  for (let i = 0; i < items.length; i++) {
    let id = (i + offset).toString().padStart(N, "0");
    res.push(`${id} \u{1F525} ${items[i]}`);
  }
  return res;
}
function concat_array(items) {
  if (items == null) {
    return [];
  }
  if (typeof items === "string") {
    return [items];
  }
  if (!(items instanceof Array)) {
    return [items];
  }
  let res = [];
  for (let item of items) {
    if (typeof item === "string") {
      res.push(item);
    } else if (item instanceof Array) {
      res = res.concat(this.concat_array(item));
    } else {
      res.push(item);
    }
  }
  return res;
}
async function check_value(t, k, v, dt, T) {
  let i = 0;
  while (t[k] == null || !(t[k] === v)) {
    await sleep(dt);
    i = dt + dt;
    if (i > T) {
      break;
    }
  }
  if (t[k] && t[k] === v) {
    return true;
  } else {
    return false;
  }
}
function get_tp_func(app, target) {
  let templater = app.plugins.getPlugin(
    "templater-obsidian"
  );
  if (!templater) {
    return null;
  }
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
async function get_tp_user_func(app, target) {
  if (!target.match(/^tp\.user\.\w+$/)) {
    return null;
  }
  let templater = app.plugins.getPlugin(
    "templater-obsidian"
  );
  if (!templater) {
    return null;
  }
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items[1].localeCompare("user") != 0 || items.length != 3) {
    return void 0;
  }
  let funcs = await templater.templater.functions_generator.user_functions.user_script_functions.generate_user_script_functions();
  return funcs.get(items[2]);
}
async function get_customjs_func(target) {
  if (!target.match(/^(cJS|customJS|customjs|customJs)(\.\w+)+$/)) {
    return null;
  }
  let items = target.split(".");
  if (window.hasOwnProperty("cJS")) {
    let cJS = window["cJS"];
    let tmp = await cJS();
    for (let field of items.slice(1)) {
      tmp = tmp[field];
      if (!tmp) {
        return null;
      }
    }
    return tmp;
  }
}
async function get_str_func(app, target) {
  let ufunc = await get_tp_func(app, target);
  if (ufunc) {
    return ufunc;
  }
  ufunc = await get_tp_user_func(app, target);
  if (ufunc) {
    return ufunc;
  }
  ufunc = await get_customjs_func(target);
  if (ufunc) {
    return ufunc;
  }
  return null;
}
async function templater$1(app, template, active_file, target_file) {
  const config = {
    template_file: template,
    active_file,
    target_file,
    run_mode: "DynamicProcessor"
  };
  const plugins = app.plugins.plugins;
  const exists = plugins["templater-obsidian"];
  if (!exists) {
    new import_obsidian2.Notice("Templater is not installed. Please install it.");
    return;
  }
  const { templater } = plugins["templater-obsidian"];
  const functions = await templater.functions_generator.internal_functions.generate_object(config);
  functions.user = {};
  const userScriptFunctions = await templater.functions_generator.user_functions.user_script_functions.generate_user_script_functions(config);
  userScriptFunctions.forEach(
    (value, key) => {
      functions.user[key] = value;
    }
  );
  if (template) {
    const userSystemFunctions = await templater.functions_generator.user_functions.user_system_functions.generate_system_functions(config);
    userSystemFunctions.forEach(
      (value, key) => {
        functions.user[key] = value;
      }
    );
  }
  return async (command) => {
    return await templater.parser.parse_commands(command, functions);
  };
}
async function parse_templater(app, template, extract = true) {
  let nc = app.plugins.getPlugin("note-chain");
  if (!nc) {
    return;
  }
  let file = nc.chain.get_tfile(template);
  if (file) {
    template = file;
  }
  let blocks;
  let template_file = null;
  if (template instanceof import_obsidian2.TFile) {
    template_file = template;
    if (extract) {
      blocks = await nc.editor.extract_templater_block(template);
    } else {
      let item = await app.vault.cachedRead(template);
      blocks = [item];
    }
  } else {
    if (extract) {
      blocks = await nc.editor.extract_templater_block(template);
    } else {
      blocks = [template];
    }
  }
  if (!template_file) {
    template_file = "";
  }
  let active_file = app.workspace.getActiveFile();
  let notes = app.vault.getMarkdownFiles();
  if (notes.length == 0) {
    return;
  }
  let target_file = notes[0];
  let templateFunc = await templater$1(app, template_file, active_file, target_file);
  if (templateFunc) {
    let res = [];
    for (let block of blocks) {
      let item = await templateFunc(block);
      res.push(item);
    }
    return res;
  } else {
    return [];
  }
}
async function toogle_note_css(app, document2, name, refresh = false) {
  let nc = app.plugins.getPlugin("note-chain");
  let tfile = nc.chain.get_tfile(name);
  if (!tfile) {
    let tfiles;
    if (name == "/") {
      tfiles = nc.chain.get_all_tfiles();
    } else {
      let folder = nc.chain.get_all_folders().filter((x) => x.name == name);
      if (folder.length == 0) {
        return;
      }
      tfiles = nc.utils.concat_array(
        folder.map((x) => nc.chain.get_tfiles_of_folder(x))
      );
    }
    if (tfiles.length == 0) {
      return;
    }
    tfile = await nc.chain.sugguster_note(tfiles);
    if (!tfile) {
      return;
    }
  }
  let link = document2.getElementById(tfile.basename);
  if (link && !refresh) {
    link.remove();
  } else {
    let css = await nc.editor.extract_code_block(tfile, "css");
    let inner = css.join("\n");
    if (link) {
      link.innerHTML = inner;
    } else {
      if (inner != "") {
        let styleElement = document2.createElement("style");
        styleElement.innerHTML = inner;
        styleElement.id = tfile.basename;
        document2.head.appendChild(styleElement);
      }
    }
  }
}
var import_obsidian2;
var init_utils = __esm({
  "src/utils.ts"() {
    import_obsidian2 = require("obsidian");
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteChainPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian12 = require("obsidian");

// src/NCEditor.ts
var import_obsidian = require("obsidian");
var NCEditor = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = this.plugin.app;
    this.nretry = 100;
  }
  async set_frontmatter(tfile, key, value, nretry = this.nretry) {
    let kv = {};
    kv[key] = value;
    let flag = await this.set_multi_frontmatter(tfile, kv, nretry);
    return flag;
  }
  check_frontmatter(tfile, kv) {
    try {
      if (!tfile) {
        return false;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        for (let k in kv) {
          if (!(meta.frontmatter[k] == kv[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  async wait_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await sleep(50);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  _set_(data, key, value) {
    let items = key.trim().split(".");
    if (!items) {
      return;
    }
    let curr = data;
    for (let item of items.slice(0, items.length - 1)) {
      let kv2 = item.match(/^(.*?)(\[-?\d+\])?$/);
      if (!kv2) {
        return;
      }
      let k2 = kv2[1];
      if (kv2[2]) {
        let i = parseInt(kv2[2].slice(1, kv2[2].length - 1));
        if (!(k2 in curr)) {
          curr[k2] = [{}];
          curr = curr[k2][0];
        } else {
          if (Array.isArray(curr[k2])) {
            let tmp = {};
            if (i < 0) {
              curr[k2].splice(-i - 1, 0, tmp);
            } else if (i < curr[k2].length) {
              curr[k2][i] = tmp;
            } else {
              curr[k2].push(tmp);
            }
            curr = tmp;
          } else {
            curr[k2] = [{}];
            curr = curr[k2][0];
          }
        }
      } else {
        if (!(k2 in curr)) {
          curr[k2] = {};
          curr = curr[k2];
        } else {
          if (typeof curr[k2] != "object") {
            curr[k2] = {};
            curr = curr[k2];
          } else {
            curr = curr[k2];
          }
        }
      }
    }
    let kv = items[items.length - 1].match(/^(.*?)(\[-?\d+\])?$/);
    if (!kv) {
      return;
    }
    let k = kv[1];
    if (kv[2]) {
      let i = parseInt(kv[2].slice(1, kv[2].length - 1));
      if (k in curr) {
        if (Array.isArray(curr[k])) {
          if (i < 0) {
            curr[k].splice(-i - 1, 0, value);
          } else if (i < curr[k].length) {
            curr[k][i] = value;
          } else {
            curr[k].push(value);
          }
        } else {
          curr[k] = value;
        }
      } else {
        curr[k] = [value];
      }
    } else {
      curr[k] = value;
    }
  }
  async set_multi_frontmatter(tfile, kv, nretry = this.nretry) {
    if (Array.isArray(tfile)) {
      for (let item of tfile) {
        this.set_multi_frontmatter(item, kv, nretry);
      }
      return true;
    }
    if (typeof tfile == "string") {
      tfile = this.plugin.chain.get_tfile(tfile);
    }
    if (!tfile || !(tfile instanceof import_obsidian.TFile)) {
      return false;
    }
    let flag = false;
    if (nretry > 1) {
      flag = this.check_frontmatter(tfile, kv);
    }
    while (!flag && nretry > 0) {
      await this.app.fileManager.processFrontMatter(tfile, (fm) => {
        for (let k in kv) {
          this._set_(fm, k, kv[k]);
        }
      });
      await sleep(100);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  get_frontmatter(tfile, key) {
    try {
      if (!tfile) {
        return null;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        if (meta.frontmatter[key]) {
          return meta.frontmatter[key];
        }
        let keys = key.split(".");
        let cfm = meta.frontmatter;
        for (let k of keys) {
          let items = k.match(/^(.*?)(\[-?\d+\])?$/);
          if (!items) {
            return null;
          }
          if (items[1]) {
            cfm = cfm[items[1]];
          }
          if (!cfm) {
            return null;
          }
          if (Array.isArray(cfm) && items[2]) {
            let i = parseInt(items[2].slice(1, items[2].length - 1));
            if (i < 0) {
              i = i + cfm.length;
            }
            cfm = cfm[i];
          }
        }
        return cfm;
      }
    } catch (error) {
      return null;
    }
  }
  get_vault_name() {
    let items = this.plugin.app.vault.adapter.basePath.split("\\");
    items = items[items.length - 1].split("/");
    return items[items.length - 1];
  }
  get_frontmatter_config(tfile, key) {
    if (tfile instanceof import_obsidian.TFile) {
      if (tfile.extension == "md") {
        let config = this.get_frontmatter(tfile, key);
        if (config) {
          return config;
        }
      } else {
        let file = this.plugin.chain.get_tfile(
          tfile.path.slice(0, tfile.path.length - tfile.extension.length) + "md"
        );
        if (file) {
          let config = this.get_frontmatter(file, key);
          if (config) {
            return config;
          }
        }
      }
    } else {
      let file = this.plugin.chain.get_tfile(tfile.path + "/" + tfile.name + ".md");
      if (file) {
        let config = this.get_frontmatter(file, key);
        if (config) {
          return config;
        }
      }
    }
    let dir = tfile.parent;
    while (dir) {
      let cfile;
      if (dir.parent) {
        cfile = this.plugin.chain.get_tfile(
          dir.path + "/" + dir.name + ".md"
        );
      } else {
        cfile = this.plugin.chain.get_tfile(
          this.get_vault_name()
        );
      }
      let config = this.get_frontmatter(cfile, key);
      if (config) {
        return config;
      }
      dir = dir.parent;
    }
    return null;
  }
  regexp_link(tfile, mode) {
    if (mode === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  async replace(tfile, regex, target) {
    if (typeof regex === "string") {
      await this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      await this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
  async remove_metadata(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let headerRegex = /^---\s*([\s\S]*?)\s*---/;
    let match = headerRegex.exec(tfile);
    if (match) {
      tfile = tfile.slice(match[0].length).trim();
    }
    return tfile;
  }
  async extract_code_block(tfile, btype) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let cssCodeBlocks = [];
    let reg = new RegExp(`\`\`\`${btype}\\n([\\s\\S]*?)
\`\`\``, "g");
    ;
    let matches;
    while ((matches = reg.exec(tfile)) !== null) {
      cssCodeBlocks.push(matches[1].trim());
    }
    return cssCodeBlocks;
  }
  async extract_templater_block(tfile, reg = /<%\*\s*([\s\S]*?)\s*-?%>/g) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let cssCodeBlocks = [];
    let matches;
    while ((matches = reg.exec(tfile)) !== null) {
      cssCodeBlocks.push(matches[0].trim());
    }
    let tpls = await this.extract_code_block(tfile, "js //templater");
    for (let tpl of tpls) {
      cssCodeBlocks.push(`<%*
${tpl}
-%>`);
    }
    return cssCodeBlocks;
  }
  async extract_yaml_block(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let headerRegex = /^---\s*([\s\S]*?)\s*---/;
    let match = headerRegex.exec(tfile);
    if (match) {
      return match[0];
    }
    return "";
  }
  _extract_block_id_(para) {
    let reg = /\s+\^[a-zA-Z0-9]+\r?\n?$/;
    let match = reg.exec(para);
    if (match) {
      return match[0].trim();
    } else {
      return "";
    }
  }
  _generate_random_string_(length) {
    let characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let result = "";
    for (let i = 0; i < length; i++) {
      let randomIndex = Math.floor(Math.random() * characters.length);
      result += characters[randomIndex];
    }
    return result;
  }
  async extract_all_blocks(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let ctx = tfile;
    let blocks = [];
    let head = await this.plugin.editor.extract_yaml_block(ctx);
    if (head != "") {
      blocks.push(["YAML", head]);
      ctx = ctx.slice(head.length);
    }
    let kvgets = {
      "\u7A7A\u767D\u6BB5\u843D": /^(\s*\n)*/,
      "\u4EE3\u7801\u5757": /^[ \t]*```[\s\S]*?\n[ \t]*```[ \t]*\n(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "tpl\u4EE3\u7801\u5757": /^<%\*[\s\S]*?\n-?\*?%>[ \t]*\n(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u4EFB\u52A1": /^[ \t]*- \[.\].*\n?(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u65E0\u5E8F\u5217\u8868": /^[ \t]*- .*\n?(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6709\u5E8F\u5217\u8868": /^[ \t]*\d\. .*\n?(\s+[ \t]*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u5F15\u7528": /^(>.*\n)+(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6807\u9898": /^#+ .*\n(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6BB5\u843D": /^(.*\n?)(\s*\^[a-zA-Z0-9]+\r?[\n$])?/
    };
    while (ctx.length > 0) {
      let flag = true;
      for (let key of Object.keys(kvgets)) {
        let reg = kvgets[key];
        let match = reg.exec(ctx);
        if (match) {
          let curr = match[0];
          if (curr.length > 0) {
            let bid = this._extract_block_id_(curr);
            if (key == "\u6BB5\u843D" && blocks.length > 0 && blocks[blocks.length - 1][0] == "\u6BB5\u843D") {
              blocks[blocks.length - 1][1] = blocks[blocks.length - 1][1] + curr;
              blocks[blocks.length - 1][2] = bid;
            } else {
              blocks.push([key, curr, bid]);
            }
            flag = false;
            ctx = ctx.slice(curr.length);
            break;
          }
        }
      }
      if (flag) {
        break;
      }
    }
    if (ctx.length > 0) {
      let bid = this._extract_block_id_(ctx);
      blocks.push(["\u6BB5\u843D", ctx, bid]);
    }
    return blocks;
  }
  async append_block_ids(tfile) {
    let blocks = await this.extract_all_blocks(tfile);
    let items = [];
    for (let block of blocks) {
      if (["\u7A7A\u767D\u6BB5\u843D", "YAML"].contains(block[0])) {
        items.push(block[1]);
      } else if (!block[2]) {
        let bid = this._generate_random_string_(6);
        if (["\u4EFB\u52A1", "\u65E0\u5E8F\u5217\u8868", "\u6709\u5E8F\u5217\u8868"].contains(block[0])) {
          items.push(block[1].slice(0, -1) + " ^" + bid + "\n");
        } else {
          if (block[1].endsWith("\n")) {
            items.push(block[1] + "^" + bid + "\n");
          } else {
            items.push(block[1] + "\n^" + bid + "\n");
          }
        }
      } else {
        items.push(block[1]);
      }
    }
    let res = items.join("");
    await this.app.vault.modify(tfile, res);
    return res;
  }
  async remove_block_ids(tfile) {
    let blocks = await this.extract_all_blocks(tfile);
    let items = [];
    for (let block of blocks) {
      if (["\u7A7A\u767D\u6BB5\u843D", "YAML"].contains(block[0])) {
        items.push(block[1]);
      } else {
        let reg = /\s+\^[a-zA-Z0-9]+\r?\n?$/;
        let match = reg.exec(block[1]);
        if (match) {
          items.push(block[1].replace(reg, "\n"));
        } else {
          items.push(block[1]);
        }
      }
    }
    let res = items.join("");
    await this.app.vault.modify(tfile, res);
    return res;
  }
  async get_current_section() {
    var _a, _b;
    let view = this.app.workspace.getActiveFileView();
    let editor = view.editor;
    let tfile = view.file;
    if (!view || !editor || !tfile) {
      return null;
    }
    let cursor = editor.getCursor();
    console.log("cursor", cursor);
    let cache = this.app.metadataCache.getFileCache(tfile);
    console.log("cache", cache);
    if (!cache) {
      return;
    }
    if (!cursor) {
      let ctx = await this.app.vault.cachedRead(tfile);
      let items = (_a = cache == null ? void 0 : cache.sections) == null ? void 0 : _a.map(
        (section2) => ctx.slice(section2.position.start.offset, section2.position.end.offset)
      );
      if (!items) {
        return null;
      }
      let section = await this.plugin.dialog_suggest(items, cache.sections);
      return section;
    } else {
      let sections = (_b = cache == null ? void 0 : cache.sections) == null ? void 0 : _b.filter(
        (x) => {
          return x.position.start.line <= cursor.line && x.position.end.line >= cursor.line;
        }
      )[0];
      return sections;
    }
  }
  async set_frontmatter_align_file(src, dst, field) {
    if (field) {
      let value = this.get_frontmatter(src, field);
      if (value) {
        await this.set_frontmatter(dst, field, value, 1);
      }
    }
  }
};

// src/NoteChain.ts
var import_obsidian4 = require("obsidian");
init_utils();

// src/NCModal.ts
var import_obsidian3 = require("obsidian");
var NoteContentModal = class extends import_obsidian3.Modal {
  constructor(app, content, plugin) {
    super(app);
    this.content = content;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.modalEl.style.display = "flex";
    this.modalEl.style.overflow = "auto";
    const container = contentEl.createDiv({ cls: "note-content-container" });
    container.addClass("markdown-rendered");
    container.style.display = "table-cell";
    container.style.verticalAlign = "middle";
    container.style.padding = "20px";
    const component = new import_obsidian3.Component();
    import_obsidian3.MarkdownRenderer.render(this.app, this.content, container, "", component);
    this.addClickListener(container);
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  addClickListener(container) {
    container.addEventListener("click", (event) => {
      let target = event.target;
      if (target.tagName === "A" && target.hasClass("internal-link")) {
        event.preventDefault();
        let href = target.getAttribute("href");
        if (href) {
          this.openNoteInMainView(href);
        }
      }
    });
  }
  async openNoteInMainView(linkText) {
    try {
      await this.app.workspace.openLinkText(linkText, "", false, { active: true });
      this.close();
    } catch (error) {
      new import_obsidian3.Notice(`Error opening note: ${error.message}`);
    }
  }
};
var NoteEditorModal = class extends import_obsidian3.Modal {
  // 添加编辑模式属性
  constructor(app, filePath, isEditMode = false) {
    super(app);
    this.filePath = filePath;
    this.isEditMode = isEditMode;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    if (this.isEditMode) {
      let file = this.app.vault.getAbstractFileByPath(this.filePath);
      if (file) {
        const leaf = this.app.workspace.getLeaf(true);
        await leaf.openFile(file, { state: { mode: "source" } });
        this.close();
      } else {
        new import_obsidian3.Notice(`File not found: ${this.filePath}`);
      }
    } else {
      new import_obsidian3.Notice("Not in edit mode.");
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/NoteChain.ts
var NoteChain = class {
  constructor(plugin, editor, prev = "PrevNote", next = "NextNote") {
    this.plugin = plugin;
    this.app = plugin.app;
    if (editor) {
      this.editor = editor;
    } else {
      this.editor = new NCEditor(plugin);
    }
    this.NoteEditorModal = NoteEditorModal;
    this.prev = prev;
    this.next = next;
    this.init_children();
  }
  async open_note_in_modal(notePath) {
    try {
      let file = this.get_tfile(notePath);
      if (file instanceof import_obsidian4.TFile) {
        let content = await this.app.vault.read(file);
        let modal = new NoteContentModal(this.app, content, this.plugin);
        modal.open();
        return modal;
      } else {
        let modal = new NoteContentModal(this.app, notePath, this.plugin);
        modal.open();
        return modal;
      }
    } catch (error) {
      new import_obsidian4.Notice(`Error opening note in modal: ${error.message}`);
    }
  }
  init_children() {
    var _a;
    this.children = {};
    for (let f of this.get_all_folders()) {
      let tfiles = f.children;
      if ((_a = this.plugin.explorer) == null ? void 0 : _a.file_explorer) {
        tfiles = this.sort_tfiles(
          tfiles,
          this.plugin.explorer.file_explorer.sortOrder
        );
      }
      this.children[f.path] = this.sort_tfiles_by_chain(tfiles);
    }
  }
  refresh_folder(tfolder) {
    if (tfolder == null ? void 0 : tfolder.children) {
      let tfiles = tfolder.children;
      if (this.plugin.explorer.file_explorer) {
        tfiles = this.sort_tfiles(
          tfiles,
          this.plugin.explorer.file_explorer.sortOrder
        );
      }
      this.children[tfolder.path] = this.sort_tfiles_by_chain(
        tfiles
      );
    }
  }
  refresh_tfile(tfile) {
    var _a;
    if ((_a = tfile.parent) == null ? void 0 : _a.children) {
      this.refresh_folder(tfile.parent);
    }
  }
  get tp_find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get tp_suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get tp_prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  get_all_folders() {
    let folders = this.app.vault.getAllFolders();
    let folder = this.app.vault.getFolderByPath("/");
    if (folder && !folders.contains(folder)) {
      folders.push(folder);
    }
    return folders;
  }
  get_all_tfiles(sort_mode = "") {
    let files = this.app.vault.getMarkdownFiles();
    if (!(sort_mode === "")) {
      this.sort_tfiles(files, sort_mode = sort_mode);
    }
    return files;
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async cmd_move_file_to_another_folder(tfile = this.current_note) {
    if (tfile == null) {
      return;
    }
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.plugin.dialog_suggest(
        this.plugin.utils.array_prefix_id(
          folders.map((f) => f.path)
        ),
        folders
      );
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await this.app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.userIgnoreFilters) {
      for (let x of this.app.vault.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note(notes = null, slice = 0) {
    if (notes == null) {
      notes = this.sort_tfiles(
        this.app.vault.getFiles(),
        ["mtime", "x"]
      ).filter((f) => this.filter_user_ignore(f));
    }
    try {
      let msg = this.plugin.utils.array_prefix_id(notes.map((f) => f.path.slice(slice)));
      let note = await this.plugin.dialog_suggest(msg, notes);
      return note;
    } catch (error) {
      return null;
    }
  }
  open_note(tfile, new_tab = false, revealFolder = false, collapse = true) {
    if (tfile) {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
      if (new_tab || !view || !view.leaf) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else if (view.leaf.pinned) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        view.leaf.openFile(tfile);
      }
      if (revealFolder) {
        if (collapse) {
          this.plugin.explorer.file_explorer.tree.setCollapseAll(true);
        }
        this.plugin.explorer.file_explorer.revealInFolder(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path, only_first = true) {
    try {
      path = path.split("|")[0].replace("[[", "").replace("]]", "");
      let tfile = this.app.vault.getFileByPath(path);
      if (tfile) {
        return tfile;
      }
      let tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase());
      if (!tfiles) {
        tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase() + ".md");
        if (!tfiles) {
          return null;
        } else {
          path = path + ".md";
        }
      }
      let ctfiles = tfiles.filter((x) => x.name == path);
      if (ctfiles.length > 0) {
        if (only_first) {
          return ctfiles[0];
        } else {
          return ctfiles;
        }
      }
      if (tfiles.length > 0) {
        if (only_first) {
          return tfiles[0];
        } else {
          return tfiles;
        }
      }
      return null;
    } catch (e) {
      return null;
    }
  }
  get_tags(tfile = this.current_note) {
    var _a;
    if (!tfile) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    let tags = [];
    if (mcache == null ? void 0 : mcache.tags) {
      for (let curr of mcache.tags) {
        if (!tags.contains(curr.tag)) {
          tags.push(curr.tag);
        }
      }
    }
    if ((_a = mcache == null ? void 0 : mcache.frontmatter) == null ? void 0 : _a.tags) {
      if (Array.isArray(mcache.frontmatter.tags)) {
        for (let curr of mcache.frontmatter.tags) {
          let tag = "#" + curr;
          if (!tags.contains(tag)) {
            tags.push(tag);
          }
        }
      } else if (typeof mcache.frontmatter.tags === "string") {
        let tag = `#` + mcache.frontmatter.tags;
        if (!tags.contains(tag)) {
          tags.push(tag);
        }
      }
    }
    return tags;
  }
  get_recent_tfiles(only_md = true) {
    var _a;
    let recent = this.app.plugins.getPlugin("recent-files-obsidian");
    if (recent) {
      let files = recent.data.recentFiles.map(
        (x) => this.get_tfile(x.path)
      ).filter((x) => x);
      return files;
    } else {
      let recent2 = [];
      let files = (_a = this.app.workspace.recentFileTracker) == null ? void 0 : _a.lastOpenFiles;
      if (files && files.length > 0) {
        recent2 = files.map((x) => this.get_tfile(x)).filter((x) => x);
      }
      let tfile = this.app.workspace.getActiveFile();
      if (tfile) {
        recent2.unshift(tfile);
      }
      if (only_md) {
        recent2 = recent2.filter((x) => x.extension == "md");
      }
      return recent2;
    }
  }
  get_last_daily_note(recent_first = true) {
    let pattern = /^\d{4}-\d{2}-\d{2}$/;
    if (recent_first) {
      let recent = this.get_recent_tfiles();
      for (let tfile of recent) {
        if (tfile.basename.match(pattern)) {
          return tfile;
        }
      }
    }
    let t = (0, import_obsidian4.moment)();
    for (let i = 0; i < 20; i++) {
      let xt = t.clone().add(-i, "days");
      let fname = xt.format("YYYY-MM-DD");
      let tfile = this.get_tfile(fname);
      if (tfile) {
        return tfile;
      }
    }
    let files = this.app.vault.getMarkdownFiles().filter(
      (x) => x.basename.match(pattern)
    );
    files = this.sort_tfiles(files, "name");
    if (files.length > 0) {
      return files[files.length - 1];
    }
    return null;
  }
  get_neighbor_leaf(offset = 1) {
    let app = this.plugin.app;
    let leaves = app.workspace.getLeavesOfType("markdown");
    let activeLeaf = app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
    if (activeLeaf) {
      let idx = leaves.map((x) => x.view == activeLeaf).indexOf(true);
      idx = idx + offset;
      if (idx < 0 || idx > leaves.length - 1) {
        return null;
      }
      return leaves[idx];
    }
  }
  get_last_activate_leaf(skip_conote = true) {
    let leaves = this.app.workspace.getLeavesOfType("markdown");
    leaves = leaves.filter((x) => x.getViewState().state.file);
    leaves = leaves.sort((a, b) => b.activeTime - a.activeTime);
    for (let leaf2 of leaves) {
      let file = leaf2.getViewState().state.file;
      if (skip_conote && this.get_tags(file).contains("#conote")) {
        continue;
      }
      return leaf2;
    }
    let leaf = null;
    for (let i of [1, -1, 0]) {
      leaf = this.plugin.chain.get_neighbor_leaf(i);
      if (leaf) {
        return leaf;
      }
    }
    return null;
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_selected_files(current_if_no_selected = true) {
    let selector = document.querySelectorAll(
      ".tree-item-self.is-selected"
    );
    let items = Object.values(selector).map((x) => {
      var _a;
      return (_a = x.dataset) == null ? void 0 : _a.path;
    });
    let tfiles = items.map(
      (x) => this.get_tfile(x)
    ).filter(
      (x) => x.extension == "md"
    );
    if (tfiles.length > 0) {
      return tfiles;
    } else if (current_if_no_selected && this.current_note) {
      return [this.current_note];
    } else {
      return [];
    }
  }
  get_inlinks(tfile = this.current_note, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let res = [];
    let inlinks = this.app.metadataCache.getBacklinksForFile(tfile);
    for (let [k, v] of inlinks.data) {
      let curr = this.app.vault.getFileByPath(k);
      if (curr) {
        res.push(curr);
      }
    }
    return res;
  }
  get_outlinks(tfile = this.current_note, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (!mcache) {
      return [];
    }
    let res = [];
    if (mcache.links) {
      for (let link of mcache.links) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (mcache.frontmatterLinks) {
      for (let link of mcache.frontmatterLinks) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (!only_md && mcache.embeds) {
      for (let link of mcache.embeds) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2)) {
          res.push(tfile2);
        }
      }
    }
    return res;
  }
  get_links(tfile = this.current_note, only_md = true) {
    let inlinks = this.get_inlinks(tfile, only_md);
    let outlinks = this.get_outlinks(tfile, only_md);
    for (let link of inlinks) {
      if (!outlinks.contains(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_group_inlinks(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_inlinks(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_group_outlinks(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_outlinks(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_group_links(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_links(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_brothers(tfile = this.current_note) {
    if (tfile && tfile.parent) {
      return this.get_tfiles_of_folder(tfile.parent, false);
    } else {
      return [];
    }
  }
  get_uncles(tfile) {
    if (tfile && tfile.parent && tfile.parent.parent) {
      let folder = tfile.parent.parent;
      return folder.children.filter(
        (x) => x instanceof import_obsidian4.TFile
      );
    }
    return [];
  }
  get_tfiles_of_folder(tfolder, with_children = false) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c instanceof import_obsidian4.TFile && c.extension === "md") {
        notes.push(c);
      } else if (c instanceof import_obsidian4.TFolder && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  indexOfFolder(tfile, tfiles) {
    let fnote = this.get_tfile(tfile.name + ".md");
    if (!fnote) {
      return -1;
    }
    let msg = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNote"
    );
    if (!msg || typeof msg != "string") {
      return -1;
    }
    let anchor = this.get_tfile(msg);
    if (!anchor) {
      return -1;
    }
    let idx = tfiles.indexOf(anchor);
    let offset = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNoteOffset"
    );
    if (typeof offset == "string") {
      idx = idx + parseFloat(offset);
    } else {
      idx = idx + 0.5;
    }
    return idx;
  }
  tfile_to_string(tfile) {
    let curr = this.current_note;
    let msg = "";
    if (tfile.parent == (curr == null ? void 0 : curr.parent)) {
      msg = tfile.basename;
    } else {
      msg = tfile.path;
    }
    if (tfile == this.current_note) {
      return `\u{1F3E0} ${msg}`;
    } else {
      return msg;
    }
  }
  async suggester_notes(tfile = this.current_note, curr_first = false, smode = "") {
    if (tfile) {
      tfile == this.current_note;
    }
    let kv = [
      this.plugin.strings.item_get_brothers,
      this.plugin.strings.item_notechain,
      this.plugin.strings.item_uncle_notes,
      this.plugin.strings.item_same_folder,
      this.plugin.strings.item_inlinks_outlinks,
      this.plugin.strings.item_inlins,
      this.plugin.strings.item_outlinks,
      this.plugin.strings.item_all_noes,
      this.plugin.strings.item_recent
    ];
    if (curr_first) {
      kv.unshift(this.plugin.strings.item_currentnote);
    } else {
      kv.push(this.plugin.strings.item_currentnote);
    }
    let mode = "";
    if (kv.contains(smode)) {
      mode = smode;
    } else {
      mode = await this.plugin.dialog_suggest(this.plugin.utils.array_prefix_id(kv), kv);
    }
    if (mode === this.plugin.strings.item_currentnote) {
      return [tfile];
    } else if (mode === this.plugin.strings.item_get_brothers) {
      return this.get_brothers(tfile);
    } else if (mode === this.plugin.strings.item_same_folder) {
      if (tfile == null ? void 0 : tfile.parent) {
        return this.get_tfiles_of_folder(tfile.parent, true);
      }
    } else if (mode === this.plugin.strings.item_inlinks_outlinks) {
      return this.get_links(tfile);
    } else if (mode === this.plugin.strings.item_inlins) {
      return this.get_inlinks(tfile);
    } else if (mode === this.plugin.strings.item_outlinks) {
      return this.get_outlinks(tfile);
    } else if (mode === this.plugin.strings.item_all_noes) {
      return this.get_all_tfiles();
    } else if (mode === this.plugin.strings.item_recent) {
      return this.get_recent_tfiles();
    } else if (mode === this.plugin.strings.item_uncle_notes) {
      if (tfile) {
        return this.get_uncles(tfile);
      }
    } else if (mode === this.plugin.strings.item_notechain) {
      return this.get_chain(
        tfile,
        Number(this.plugin.settings.PrevChain),
        Number(this.plugin.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  // Chain
  get_prev_note(tfile = this.current_note) {
    if (!tfile) {
      return;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      tfiles = tfiles.filter((f) => {
        if (!f) {
          return false;
        }
        let next = this.editor.get_frontmatter(f, this.next);
        if (typeof next != "string") {
          return false;
        }
        return `[[${tfile.basename}]]` == next;
      });
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.prev);
      if (!name || typeof name != "string") {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_prev_notes(tfile = this.current_note) {
    let note = this.get_prev_note(tfile);
    this.open_note(note);
  }
  get_next_note(tfile = this.current_note) {
    if (!tfile) {
      return null;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      let prev = tfiles = tfiles.filter((f) => {
        if (!f) {
          return false;
        }
        let prev2 = this.editor.get_frontmatter(f, this.prev);
        if (typeof prev2 != "string") {
          return false;
        }
        return `[[${tfile.basename}]]` == prev2;
      });
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.next);
      if (!name || typeof name != "string") {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_next_notes(tfile = this.current_note) {
    let note = this.get_next_note(tfile);
    this.open_note(note);
  }
  get_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let note = this.get_prev_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let note = this.get_next_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_first_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, -1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_last_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 0, -1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  get_neighbors(tfile = this.current_note) {
    return [
      this.get_prev_note(tfile),
      this.get_next_note(tfile)
    ];
  }
  async chain_set_prev(tfile, prev) {
    if (tfile == null || tfile == prev) {
      return;
    }
    if (this.get_prev_note(tfile) == prev) {
      return;
    }
    let msg = `Note Chain: ${prev == null ? void 0 : prev.basename} --> \u{1F3E0}${tfile.basename}`;
    if (prev == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        null
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        `[[${prev.basename}]]`
      );
    }
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_set_next(tfile, next) {
    if (tfile == null || tfile == next) {
      return;
    }
    if (this.get_next_note(tfile) == next) {
      return;
    }
    let msg = `Note Chain: \u{1F3E0}${tfile == null ? void 0 : tfile.basename} <-- ${next == null ? void 0 : next.basename}`;
    if (next == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        null
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        `[[${next.basename}]]`
      );
    }
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_set_prev_next(tfile, prev, next) {
    if (tfile == null || prev == next || tfile == prev || tfile == next) {
      return;
    }
    if (this.get_prev_note(tfile) == prev) {
      await this.chain_set_next(tfile, next);
      return;
    }
    if (this.get_next_note(tfile) == next) {
      await this.chain_set_prev(tfile, prev);
      return;
    }
    let msg = `Note Chain: ${prev == null ? void 0 : prev.basename} --> \u{1F3E0}${tfile == null ? void 0 : tfile.basename} <-- ${next == null ? void 0 : next.basename}`;
    let fm = {};
    fm[this.prev] = prev ? `[[${prev.basename}]]` : null;
    fm[this.next] = next ? `[[${next.basename}]]` : null;
    await this.plugin.editor.set_multi_frontmatter(tfile, fm);
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_link_prev_next(prev, next) {
    await this.chain_set_prev(next, prev);
    await this.chain_set_next(prev, next);
  }
  async chain_concat_tfiles(tfiles) {
    let prev = this.get_prev_note(tfiles[0]);
    if (tfiles.contains(prev)) {
      await this.chain_set_prev(tfiles[0], null);
    }
    let next = this.get_next_note(tfiles[tfiles.length - 1]);
    if (tfiles.contains(next)) {
      await this.chain_set_next(tfiles[tfiles.length - 1], null);
    }
    if (tfiles.length <= 1) {
      return;
    }
    let N = tfiles.length;
    await this.chain_set_next(tfiles[0], tfiles[1]);
    await this.chain_set_prev(tfiles[N - 1], tfiles[N - 2]);
    for (let i = 1; i < tfiles.length - 1; i++) {
      await this.chain_set_prev_next(tfiles[i], tfiles[i - 1], tfiles[i + 1]);
    }
  }
  async chain_pop_node(tfile) {
    let notes = this.get_neighbors(tfile);
    await this.chain_link_prev_next(notes[0], notes[1]);
  }
  async chain_insert_node_as_head(tfile, anchor) {
    let head = this.get_first_note(anchor);
    await this.chain_link_prev_next(tfile, head);
  }
  async chain_insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    await this.chain_link_prev_next(tail, tfile);
  }
  async chain_insert_node_after(tfile, anchor) {
    let anchor_next = this.get_next_note(anchor);
    if (anchor_next == tfile) {
      return;
    }
    let tfile_neighbor = this.get_neighbors(tfile);
    if (tfile_neighbor[1] == anchor) {
      await this.chain_concat_tfiles(
        [tfile_neighbor[0], anchor, tfile, anchor_next]
      );
    } else {
      await this.chain_pop_node(tfile);
      await this.chain_concat_tfiles([anchor, tfile, anchor_next]);
    }
  }
  async chain_insert_node_before(tfile, anchor) {
    let anchor_prev = this.get_prev_note(anchor);
    if (anchor_prev == tfile) {
      return;
    }
    let tfile_neighbor = this.get_neighbors(tfile);
    if (tfile_neighbor[0] == anchor) {
      await this.chain_concat_tfiles(
        [anchor_prev, tfile, anchor, tfile_neighbor[1]]
      );
    } else {
      await this.chain_pop_node(tfile);
      await this.chain_concat_tfiles([anchor_prev, tfile, anchor]);
    }
  }
  async chain_insert_folder_after(tfile, anchor) {
    if (!tfile.parent || tfile.parent.parent != anchor.parent) {
      return;
    }
    let note = this.get_tfile(tfile.parent.name);
    if (!note) {
      return;
    }
    await this.plugin.editor.set_multi_frontmatter(
      note,
      {
        "FolderPrevNote": `[[${anchor.basename}]]`,
        "FolderPrevNoteOffset": 0.5
      }
    );
  }
  async chain_suggester_tfiles(tfile = this.current_note, mode = "suggester") {
    let notes = this.get_brothers(tfile);
    if (notes.length == 0) {
      return;
    }
    let files = await this.suggester_sort(notes);
    await this.chain_concat_tfiles(files);
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name" || field === "alphabetical") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime" || field === "byModifiedTime") {
        return files.sort(
          (a, b) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.mtime) - ((_b = b.stat) == null ? void 0 : _b.mtime);
          }
        );
      } else if (field === "ctime" || field === "byCreatedTime") {
        return files.sort(
          (a, b) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.ctime) - ((_b = b.stat) == null ? void 0 : _b.ctime);
          }
        );
      } else if (field === "alphabeticalReverse") {
        return files.sort(
          (b, a) => a.name.localeCompare(b.name)
        );
      } else if (field === "byModifiedTimeReverse") {
        return files.sort(
          (b, a) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.mtime) - ((_b = b.stat) == null ? void 0 : _b.mtime);
          }
        );
      } else if (field === "byCreatedTimeReverse") {
        return files.sort(
          (b, a) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.ctime) - ((_b = b.stat) == null ? void 0 : _b.ctime);
          }
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.filter((f) => f instanceof import_obsidian4.TFile);
    let res = [];
    let ctfiles = [];
    while (notes.length > 0) {
      let note = notes[0];
      if (note instanceof import_obsidian4.TFile) {
        let xchain = this.get_chain(note, -1, -1);
        for (let x of xchain) {
          if (notes.contains(x)) {
            ctfiles.push(x);
            notes.remove(x);
          }
        }
      }
    }
    res.push(...ctfiles);
    let canvas = res.filter((f) => f instanceof import_obsidian4.TFile && f.extension == "canvas");
    res = res.filter((f) => f instanceof import_obsidian4.TFile && f.extension != "canvas");
    let folders = tfiles.filter((f) => f instanceof import_obsidian4.TFolder);
    if (folders.length > 0) {
      let indexOf = function(f) {
        if (f instanceof import_obsidian4.TFile) {
          return res.indexOf(f);
        } else if (f instanceof import_obsidian4.TFolder) {
          return idxs[folders.indexOf(f)];
        } else {
          return -1;
        }
      };
      let idxs = folders.map(
        (f) => this.indexOfFolder(f, ctfiles)
      );
      res.push(...folders);
      res = res.sort((a, b) => indexOf(a) - indexOf(b));
    }
    for (let tfile of canvas) {
      let rname = res.map((x) => x instanceof import_obsidian4.TFolder ? x.name : x.basename);
      let cname = tfile.basename;
      let idx = rname.indexOf(cname);
      if (idx < 0) {
        idx = rname.indexOf(cname.split(".").slice(0, -1).join("."));
      }
      if (idx < 0) {
        res.push(tfile);
      } else {
        res.splice(idx + 1, 0, tfile);
      }
    }
    return res;
  }
  sort_tfiles_folder_first(tfiles) {
    let A = tfiles.filter((f) => f instanceof import_obsidian4.TFolder).sort((a, b) => a.name.localeCompare(b.name));
    let B = tfiles.filter((f) => f instanceof import_obsidian4.TFile);
    return this.plugin.utils.concat_array([A, B]);
  }
  sort_tfiles_by_field(tfiles, field) {
    let res = tfiles.sort(
      (a, b) => {
        let av = this.editor.get_frontmatter(a, field);
        let bv = this.editor.get_frontmatter(b, field);
        if (typeof av != typeof bv) {
          return 0;
        }
        if (typeof av == "number" && typeof bv == "number") {
          return av - bv;
        }
        if (typeof av == "string" && typeof bv == "string") {
          let v = av.localeCompare(bv);
          return v;
        }
        return 0;
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "chain": "chain",
      "name (a to z)": "name",
      "ctime (old to new)": "ctime",
      "mtime (old to new)": "mtime",
      "name (z to a)": ["name", "x"],
      "ctime (new to old)": ["ctime", "x"],
      "mtime (new to old)": ["mtime", "x"]
    };
    let field = await this.plugin.dialog_suggest(
      Object.keys(kv),
      Object.values(kv)
    );
    if (field == null) {
      return [];
    }
    if (field == "chain") {
      tfiles = this.sort_tfiles(tfiles, "name");
    }
    return this.sort_tfiles(tfiles, field);
  }
  view_sort_by_chain() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    if (!view) {
      return;
    }
    view.sort();
    if (view.ready) {
      for (let path in view.fileItems) {
        let item = view.fileItems[path];
        if (item.vChildren) {
          let files = item.vChildren._children.map((f) => f.file);
          files = this.sort_tfiles_by_chain(files);
          let children = item.vChildren._children.sort(
            (a, b) => files.indexOf(a.file) - files.indexOf(b.file)
          );
          item.vChildren.setChildren(children);
        }
      }
      view.tree.infinityScroll.compute();
    }
  }
  async get_file_links(tfile, xlinks = true, inlinks = true, outlinks = true, onlymd = false) {
    let items = {};
    if (!tfile) {
      return items;
    }
    items["\u{1F3E0} " + tfile.basename] = this.app.vault.adapter.getFullPath(tfile.path);
    if (xlinks) {
      let tmp;
      tmp = this.editor.get_frontmatter(tfile, "github");
      if (tmp) {
        if (tmp.contains("github.com")) {
          items["\u{1F310}github"] = tmp;
        } else {
          items["\u{1F310}github"] = `https://github.com/` + tmp;
        }
      }
      tmp = this.editor.get_frontmatter(tfile, "huggingface");
      if (tmp) {
        if (tmp.contains("huggingface.co")) {
          items["\u{1F310}huggingface\u{1F917}"] = tmp;
        } else {
          items["\u{1F310}huggingface\u{1F917}"] = `https://huggingface.co/` + tmp;
        }
      }
      tmp = this.editor.get_frontmatter(tfile, "arxiv");
      if (tmp == null ? void 0 : tmp.ID) {
        items["\u{1F310}arxiv"] = `https://arxiv.org/abs/` + (tmp == null ? void 0 : tmp.ID);
      }
      let text = await this.app.vault.cachedRead(tfile);
      const regex = /\[[^(\[\])]*?\]\(.*?\)/g;
      const matches = text.match(regex);
      if (matches) {
        for (const match of matches) {
          let key = match.slice(1, match.indexOf("]("));
          let value = match.slice(match.indexOf("](")).slice(2, -1);
          if (value === "") {
            continue;
          }
          if (key === "") {
            key = value;
          }
          if (value.startsWith("http")) {
            key = "\u{1F310} " + key;
          } else if (value.startsWith("file:///")) {
            value = value.slice(8);
            key = "\u{1F4C1} " + key;
          } else {
            key = "\u{1F517} " + key;
          }
          items[key] = value;
        }
      }
    }
    if (inlinks) {
      let links = this.get_inlinks(tfile, false);
      for (let i of links) {
        if (onlymd && !(i.extension === "md")) {
          continue;
        }
        if (i.extension === "md") {
          items["\u2139\uFE0F " + i.basename] = this.app.vault.adapter.getFullPath(i.path);
        } else {
          items["\u2139\uFE0F " + i.name] = this.app.vault.adapter.getFullPath(i.path);
        }
      }
    }
    if (outlinks) {
      let links = this.get_outlinks(tfile, false);
      for (let i of links) {
        if (onlymd && !(i.extension === "md")) {
          continue;
        }
        if (i.extension === "md") {
          items["\u{1F17E}\uFE0F " + i.basename] = this.app.vault.adapter.getFullPath(i.path);
        } else {
          items["\u{1F17E}\uFE0F " + i.name] = this.app.vault.adapter.getFullPath(i.path);
        }
      }
    }
    items["\u{1F492} vault"] = this.app.vault.adapter.getFullPath(".");
    return items;
  }
};

// src/NCFileExplorer.ts
var import_obsidian5 = require("obsidian");
var getSortedFolderItems = function(org_sort) {
  let plugin = this.app.plugins.getPlugin("note-chain");
  return function(e) {
    if (plugin) {
      try {
        let res = org_sort.call(this, e);
        let tfiles = plugin.chain.children[e.path];
        if (tfiles) {
          res = res.sort((a, b) => tfiles.indexOf(a.file) - tfiles.indexOf(b.file));
        }
        return res;
      } catch (e2) {
        return org_sort.call(this, e2);
      }
    } else {
      return org_sort.call(this, e);
    }
  };
};
var getTtitle = function(org_getTtile) {
  let plugin = this.app.plugins.getPlugin("note-chain");
  return function(e) {
    if (plugin) {
      try {
        let res = plugin.explorer.get_display_text(this.file);
        return res;
      } catch (e2) {
        return org_getTtile.call(this);
      }
    } else {
      return org_getTtile.call(this);
    }
  };
};
var NCFileExplorer = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.chain = plugin.chain;
    this.app = plugin.app;
    this.register();
  }
  async register() {
    await this.waitForFileExplorer();
    this.getSortedFolderItems = this.file_explorer.constructor.prototype.getSortedFolderItems;
    this.getSortedFolderItems_new = getSortedFolderItems(this.getSortedFolderItems);
    this.file_explorer.constructor.prototype.getSortedFolderItems = this.getSortedFolderItems_new;
    try {
      let item = this.file_explorer.fileItems[this.plugin.chain.get_all_tfiles()[0].path];
      if (item) {
        this.getTitle = item.constructor.prototype.getTitle;
        this.getTitle_new = getTtitle(this.getTitle);
        item.constructor.prototype.getTitle = this.getTitle_new;
      }
      this.sort(0, true);
      this.set_display_text();
      this.set_fileitem_style();
    } catch (error) {
    }
  }
  async unregister() {
    if (this.getSortedFolderItems) {
      this.file_explorer.constructor.prototype.getSortedFolderItems = this.getSortedFolderItems;
    }
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      await this._set_display_text_(item, this.get_origin_text(item.file));
      item.el.style.background = null;
      item.el.style.border = null;
    }
  }
  async waitForFileExplorer() {
    while (!this.file_explorer.fileItems) {
      await new Promise((resolve) => setTimeout(resolve, 100));
    }
    return this.file_explorer.fileItems;
  }
  get file_explorer() {
    var _a;
    let a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    );
    let view = (_a = a[0]) == null ? void 0 : _a.view;
    return view;
  }
  async sort(nsleep = 0, init = false) {
    var _a;
    if ((_a = this.file_explorer) == null ? void 0 : _a.sort) {
      if (nsleep > 0) {
        await sleep(nsleep);
      }
      if (init) {
        this.plugin.chain.init_children();
      }
      if (Object.keys(this.plugin.chain.children).length == 0) {
        setTimeout(() => {
          this.sort(nsleep, true);
        }, 3e3);
      } else {
        this.file_explorer.sort();
      }
    }
  }
  get_field_of_display_text(tfile) {
    if (this.plugin.settings.field_of_display_text) {
      let item = this.plugin.editor.get_frontmatter_config(tfile, this.plugin.settings.field_of_display_text);
      if (typeof item != "string") {
        return "";
      }
      return item;
    }
    return "";
  }
  get_origin_text(tfile) {
    if (tfile instanceof import_obsidian5.TFile) {
      if (tfile.extension == "md") {
        return tfile.basename;
      } else if (tfile.extension == "canvas") {
        return tfile.basename;
      } else {
        return tfile.name;
      }
    } else {
      return tfile.name;
    }
  }
  get_item(tfile, field) {
    var _a, _b;
    if (!field) {
      return "";
    }
    let fields = field.split("|");
    let item = "";
    for (let f of fields) {
      if (f == "$0") {
        return this.get_origin_text(tfile);
      }
      if (f.startsWith("?")) {
        break;
      }
      if (tfile instanceof import_obsidian5.TFile) {
        let s = this.plugin.editor.get_frontmatter(tfile, f);
        if (typeof s === "number") {
          item = `${s}`;
        } else if (typeof s != "string" || s == "") {
          continue;
        }
        item = s;
        break;
      }
    }
    if (((_a = fields.last()) == null ? void 0 : _a.startsWith("?")) && item) {
      return ((_b = fields.last()) == null ? void 0 : _b.slice(1).replace(/\$1/g, item)) || "";
    }
    return item;
  }
  get_display_text(tfile) {
    let str = this.get_field_of_display_text(tfile);
    if (!str && this.plugin.settings.field_of_confluence_tab_format) {
      str = `<${this.plugin.settings.field_of_confluence_tab_format}><$0>`;
    } else {
      str = `<${this.plugin.settings.field_of_confluence_tab_format}>${str}`;
    }
    if (!str || str == "$0" || str == "<$0>") {
      return this.get_origin_text(tfile);
    }
    let mstr = str.replace(/\<(.+?)?\>/g, (match, field) => {
      return this.get_item(tfile, field);
    });
    mstr = mstr;
    if (mstr == "") {
      return this.get_origin_text(tfile);
    } else {
      return mstr;
    }
  }
  _set_display_text_(item, txt) {
    if (item && txt) {
      if (typeof txt == "string") {
        item.innerEl.setText(txt);
      }
    }
  }
  set_display_text() {
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      let txt = this.get_display_text(item.file);
      this._set_display_text_(item, txt);
    }
  }
  async get_fileitem_style(tfile) {
    if (this.plugin.settings.field_of_background_color) {
      let style = this.plugin.editor.get_frontmatter_config(tfile, this.plugin.settings.field_of_background_color);
      if (typeof style == "string") {
        let func = await this.plugin.utils.get_str_func(this.app, style);
        if (func) {
          return func;
        }
      }
      return style;
    }
    return null;
  }
  async set_fileitem_style() {
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      let style = await this.get_fileitem_style(item.file);
      await this.set_fileitem_style_of_file(item.file, style);
    }
  }
  async set_fileitem_style_of_file(tfile, style = null) {
    if (!tfile) {
      return;
    }
    if (!style) {
      style = await this.get_fileitem_style(tfile);
    }
    let items = this.file_explorer.fileItems;
    let item = items[tfile.path];
    if (item) {
      if (typeof style == "function") {
        style = await style(tfile);
        if (!style) {
          return;
        }
      }
      if (style == null) {
        item.el.style.background = null;
        item.el.style.border = null;
      } else if (typeof style == "string") {
        item.el.style.background = style;
      } else if (typeof style == "object") {
        for (let k in style) {
          item.el.style[k] = style[k];
        }
      } else if (typeof style == "function") {
        await style(tfile);
      }
    }
  }
};

// src/strings.ts
var Strings = class {
  constructor() {
    let lang = window.localStorage.getItem("language");
    if (lang) {
      this.language = lang;
    } else {
      this.language = "en";
    }
  }
  get cmd_mermaid_flowchart_link() {
    if (this.language == "zh") {
      return "Mermaid\u94FE\u63A5\u5361\u7247";
    } else {
      return "Mermaid of linked notes";
    }
  }
  get cmd_mermaid_flowchart_folder() {
    if (this.language == "zh") {
      return "Mermaid\u76EE\u5F55\u5361\u7247";
    } else {
      return "Mermaid of folder notes";
    }
  }
  get cmd_mermaid_flowchart_auto() {
    if (this.language == "zh") {
      return "Mermaid\u5361\u7247";
    } else {
      return "Mermaid of notes";
    }
  }
  get cmd_file_open_with_system_app() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u4F7F\u7528\u7CFB\u7EDF\u7A0B\u5E8F\u6253\u5F00\uFF08\u4EC5\u684C\u9762\uFF09";
    } else {
      return "File - open with system app (desktop only)";
    }
  }
  get cmd_file_show_in_system_explorer() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u5728\u7CFB\u7EDF\u6D4F\u89C8\u7684\u67E5\u770B\uFF08\u4EC5\u684C\u9762\uFF09";
    } else {
      return "File - show in system explorer (desktop only)";
    }
  }
  get cmd_file_rename() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u91CD\u547D\u540D\u6587\u4EF6";
    } else {
      return "File - rename file";
    }
  }
  get cmd_longform2notechain() {
    if (this.language == "zh") {
      return "\u6839\u636ELongForm\u91CD\u7F6E\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Reset note chain by longform";
    }
  }
  get cmd_longform4notechain() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6761\uFF0C\u91CD\u7F6ELongForm\u573A\u666F";
    } else {
      return "Reset longform scenes by note chain";
    }
  }
  get cmd_sort_file_explorer() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6392\u5E8F";
    } else {
      return "Sort file explorer by note chain";
    }
  }
  get cmd_open_notes_smarter() {
    if (this.language == "zh") {
      return "\u667A\u80FD\u6253\u5F00\u6587\u4EF6";
    } else {
      return "Open note smarter";
    }
  }
  get cmd_open_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6";
    } else {
      return "Open note";
    }
  }
  get cmd_open_prev_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Open prev note";
    }
  }
  get chain_move_up_node() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Move node up";
    }
  }
  get chain_move_down_node() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Move node down";
    }
  }
  get cmd_open_next_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Open next note";
    }
  }
  get cmd_reveal_note() {
    if (this.language == "zh") {
      return "\u5B9A\u4F4D\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Reveal current file in navigation";
    }
  }
  get cmd_open_and_reveal_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u5E76\u5B9A\u4F4D\u7B14\u8BB0";
    } else {
      return "Open and reveal note";
    }
  }
  get cmd_open_prev_note_of_right_leaf() {
    if (this.language == "zh") {
      return "\u53F3\u4FA7\u9875\u9762\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Open prev note of right leaf";
    }
  }
  get cmd_open_next_note_of_right_leaf() {
    if (this.language == "zh") {
      return "\u53F3\u4FA7\u9875\u9762\u6253\u5F00\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Open next note of right leaf";
    }
  }
  get cmd_execute_template_modal() {
    if (this.language == "zh") {
      return "\u6267\u884C\u811A\u672C\u7B14\u8BB0";
    } else {
      return "Execute Templater modal";
    }
  }
  get cmd_toogle_css_block_in_note() {
    if (this.language == "zh") {
      return "\u542F\u7528/\u5173\u95ED css \u4EE3\u7801\u5757";
    } else {
      return "Toogle css block in note";
    }
  }
  get cmd_set_frontmatter() {
    if (this.language == "zh") {
      return "\u6240\u9009\u7B14\u8BB0\u8BBE\u7F6E\u5C5E\u6027";
    } else {
      return "Set fronmatter for selected notes";
    }
  }
  get cmd_move_next_level() {
    if (this.language == "zh") {
      return "\u63D0\u9AD8\u7F29\u8FDB\u5C42\u7EA7";
    } else {
      return "Increase the indentation level";
    }
  }
  get cmd_move_none_level() {
    if (this.language == "zh") {
      return "\u5220\u9664\u7F29\u8FDB\u5C42\u7EA7";
    } else {
      return "Remove the indentation level";
    }
  }
  get cmd_move_prev_level() {
    if (this.language == "zh") {
      return "\u964D\u4F4E\u7F29\u8FDB\u5C42\u7EA7";
    } else {
      return "Decrease the indentation level";
    }
  }
  get filemenu_create_next_note() {
    if (this.language == "zh") {
      return "\u521B\u5EFA\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Create next note";
    }
  }
  get filemenu_move_as_next_note() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u4E3A\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Move as next note";
    }
  }
  get filemenu_move_as_next_notes() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u4E3A\u540E\u7F6E\u7B14\u8BB0\uFF08\u9009\u4E2D\u7B14\u8BB0\uFF09";
    } else {
      return "Move as next notes(selected)";
    }
  }
  get clear_inlinks() {
    if (this.language == "zh") {
      return "\u6E05\u7406\u7B14\u8BB0\u5165\u94FE";
    } else {
      return "Clear inlinks of current file";
    }
  }
  get move_file_to_another_folder() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u5F53\u524D\u6587\u4EF6";
    } else {
      return "Move current file to another folder";
    }
  }
  get replace_notes_with_regx() {
    if (this.language == "zh") {
      return "\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u7B14\u8BB0\u5185\u5BB9";
    } else {
      return "Replace by regex";
    }
  }
  get chain_insert_node() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u8282\u70B9";
    } else {
      return "Insert node of chain";
    }
  }
  get chain_set_seq_note() {
    if (this.language == "zh") {
      return "\u91CD\u5851\u5F53\u524D\u6587\u4EF6\u5939\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Rebuild the chain of current folder";
    }
  }
  get create_new_note() {
    if (this.language == "zh") {
      return "\u521B\u5EFA\u65B0\u7B14\u8BB0";
    } else {
      return "Create new note";
    }
  }
  get setting_isSortFileExplorer() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6761\u6392\u5E8F\u76EE\u5F55";
    } else {
      return "Sort by chain in file explorer?";
    }
  }
  get setting_isFolderFirst() {
    if (this.language == "zh") {
      return "\u6392\u5E8F\u65F6\u76EE\u5F55\u65F6\u6587\u4EF6\u5939\u4F18\u5148\uFF1F";
    } else {
      return "Sort folder first in file explorer?";
    }
  }
  get setting_PrevChain() {
    if (this.language == "zh") {
      return "\u524D\u7F6E\u7B14\u8BB0\u6570\u91CF\uFF1F";
    } else {
      return "Number of prev notes to show?";
    }
  }
  get setting_NextChain() {
    if (this.language == "zh") {
      return "\u540E\u7F6E\u7B14\u8BB0\u6570\u91CF\uFF1F";
    } else {
      return "Number of next notes to show?";
    }
  }
  get setting_suggesterNotesMode() {
    if (this.language == "zh") {
      return `${this.chain_insert_node}\uFF1A\u9ED8\u8BA4\u6A21\u5F0F`;
    } else {
      return `${this.chain_insert_node}:Default mode`;
    }
  }
  get setting_auto_notechain() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u81EA\u52A8\u91CD\u5851\u6587\u4EF6\u5939\u7B14\u8BB0\u94FE\uFF1F";
    } else {
      return "Auto build notechain of folder while open new file?";
    }
  }
  get setting_refreshDataView() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u5237\u65B0Dataview\u89C6\u56FE\uFF1F";
    } else {
      return "Refresh dataview while open new file?";
    }
  }
  get setting_refreshTasks() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u5237\u65B0Tasks\u89C6\u56FE\uFF1F";
    } else {
      return "Refresh tasks while open new file?";
    }
  }
  get setting_wordcout() {
    if (this.language == "zh") {
      return "\u7EDF\u8BA1\u6BCF\u65E5\u5B57\u6570";
    } else {
      return "Register daily word count?";
    }
  }
  get setting_avata() {
    if (this.language == "zh") {
      return "\u5934\u50CF";
    } else {
      return "Avata";
    }
  }
  get setting_wordcout_xfolder() {
    if (this.language == "zh") {
      return "\u8DF3\u8FC7\u4EE5\u4E0B\u76EE\u5F55";
    } else {
      return "Ignore these folders";
    }
  }
  get setting_notice_while_modify_chain() {
    if (this.language == "zh") {
      return "\u4FEE\u6539\u7B14\u8BB0\u94FE\u65F6\u663E\u793A\u901A\u77E5\uFF1F";
    } else {
      return "Notice while modify note chain?";
    }
  }
  get setting_field_of_display_text() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5217\u8868\u663E\u793A\u6587\u4EF6\u540D";
    } else {
      return "Display text for notes in file-explorer?";
    }
  }
  get setting_confluence_tab_format() {
    if (this.language == "zh") {
      return "\u4F7F\u7528Confluence\u7F29\u8FDB\u683C\u5F0F";
    } else {
      return "Use confluence indentation format";
    }
  }
  get setting_field_of_background_color() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5217\u8868\u5143\u7D20\u98CE\u683C";
    } else {
      return "File-item style for notes in file-explorer?";
    }
  }
  get item_insert_suggester() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u6A21\u5F0F\uFF08\u76F8\u5BF9\u4E8E\u951A\u70B9\uFF09";
    } else {
      return "Insert mode(relate to anchor).";
    }
  }
  get item_insert_node_after() {
    if (this.language == "zh") {
      return "\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Next note";
    }
  }
  get item_insert_node_before() {
    if (this.language == "zh") {
      return "\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Prev note";
    }
  }
  get item_insert_node_as_head() {
    if (this.language == "zh") {
      return "\u94FE\u5934";
    } else {
      return "Head of chain";
    }
  }
  get item_insert_node_as_tail() {
    if (this.language == "zh") {
      return "\u94FE\u5C3E";
    } else {
      return "Tail of thain";
    }
  }
  get item_insert_folder_after() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5939\u540E\u7F6E";
    } else {
      return "Folder as next";
    }
  }
  get item_get_brothers() {
    if (this.language == "zh") {
      return "\u540C\u7EA7\u7B14\u8BB0";
    } else {
      return "Notes in same folder";
    }
  }
  get item_same_folder() {
    if (this.language == "zh") {
      return "\u540C\u7EA7\u7B14\u8BB0+\u5B50\u76EE\u5F55";
    } else {
      return "Notes in same folder(recursive)";
    }
  }
  get item_inlinks_outlinks() {
    if (this.language == "zh") {
      return "\u51FA\u94FE+\u5165\u94FE";
    } else {
      return "outLinks + inLinks";
    }
  }
  get item_inlins() {
    if (this.language == "zh") {
      return "\u5165\u94FE";
    } else {
      return "inlinks";
    }
  }
  get item_outlinks() {
    if (this.language == "zh") {
      return "\u51FA\u94FE";
    } else {
      return "outlinks";
    }
  }
  get item_all_noes() {
    if (this.language == "zh") {
      return "\u6240\u6709\u7B14\u8BB0";
    } else {
      return "All notes";
    }
  }
  get item_recent() {
    if (this.language == "zh") {
      return "\u8FD1\u671F\u7B14\u8BB0";
    } else {
      return "Recent";
    }
  }
  get item_uncle_notes() {
    if (this.language == "zh") {
      return "\u4E0A\u7EA7\u7B14\u8BB0";
    } else {
      return "Notes in grandpa folder";
    }
  }
  get item_notechain() {
    if (this.language == "zh") {
      return "\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Note chain";
    }
  }
  get item_currentnote() {
    if (this.language == "zh") {
      return "\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Current note";
    }
  }
  get item_chain_insert_node_after() {
    if (this.language == "zh") {
      return "\u6DFB\u52A0\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Create next note";
    }
  }
  get item_chain_insert_node_as_tail() {
    if (this.language == "zh") {
      return "\u94FE\u5C3E\u6DFB\u52A0\u7B14\u8BB0";
    } else {
      return "Create tail note";
    }
  }
  get item_chain_insert_node_before() {
    if (this.language == "zh") {
      return "\u6DFB\u52A0\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Create prev note";
    }
  }
  get item_chain_insert_node_as_head() {
    if (this.language == "zh") {
      return "\u94FE\u5934\u6DFB\u52A0\u7B14\u8BB0";
    } else {
      return "Create head note";
    }
  }
  get item_item_chain_insert_null() {
    if (this.language == "zh") {
      return "\u65E0\u94FE\u63A5";
    } else {
      return "Create note not in chain";
    }
  }
  get prompt_notename() {
    if (this.language == "zh") {
      return "\u8F93\u5165\u7B14\u8BB0\u540D";
    } else {
      return "Input note name";
    }
  }
};
var strings = new Strings();

// src/WordCount.ts
var import_obsidian6 = require("obsidian");
var WordCount = class {
  constructor(plugin, app) {
    this.plugin = plugin;
    this.app = app;
    this.nretry = 100;
    this.register();
  }
  filter(tfile) {
    var _a;
    if (!tfile) {
      return false;
    }
    if (tfile.deleted) {
      return false;
    }
    if (tfile.extension != "md") {
      return false;
    }
    let xfolders = this.plugin.settings.wordcountxfolder.split("\n").filter((x) => x != "");
    for (let item of xfolders) {
      if (tfile.path.startsWith(item)) {
        return false;
      } else if (item == "/") {
        if (((_a = tfile.parent) == null ? void 0 : _a.path) == "/") {
          return false;
        }
      }
    }
    return true;
  }
  // 统计字数
  count_words(ctx, ignore = /[\s!"#$%&'()*+,./:;<=>?@[\]^_`{|}，。！？【】、；：“”‘’《》（）［］—…￥]/g) {
    let N = ctx.replace(ignore, "").length;
    let enregex = /[a-zA-Z0-9-]+/g;
    let matches = ctx.match(enregex);
    if (matches) {
      let elen = 0;
      matches.forEach((x) => elen = elen + x.length);
      N = N - elen + matches.length;
    }
    return N;
  }
  async set_mtime_value(tfile, key, val) {
    var _a, _b;
    let activeView = this.app.workspace.getActiveViewOfType(import_obsidian6.MarkdownView);
    let editorState = {};
    if (activeView && activeView.file === tfile) {
      let editor = activeView.editor;
      if (editor) {
        editorState.cursor = editor.getCursor();
        editorState.selection = editor.getSelection();
        editorState.sanchor = editor.getCursor("anchor");
        editorState.shead = editor.getCursor("head");
        editorState.scrollInfo = editor.getScrollInfo();
      }
    }
    let aline = ((_a = editorState == null ? void 0 : editorState.cursor) == null ? void 0 : _a.line) !== void 0 ? (_b = activeView == null ? void 0 : activeView.editor) == null ? void 0 : _b.getLine(editorState.cursor.line) : void 0;
    if (aline && aline.startsWith("|") && aline.endsWith("|")) {
      return;
    }
    await this.app.fileManager.processFrontMatter(
      tfile,
      (fm) => {
        let t = import_obsidian6.moment.unix(tfile.stat.mtime / 1e3);
        let mtime = t.format("YYYY-MM-DD");
        if (fm[key] == null) {
          if (val > 0) {
            fm[key] = {};
            if (mtime == (0, import_obsidian6.moment)().format("YYYY-MM-DD") && mtime != import_obsidian6.moment.unix(tfile.stat.ctime / 1e3).format("YYYY-MM-DD")) {
              fm[key][t.add(-1, "days").format("YYYY-MM-DD")] = val;
            } else {
              fm[key][mtime] = val;
            }
          }
        } else {
          let ts = Object.keys(fm[key]).sort((b, a) => a.localeCompare(b)).filter((x) => !(x == mtime));
          if (ts.length == 0) {
            if (val > 0) {
              fm[key][mtime] = val;
            } else if (fm[key][mtime]) {
              fm[key][mtime] = val;
            }
          } else {
            if (val - fm[key][ts[0]] != 0) {
              fm[key][mtime] = val;
            } else if (fm[key][mtime]) {
              delete fm[key][mtime];
            }
          }
        }
      }
    );
    if (activeView && activeView.file === tfile) {
      let editor = activeView.editor;
      if (editor) {
        if (editorState.scrollInfo) {
          editor.scrollTo(editorState.scrollInfo.left, editorState.scrollInfo.top);
        }
        if (editorState.selection && editorState.sanchor && editorState.shead) {
          try {
            editor.setSelection(editorState.sanchor, editorState.shead);
          } catch (error) {
            new import_obsidian6.Notice(`Error setting selection:${error}`, 3e3);
          }
        } else if (editorState.cursor) {
          editor.setCursor(editorState.cursor);
        }
      }
    }
  }
  get_new_words(tfile, day = (0, import_obsidian6.moment)().format("YYYY-MM-DD")) {
    var _a;
    let meta = this.app.metadataCache.getFileCache(tfile);
    let values = (_a = meta == null ? void 0 : meta.frontmatter) == null ? void 0 : _a.words;
    if (values) {
      let keys = Object.keys(values).sort((a, b) => a.localeCompare(b));
      let idx = keys.indexOf(day);
      if (idx < 0) {
        return 0;
      } else if (idx == 0) {
        return values[day];
      } else {
        return values[day] - values[keys[idx - 1]];
      }
    }
  }
  async update_word_count(tfile) {
    if (!this.filter(tfile)) {
      return;
    }
    let ctx = await this.app.vault.cachedRead(tfile);
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (mcache == null ? void 0 : mcache.frontmatterPosition) {
      ctx = ctx.slice(mcache.frontmatterPosition.end.offset);
    }
    let N = this.count_words(ctx);
    await this.set_mtime_value(tfile, "words", N);
  }
  check_frontmatter(tfile, kv) {
    try {
      if (!tfile) {
        return false;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        for (let k in kv) {
          if (!(meta.frontmatter[k] == kv[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  async wait_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await sleep(50);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  async update_word_count_of_vault() {
    let tfiles = this.app.vault.getMarkdownFiles().filter((x) => this.filter(x));
    let i = 0;
    for (let tfile of tfiles) {
      new import_obsidian6.Notice(`${i}/${tfiles.length}:${tfile.name}`, 3e3);
      await this.update_word_count(tfile);
      i = i + 1;
    }
  }
  register() {
    if (this.plugin.settings.wordcout) {
      this.regeister_editor_change();
      this.regeister_active_leaf_change();
    }
  }
  regeister_editor_change() {
    this.plugin.registerEvent(
      this.app.workspace.on("editor-change", async (editor, info) => {
        var _a;
        if (((_a = info.file) == null ? void 0 : _a.extension) != "md") {
          return;
        }
        if (this.timerId !== null) {
          clearTimeout(this.timerId);
        }
        if (info.file) {
          this.timerId = setTimeout(() => {
            this.update_word_count(info.file);
          }, 3e3);
        }
      })
    );
  }
  regeister_active_leaf_change() {
    this.plugin.registerEvent(
      this.app.workspace.on("active-leaf-change", async (leaf) => {
        var _a, _b;
        let tfile = (leaf == null ? void 0 : leaf.view).file;
        if (!(leaf == null ? void 0 : leaf.view)) {
          return;
        }
        if (!(((_b = (_a = leaf.view) == null ? void 0 : _a.file) == null ? void 0 : _b.extension) == "md")) {
          return;
        }
        await this.update_word_count(tfile);
        if (this.curr_active_file == null) {
          this.curr_active_file = tfile;
          return;
        }
        if (this.curr_active_file != tfile) {
          await this.update_word_count(this.curr_active_file);
          this.curr_active_file = tfile;
        }
      })
    );
  }
  get_words_of_tfiles() {
    return this.plugin.chain.get_all_tfiles().map(
      (x) => this.plugin.editor.get_frontmatter(x, "words")
    ).filter((x) => x);
  }
  sum_words_of_tifles(files, begt, endt) {
    if (typeof begt == "number") {
      begt = (0, import_obsidian6.moment)().add(-begt, "days").format("YYYY-MM-DD");
    }
    if (typeof endt == "number") {
      endt = (0, import_obsidian6.moment)().add(-endt, "days").format("YYYY-MM-DD");
    }
    let startDate = new Date(begt);
    let endDate = new Date(endt);
    let dailyWordCounts = {};
    for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {
      let dateStr = date.toISOString().split("T")[0];
      dailyWordCounts[dateStr] = 0;
    }
    files.forEach((file) => {
      let lastWordCount = 0;
      let earliestDate = new Date(Object.keys(file).sort()[0]);
      if (earliestDate < startDate) {
        lastWordCount = file[earliestDate.toISOString().split("T")[0]];
      }
      for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {
        let dateStr = date.toISOString().split("T")[0];
        if (file.hasOwnProperty(dateStr)) {
          lastWordCount = file[dateStr];
        }
        dailyWordCounts[dateStr] += lastWordCount;
      }
    });
    return dailyWordCounts;
  }
  diff_words_of_tifles(dailyWordCounts, first_as_zero = true) {
    let dailyNewWordCounts = {};
    let previousTotal = 0;
    let first = "";
    for (let date in dailyWordCounts) {
      if (first === "") {
        first = date;
      }
      let currentTotal = dailyWordCounts[date];
      dailyNewWordCounts[date] = currentTotal - previousTotal;
      previousTotal = currentTotal;
    }
    if (first_as_zero && first !== "") {
      dailyNewWordCounts[first] = 0;
    }
    return dailyNewWordCounts;
  }
};

// src/graph.ts
var import_obsidian7 = require("obsidian");
var NoteNode = class {
  constructor(tfile, plugin) {
    this.tfile = tfile;
    this.note2id = {};
    this.id = 0;
    this.plugin = plugin;
  }
  // 返回 IDXXXX
  get_id(tfile) {
    if (tfile.basename in this.note2id) {
      return this.note2id[tfile.basename];
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[tfile.basename] = newId;
    this.id = this.id + 1;
    return newId;
  }
  // 返回IDXXXX["tfile.basename"]
  get_node(tfile) {
    let id = this.get_id(tfile);
    return `${id}("${tfile.basename}")`;
  }
  get_mehrmaid_node(node, avata = "") {
    if (node in this.note2id) {
      return this.note2id[node];
    }
    if (node.startsWith("subgraph ")) {
      return node.slice("subgraph ".length);
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[node] = newId;
    this.id = this.id + 1;
    let tfile = this.plugin.chain.get_tfile(node);
    if (tfile) {
      if (avata == "") {
        avata = this.plugin.settings.avata;
      }
      let meta = this.plugin.editor.get_frontmatter(tfile, avata);
      if (meta) {
        if (meta.startsWith("#")) {
          node = `![[${tfile.basename}${meta}|no-head]]`;
        } else {
          node = meta.replace("SELF", `[[${tfile.basename}]]`);
        }
      }
    }
    return `${newId}("${node}")`;
  }
  get_canvas_node(node) {
    if (node in this.note2id) {
      return this.note2id[node];
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[node] = newId;
    this.id = this.id + 1;
    return newId;
  }
  notes2class() {
    let msg = "\n";
    for (let tfile in this.note2id) {
      msg = msg + `	class ${this.note2id[tfile]} internal-link;
`;
    }
    return msg;
  }
};
var MermaidGraph = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = plugin.editor;
  }
  get_note_node(tfile) {
    let node = new NoteNode(tfile, this.plugin);
    return node;
  }
  subgraph_chain(node, tfiles, subgraph = "", line = "<-->") {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let i = 0;
    while (i < items.length - 1) {
      let prev = node.get_node(items[i]);
      let next = node.get_node(items[i + 1]);
      msg = msg + `${stab}${prev}${line}${next}
`;
      i = i + 1;
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  subgraph_links(node, tfiles, subgraph = "", line = "-->", tfiles_first = false) {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let i = 0;
    let sid = node.get_node(node.tfile);
    while (i < items.length) {
      let id = node.get_node(items[i]);
      if (tfiles_first) {
        msg = msg + `${stab}${id}${line}${sid}
`;
      } else {
        msg = msg + `${stab}${sid}${line}${id}
`;
      }
      i = i + 1;
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  // [src,dst,io]
  edges_of_tfiles(tfiles, merge_inout = true) {
    let inlinks = {};
    let outlinks = {};
    for (let tfile of tfiles) {
      outlinks[tfiles.indexOf(tfile)] = this.plugin.chain.get_outlinks(tfile, true);
      inlinks[tfiles.indexOf(tfile)] = this.plugin.chain.get_inlinks(tfile, true);
    }
    let edges = [];
    for (let tfile of tfiles) {
      let i = tfiles.indexOf(tfile);
      for (let outlink of outlinks[i]) {
        if (tfiles.contains(outlink)) {
          if (tfiles.indexOf(outlink) <= i) {
            continue;
          }
          if (merge_inout) {
            if (inlinks[i].contains(outlink)) {
              edges.push([tfile, outlink, true]);
            } else {
              edges.push([tfile, outlink, false]);
            }
          } else {
            edges.push([tfile, outlink, false]);
          }
        }
      }
      for (let inlink of inlinks[i]) {
        if (tfiles.contains(inlink)) {
          if (tfiles.indexOf(inlink) <= i) {
            continue;
          }
          if (merge_inout) {
            if (!outlinks[i].contains(inlink)) {
              edges.push([inlink, tfile, false]);
            }
          } else {
            edges.push([inlink, tfile, false]);
          }
        }
      }
    }
    return edges;
  }
  subgraph_cross(node, tfiles, subgraph = "", line = "-->", tfiles_first = false) {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let edges = this.edges_of_tfiles(tfiles);
    for (let edge of edges) {
      let sid = node.get_node(edge[0]);
      let did = node.get_node(edge[1]);
      if (edge[2]) {
        msg = msg + `${stab}${sid}<-.->${did}
`;
      } else {
        msg = msg + `${stab}${sid}-.->${did}
`;
      }
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  get_flowchart(tfile, N = 2, c_chain = "#F05454", c_inlink = "#776B5D", c_outlink = "#222831", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let node = new NoteNode(tfile, this.plugin);
    let nc = this.plugin;
    let msg = "```mermaid\nflowchart TD\n";
    let chain = nc.chain.get_chain(tfile, N, N);
    msg = msg + this.subgraph_chain(node, chain, "\u7B14\u8BB0\u94FE");
    let inlinks = nc.chain.get_inlinks(tfile, true).filter((x) => !chain.contains(x));
    let outlinks = nc.chain.get_outlinks(tfile, true).filter((x) => !chain.contains(x));
    msg = msg + this.subgraph_links(node, inlinks, "\u5165\u94FE", "-->", true);
    msg = msg + this.subgraph_links(node, outlinks, "\u51FA\u94FE", "-->");
    msg = msg + node.notes2class();
    msg = msg + [
      "classDef \u7B14\u8BB0\u94FEC fill:" + c_chain,
      "classDef \u5165\u94FEC fill:" + c_inlink,
      "classDef \u51FA\u94FEC fill:" + c_outlink,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}`,
      "class \u7B14\u8BB0\u94FE \u7B14\u8BB0\u94FEC",
      "class \u5165\u94FE \u5165\u94FEC",
      "class \u51FA\u94FE \u51FA\u94FEC",
      ""
    ].join("\n");
    msg = msg + "```";
    msg = msg.replace(
      `class ${node.get_id(tfile)} internal-link;`,
      `class ${node.get_id(tfile)} Anchor;`
    );
    return msg;
  }
  flowchart_folder(tfile, subgraph = "Folder", color = "#F05454", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let tfiles = this.plugin.chain.get_brothers(tfile);
    return this.flowchart_cross(tfile, tfiles, subgraph, color, c_anchor);
  }
  flowchart_notechain(tfile, N = 10, subgraph = "NoteChain", color = "#F05454", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let tfiles = this.plugin.chain.get_chain(tfile, N, N);
    return this.flowchart_cross(tfile, tfiles, subgraph, color, c_anchor);
  }
  flowchart_cross(anchor, tfiles, subgraph = "", color = "#F05454", c_anchor = "#40A578") {
    let node = new NoteNode(tfiles[0], this.plugin);
    let msg = "```mermaid\nflowchart TD\n";
    msg = msg + this.subgraph_cross(node, tfiles, subgraph);
    msg = msg + node.notes2class();
    msg = msg + [
      `classDef ${subgraph}C fill:${color}`,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}`,
      `class ${subgraph} ${subgraph}C`,
      ""
    ].join("\n");
    msg = msg + "```";
    msg = msg.replace(
      `class ${node.get_id(anchor)} internal-link;`,
      `class ${node.get_id(anchor)} Anchor;`
    );
    return msg;
  }
  get_subgrah_names(group_name, tfiles, name = "group") {
    let nc = this.plugin;
    let items = {};
    for (let cfile of tfiles) {
      let cgroup = nc.editor.get_frontmatter(cfile, name);
      if (cgroup && Array.isArray(cgroup)) {
        for (let cg of cgroup) {
          let tmp = cg.split("/");
          if (tmp[0] == group_name) {
            if (tmp.length == 1) {
              items[tfiles.indexOf(cfile)] = "";
            } else {
              items[tfiles.indexOf(cfile)] = tmp[1];
            }
            break;
          }
        }
      }
    }
    return items;
  }
  flowchart_groups(anchor, name = "group") {
    let nc = this.plugin;
    let tfiles = nc.chain.get_brothers(anchor);
    tfiles = nc.chain.get_group_links(tfiles, 1);
    let node = nc.mermaid.get_note_node(anchor);
    let group = nc.editor.get_frontmatter(anchor, name);
    if (!group || !Array.isArray(group)) {
      return [];
    }
    let res = [];
    for (let g of group) {
      g = g.split("/")[0];
      let items = this.get_subgrah_names(g, tfiles, name);
      let subs = new Set(Object.values(items));
      let msg = `\`\`\`mermaid
---
title: ${g}
---
flowchart TD
`;
      for (let sub of subs) {
        if (sub == "") {
          for (let idx in items) {
            if (items[idx] == sub) {
              msg = msg + "\n" + node.get_node(tfiles[idx]);
            }
          }
        } else {
          msg = msg + "\nsubgraph " + sub + "\n";
          for (let idx in items) {
            if (items[idx] == sub) {
              msg = msg + "\n	" + node.get_node(tfiles[idx]);
            }
          }
          msg = msg + "\nend";
        }
      }
      msg = msg + "\n" + this.subgraph_cross(node, Object.keys(items).map((x) => tfiles[x]));
      msg = msg + "\n" + node.notes2class();
      msg = msg + "\n```";
      res.push(msg);
    }
    return res;
  }
  get_relationship_graph(tfile, N = 1, key = "link", show_all_node = true) {
    let nc = this.plugin;
    let node = new NoteNode(tfile, this.plugin);
    let msg = "```mermaid\nflowchart TD\n";
    let tfiles = nc.chain.get_group_links([tfile], N);
    if (show_all_node) {
      for (let tfile2 of tfiles) {
        msg += `${node.get_node(tfile2)}
`;
      }
    }
    let processedFiles = /* @__PURE__ */ new Set();
    for (let currentFile of tfiles) {
      if (processedFiles.has(currentFile))
        continue;
      processedFiles.add(currentFile);
      let links = nc.editor.get_frontmatter(currentFile, key);
      if (links) {
        for (let [relation, linkedNote] of Object.entries(links)) {
          if (linkedNote instanceof Array) {
            for (let item of linkedNote) {
              let linkedTFile = nc.chain.get_tfile(item);
              if (linkedTFile instanceof import_obsidian7.TFile) {
                msg += `	${node.get_node(currentFile)} -->|${relation}| ${node.get_node(linkedTFile)}
`;
              }
            }
          } else {
            let linkedTFile = nc.chain.get_tfile(linkedNote);
            if (linkedTFile instanceof import_obsidian7.TFile) {
              msg += `	${node.get_node(currentFile)} -->|${relation}| ${node.get_node(linkedTFile)}
`;
            }
          }
        }
      }
    }
    msg = msg + node.notes2class();
    msg += "```";
    let c_anchor = "#40A578";
    msg = msg.replace(
      `class ${node.get_id(tfile)} internal-link;`,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}
class ${node.get_id(tfile)} Anchor;`
    );
    return msg;
  }
  get_mehrmaid_graph(tfile, N = 1, key = "mermaid", c_anchor = "#d4c4b7", field = "avata") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let nc = this.plugin;
    let node = new NoteNode(tfile, this.plugin);
    let msg = "```mehrmaid\nflowchart TD\n";
    let tfiles;
    if (N == -1) {
      tfiles = nc.chain.get_brothers(tfile);
    } else {
      tfiles = nc.chain.get_group_links([tfile], N);
    }
    tfiles = nc.chain.sort_tfiles_by_chain(tfiles);
    for (let currentFile of tfiles) {
      let src2 = `[[${currentFile.basename}]]`;
      let links = nc.editor.get_frontmatter(currentFile, key);
      if (links && Array.isArray(links)) {
        for (let link of links) {
          if (link["edge"] != null && link["node"] != null) {
            let cedge = link["edge"];
            let cnode = link["node"];
            if (cedge == "") {
              cedge = "";
            } else {
              cedge = `|"${cedge}"|`;
            }
            let line = "-->";
            if (link["line"]) {
              line = link["line"];
            }
            if (line[0] == "<" && line[line.length - 1] != ">") {
              line = line.slice(1) + ">";
              if (cnode instanceof Array) {
                for (let item of cnode) {
                  msg += `${node.get_mehrmaid_node(item, field)} ${line} ${cedge} ${node.get_mehrmaid_node(src2, field)}
`;
                }
              } else {
                msg += `${node.get_mehrmaid_node(cnode, field)} ${line} ${cedge} ${node.get_mehrmaid_node(src2, field)}
`;
              }
            } else {
              if (cnode instanceof Array) {
                for (let item of cnode) {
                  msg += `${node.get_mehrmaid_node(src2, field)} ${line} ${cedge} ${node.get_mehrmaid_node(item, field)}
`;
                }
              } else {
                msg += `${node.get_mehrmaid_node(src2, field)} ${line} ${cedge} ${node.get_mehrmaid_node(cnode, field)}
`;
              }
            }
          } else {
            if (link["group"]) {
              msg += `subgraph ${link["group"]}
	${node.get_mehrmaid_node(src2, field)}
end
`;
              if (link["color"]) {
                msg += `classDef ${link["group"]}Class fill:${link["color"]}
`;
                msg += `class ${link["group"]} ${link["group"]}Class
`;
              }
            }
          }
        }
      }
    }
    let src = `[[${tfile.basename}]]`;
    msg += `${node.get_mehrmaid_node(src)}
`;
    if (c_anchor) {
      msg += `classDef Anchor fill:${c_anchor},stoke:${c_anchor}
class ${node.get_mehrmaid_node(src)} Anchor;
`;
    }
    msg += "```";
    return msg;
  }
};
var CanvasGraph = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = plugin.editor;
  }
  gen_random_string(length) {
    let characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let randomString = "";
    for (let i = 0; i < length; i++) {
      let randomIndex = Math.floor(Math.random() * characters.length);
      randomString += characters.charAt(randomIndex);
    }
    return randomString;
  }
  new_note_node(tfile) {
    let node = new NoteNode(tfile, this.plugin);
    return node;
  }
  gen_node(NN, tfile, x = 0, y = 0, width = 400, height = 400) {
    let rsp = {};
    if (typeof tfile == "string") {
      rsp["type"] = "text";
      rsp["text"] = tfile;
      rsp["id"] = NN.get_canvas_node(rsp["text"]);
    } else {
      rsp["type"] = "file";
      if (tfile instanceof import_obsidian7.TFolder) {
        rsp["file"] = tfile.path + "/" + tfile.name + ".md";
      } else {
        rsp["file"] = tfile.path;
      }
      rsp["id"] = NN.get_canvas_node(rsp["file"]);
    }
    rsp["x"] = x;
    rsp["y"] = y;
    rsp["height"] = height;
    rsp["width"] = width;
    return rsp;
  }
  rc_of_sequence(i, r, c) {
    let row = Math.floor((i - 1) / c) + 1;
    let col = row % 2 === 1 ? (i - 1) % c + 1 : c - (i - 1) % c;
    return [row, col];
  }
  async note_to_canvas(tfile, nrow = 1, ncol = 1, width = 400, height = 400, wmarin = 100, hmargin = 100, write = true) {
    let content = await this.plugin.app.vault.read(tfile);
    let titles = [...content.matchAll(/^(#+)\s+(.+)/gm)];
    if (nrow * ncol < titles.length) {
      ncol = Math.ceil(titles.length / nrow);
    }
    let nodes = [];
    let i = 0;
    let NN = this.new_note_node(tfile);
    for (let match of titles) {
      i = i + 1;
      let title = `![[${tfile.basename}#${match[2]}]]`;
      let pos = this.rc_of_sequence(i, nrow, ncol);
      let node = this.gen_node(
        NN = NN,
        title,
        pos[1] * (width + wmarin),
        pos[0] * (height + hmargin),
        width = width,
        height = height
      );
      nodes.push(node);
    }
    let res = {
      "nodes": nodes,
      "edges": []
    };
    if (write) {
      let path = this.path_md2canvas(tfile);
      await this.write_canvas_file(res, path);
    }
    return res;
  }
  async write_canvas_file(canvas, path) {
    let msg = JSON.stringify(canvas);
    let canvasFile = this.plugin.app.vault.getAbstractFileByPath(path);
    if (canvasFile) {
      await this.plugin.app.vault.modify(canvasFile, msg);
    } else {
      await this.plugin.app.vault.create(path, msg);
    }
  }
  path_md2canvas(tfile) {
    return tfile.path.replace(".md", ".canvas");
  }
};

// src/setting.ts
var import_obsidian8 = require("obsidian");
var DEFAULT_SETTINGS = {
  PrevChain: "10",
  NextChain: "10",
  field_of_display_text: "notechain.display",
  field_of_confluence_tab_format: "notechain.level",
  field_of_background_color: "notechain.style",
  auto_notechain: false,
  notice_while_modify_chain: false,
  refreshDataView: true,
  refreshTasks: true,
  isSortFileExplorer: true,
  isFolderFirst: true,
  suggesterNotesMode: "",
  wordcout: true,
  wordcountxfolder: "",
  modal_default_width: 800,
  modal_default_height: 600,
  avata: "avata"
};
var NCSettingTab = class extends import_obsidian8.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_isSortFileExplorer).addToggle(
      (text) => text.setValue(this.plugin.settings.isSortFileExplorer).onChange(async (value) => {
        this.plugin.settings.isSortFileExplorer = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.sort();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_isFolderFirst).addToggle(
      (text) => text.setValue(this.plugin.settings.isFolderFirst).onChange(async (value) => {
        this.plugin.settings.isFolderFirst = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.sort();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_PrevChain).addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_suggesterNotesMode).addDropdown((dropdown) => dropdown.addOption("item_get_brothers", this.plugin.strings.item_get_brothers).addOption("item_uncle_notes", this.plugin.strings.item_uncle_notes).addOption("item_notechain", this.plugin.strings.item_notechain).addOption("item_same_folder", this.plugin.strings.item_same_folder).addOption("item_inlinks_outlinks", this.plugin.strings.item_inlinks_outlinks).addOption("item_inlins", this.plugin.strings.item_inlins).addOption("item_outlinks", this.plugin.strings.item_outlinks).addOption("item_all_noes", this.plugin.strings.item_all_noes).addOption("item_recent", this.plugin.strings.item_recent).addOption("", "").setValue(this.plugin.settings.suggesterNotesMode).onChange(async (value) => {
      this.plugin.settings.suggesterNotesMode = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_NextChain).addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_auto_notechain).addToggle(
      (text) => text.setValue(this.plugin.settings.auto_notechain).onChange(async (value) => {
        this.plugin.settings.auto_notechain = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_field_of_display_text).addText((text) => text.setValue(this.plugin.settings.field_of_display_text).onChange(async (value) => {
      this.plugin.settings.field_of_display_text = value;
      this.plugin.explorer.set_display_text();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_confluence_tab_format).addText((text) => text.setValue(this.plugin.settings.field_of_confluence_tab_format).onChange(async (value) => {
      this.plugin.settings.field_of_confluence_tab_format = value;
      this.plugin.explorer.set_display_text();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_field_of_background_color).addText((text) => text.setValue(this.plugin.settings.field_of_background_color).onChange(async (value) => {
      this.plugin.settings.field_of_background_color = value;
      this.plugin.explorer.set_fileitem_style();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_notice_while_modify_chain).addToggle(
      (text) => text.setValue(this.plugin.settings.notice_while_modify_chain).onChange(async (value) => {
        this.plugin.settings.notice_while_modify_chain = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_refreshDataView).addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_refreshTasks).addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_wordcout).addToggle(
      (text) => text.setValue(this.plugin.settings.wordcout).onChange(async (value) => {
        this.plugin.settings.wordcout = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_wordcout_xfolder).addTextArea(
      (text) => text.setValue(this.plugin.settings.wordcountxfolder).onChange(async (value) => {
        this.plugin.settings.wordcountxfolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_avata).addTextArea(
      (text) => text.setValue(this.plugin.settings.avata).onChange(async (value) => {
        this.plugin.settings.avata = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/commands.ts
var import_obsidian9 = require("obsidian");
var cmd_longform2notechain = (plugin) => ({
  id: "longform2notechain",
  name: plugin.strings.cmd_longform2notechain,
  icon: "git-pull-request-create-arrow",
  callback: async () => {
    let curr = plugin.chain.current_note;
    if (curr == null) {
      return;
    }
    plugin.app.fileManager.processFrontMatter(
      curr,
      async (fm) => {
        if (curr == null) {
          return;
        }
        if (fm["longform"] == null) {
          return;
        }
        let scenes = plugin.utils.concat_array(fm.longform.scenes);
        let ignoredFiles = plugin.utils.concat_array(fm.longform.ignoredFiles);
        ignoredFiles = ignoredFiles.filter((f) => !scenes.contains(f));
        let notes = plugin.utils.concat_array([scenes, ignoredFiles]);
        notes = notes.map((f) => plugin.chain.get_tfile(f));
        if (curr.parent == null) {
          return;
        }
        ;
        let tfiles = plugin.chain.get_tfiles_of_folder(curr.parent).filter((f) => !notes.contains(f));
        notes = plugin.utils.concat_array([tfiles, notes]);
        await plugin.chain.chain_concat_tfiles(notes);
        plugin.explorer.sort();
      }
    );
  }
});
var cmd_longform4notechain = (plugin) => ({
  id: "longform4notechain",
  name: plugin.strings.cmd_longform4notechain,
  icon: "git-pull-request-draft",
  callback: async () => {
    let nc = plugin;
    let curr = plugin.chain.current_note;
    if (curr == null || curr.parent == null) {
      return;
    }
    let path = curr.parent.path + "/" + curr.parent.name + ".md";
    let dst = await nc.chain.get_tfile(path);
    if (dst == null) {
      dst = await plugin.app.vault.create(
        curr.parent.path + "/" + curr.parent.name + ".md",
        ""
      );
    }
    await nc.app.fileManager.processFrontMatter(
      dst,
      (fm) => {
        if (fm["longform"] == null) {
          fm["longform"] = {
            "format": "scenes",
            "title": dst.parent.name,
            "workflow": "Default Workflow",
            "sceneFolder": "/",
            "scenes": [],
            "ignoredFiles": []
          };
        }
      }
    );
    await plugin.app.fileManager.processFrontMatter(
      dst,
      (fm) => {
        if (dst == null) {
          return;
        }
        if (dst.parent == null) {
          return;
        }
        ;
        if (fm["longform"] == null) {
          return;
        }
        let notes = plugin.chain.get_tfiles_of_folder(dst.parent);
        notes = plugin.chain.sort_tfiles_by_chain(notes);
        fm.longform.scenes = notes.map((f) => f.basename);
      }
    );
    await nc.chain.open_note(dst);
  }
});
var cmd_sort_file_explorer = (plugin) => ({
  id: "sort_file_explorer",
  name: plugin.strings.cmd_sort_file_explorer,
  icon: "arrow-down-wide-narrow",
  callback: async () => {
    await plugin.explorer.sort(0, true);
  }
});
var cmd_open_notes_smarter = (plugin) => ({
  id: "open_notes_smarter",
  name: plugin.strings.cmd_open_notes_smarter,
  icon: "binoculars",
  callback: () => {
    plugin.open_note_smarter();
  }
});
var cmd_open_note = (plugin) => ({
  id: "suggestor_open_note",
  name: plugin.strings.cmd_open_note,
  icol: "square-arrow-out-up-right",
  callback: () => {
    plugin.chain.sugguster_open_note();
  }
});
var cmd_open_prev_note = (plugin) => ({
  id: "open_prev_notes",
  name: plugin.strings.cmd_open_prev_note,
  icon: "file-output",
  callback: () => {
    plugin.chain.open_prev_notes();
  }
});
var cmd_open_next_note = (plugin) => ({
  id: "open_next_notes",
  name: plugin.strings.cmd_open_next_note,
  icon: "file-input",
  callback: () => {
    plugin.chain.open_next_notes();
  }
});
var clear_inlinks = (plugin) => ({
  id: "clear_inlinks",
  name: plugin.strings.clear_inlinks,
  icon: "unlink",
  callback: () => {
    plugin.clear_inlinks();
  }
});
var move_file_to_another_folder = (plugin) => ({
  id: "move_file_to_another_folder",
  name: plugin.strings.move_file_to_another_folder,
  icon: "folder-tree",
  callback: () => {
    plugin.chain.cmd_move_file_to_another_folder();
  }
});
var replace_notes_with_regx = (plugin) => ({
  id: "replace_notes_with_regx",
  name: plugin.strings.replace_notes_with_regx,
  icon: "regex",
  callback: () => {
    plugin.replace_notes_with_regx();
  }
});
var chain_insert_node = (plugin) => ({
  id: "chain_insert_node",
  name: plugin.strings.chain_insert_node,
  icon: "git-branch-plus",
  callback: async () => {
    await plugin.cmd_chain_insert_node();
    await plugin.explorer.sort(500);
  }
});
var chain_set_seq_note = (plugin) => ({
  id: "chain_set_seq_note",
  name: plugin.strings.chain_set_seq_note,
  icon: "wind-arrow-down",
  callback: async () => {
    await plugin.chain.chain_suggester_tfiles();
    plugin.explorer.sort();
  }
});
var chain_move_up_node = (plugin) => ({
  id: "chain_move_up_node",
  name: plugin.strings.chain_move_up_node,
  icon: "arrow-up-from-line",
  callback: async () => {
    let tfile = plugin.chain.current_note;
    if (tfile) {
      let anchor = plugin.chain.get_prev_note(tfile);
      if (anchor) {
        await plugin.chain.chain_insert_node_before(
          tfile,
          anchor
        );
        await plugin.explorer.sort();
      }
    }
  }
});
var chain_move_down_node = (plugin) => ({
  id: "chain_move_donw_node",
  name: plugin.strings.chain_move_down_node,
  icon: "arrow-down-from-line",
  callback: async () => {
    let tfile = plugin.chain.current_note;
    if (tfile) {
      let anchor = plugin.chain.get_next_note(tfile);
      if (anchor) {
        await plugin.chain.chain_insert_node_after(
          tfile,
          anchor
        );
        await plugin.explorer.sort();
      }
    }
  }
});
var create_new_note = (plugin) => ({
  id: "create_new_note",
  name: plugin.strings.create_new_note,
  icon: "file-plus",
  callback: async () => {
    let targets = {};
    targets[plugin.strings.item_chain_insert_node_after] = "chain_insert_node_after";
    targets[plugin.strings.item_chain_insert_node_as_tail] = "chain_insert_node_as_tail";
    targets[plugin.strings.item_chain_insert_node_before] = "chain_insert_node_before";
    targets[plugin.strings.item_chain_insert_node_as_head] = "chain_insert_node_as_head";
    targets[plugin.strings.item_item_chain_insert_null] = "null";
    let target = await plugin.dialog_suggest(
      plugin.utils.array_prefix_id(Object.keys(targets)),
      Object.values(targets),
      true
    );
    if (!target) {
      return;
    }
    let name = await plugin.dialog_prompt(plugin.strings.prompt_notename);
    if (name) {
      let curr = plugin.chain.current_note;
      if (curr && curr.parent) {
        let path = curr.parent.path + "/" + name + ".md";
        let dst = await plugin.chain.get_tfile(path);
        if (dst == null) {
          dst = await plugin.app.vault.create(
            curr.parent.path + "/" + name + ".md",
            ""
          );
          if (!(target === "null")) {
            await plugin.chain[target](dst, curr);
            if (target == "chain_insert_node_after" || target == "chain_insert_node_before") {
              await plugin.editor.set_frontmatter_align_file(
                curr,
                dst,
                plugin.settings.field_of_confluence_tab_format
              );
            }
          }
          await plugin.chain.open_note(dst);
          await plugin.explorer.sort();
        }
      }
    }
  }
});
var cmd_reveal_note = (plugin) => ({
  id: "cmd_reveal_note",
  name: plugin.strings.cmd_reveal_note,
  icon: "locate",
  callback: async () => {
    let nc = plugin;
    let note = nc.chain.current_note;
    if (note) {
      await plugin.app.commands.executeCommandById("file-explorer:open");
      await nc.explorer.file_explorer.tree.setCollapseAll(true);
      await nc.explorer.file_explorer.revealInFolder(note);
      await sleep(100);
      let containerEl = nc.explorer.file_explorer.containerEl;
      let panel = containerEl.querySelector(".nav-files-container");
      let itemEl = containerEl.querySelector(`[data-path="${note.path}"]`);
      if (panel && itemEl && itemEl.offsetTop) {
        let xtop = panel.scrollTop + (itemEl.offsetTop - (panel.scrollTop + panel.clientHeight / 2));
        panel.scrollTo({ top: xtop, behavior: "smooth" });
      }
    }
  }
});
var cmd_open_and_reveal_note = (plugin) => ({
  id: "cmd_open_and_reveal_note",
  name: plugin.strings.cmd_open_and_reveal_note,
  icon: "map-pin-house",
  callback: async () => {
    let nc = plugin;
    let note = await nc.chain.sugguster_note();
    if (note) {
      await nc.chain.open_note(note);
      await nc.explorer.file_explorer.tree.setCollapseAll(true);
      await nc.explorer.file_explorer.revealInFolder(note);
      await sleep(100);
      let containerEl = nc.explorer.file_explorer.containerEl;
      let panel = containerEl.querySelector(".nav-files-container");
      let itemEl = containerEl.querySelector(`[data-path="${note.path}"]`);
      if (panel && itemEl && itemEl.offsetTop) {
        let xtop = panel.scrollTop + (itemEl.offsetTop - (panel.scrollTop + panel.clientHeight / 2));
        panel.scrollTo({ top: xtop, behavior: "smooth" });
      }
    }
  }
});
var cmd_open_prev_note_of_right_leaf = (plugin) => ({
  id: "cmd_open_prev_note_of_right_leaf",
  name: plugin.strings.cmd_open_prev_note_of_right_leaf,
  icon: "file-output",
  callback: async () => {
    let nc = plugin;
    let leaf = nc.chain.get_last_activate_leaf();
    if (leaf) {
      let prev = nc.chain.get_prev_note(leaf.view.file);
      if (prev) {
        await leaf.openFile(prev, { active: false });
        await nc.app.workspace.trigger("file-open", leaf);
      }
    }
  }
});
var cmd_open_next_note_of_right_leaf = (plugin) => ({
  id: "cmd_open_next_note_of_right_leaf",
  name: plugin.strings.cmd_open_next_note_of_right_leaf,
  icon: "file-input",
  callback: async () => {
    let nc = plugin;
    let leaf = nc.chain.get_last_activate_leaf();
    if (leaf) {
      let next = nc.chain.get_next_note(leaf.view.file);
      if (next) {
        await leaf.openFile(next, { active: false });
        await nc.app.workspace.trigger("file-open", leaf);
      }
    }
  }
});
var cmd_file_open_with_system_app = (plugin) => ({
  id: "cmd_file_open_with_system_app",
  name: plugin.strings.cmd_file_open_with_system_app,
  icon: "book-open",
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = await nc.chain.get_file_links(tfile);
      let keys = Object.keys(items);
      let key = await nc.dialog_suggest(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let item = items[key];
        let electron = require("electron");
        electron.remote.shell.openPath(item);
      }
    }
  }
});
var cmd_file_show_in_system_explorer = (plugin) => ({
  id: "cmd_file_show_in_system_explorer",
  name: plugin.strings.cmd_file_show_in_system_explorer,
  icon: "book-open-text",
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = await nc.chain.get_file_links(tfile);
      let keys = Object.keys(items);
      let key = await nc.dialog_suggest(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let item = items[key];
        let electron = require("electron");
        electron.remote.shell.showItemInFolder(item);
      }
    }
  }
});
var cmd_file_rename = (plugin) => ({
  id: "cmd_file_rename",
  name: plugin.strings.cmd_file_rename,
  icon: "pen-line",
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = {};
      let links = nc.chain.get_inlinks(tfile, false);
      for (let i of links) {
        if (i.extension === "md") {
          items["\u2139\uFE0F " + i.basename] = i;
        } else {
          items["\u2139\uFE0F " + i.name] = i;
        }
      }
      links = nc.chain.get_outlinks(tfile, false);
      for (let i of links) {
        if (i.extension === "md") {
          items["\u{1F17E}\uFE0F " + i.basename] = i;
        } else {
          items["\u{1F17E}\uFE0F " + i.name] = i;
        }
      }
      let keys = Object.keys(items);
      let key = await nc.dialog_suggest(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let note = items[key];
        let res = await nc.dialog_prompt("New Name", "", note.basename);
        if (res && !(res === note.basename) && !(res === "")) {
          let npath = note.parent.path + "/" + res + "." + note.extension;
          let dst = nc.chain.get_tfile(res + "." + note.extension);
          if (dst) {
            new import_obsidian9.Notice("Exist:" + res + note.extension, 3e3);
          } else {
            nc.app.fileManager.renameFile(note, npath);
          }
        }
      }
    }
  }
});
var cmd_mermaid_flowchart_link = (plugin) => ({
  id: "cmd_mermaid_flowchart_link",
  name: plugin.strings.cmd_mermaid_flowchart_link,
  icon: "file-heart",
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.get_flowchart(null,2);\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_mermaid_flowchart_folder = (plugin) => ({
  id: "cmd_mermaid_flowchart_folder",
  name: plugin.strings.cmd_mermaid_flowchart_folder,
  icon: "folder-heart",
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.flowchart_folder(null,'Folder');\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_mermaid_flowchart_auto = (plugin) => ({
  id: "cmd_mermaid_flowchart_auto",
  name: plugin.strings.cmd_mermaid_flowchart_auto,
  icon: "heart",
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.get_mehrmaid_graph(null,4,'mermaid');\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_execute_template_modal = (plugin) => ({
  id: "cmd_execute_template_modal",
  name: plugin.strings.cmd_execute_template_modal,
  icon: "file-terminal",
  callback: async () => {
    let tpl = plugin.app.plugins.plugins["templater-obsidian"];
    if (!tpl) {
      return;
    }
    let folder = plugin.app.vault.getFolderByPath(tpl.settings.templates_folder);
    let slice = 0;
    let tfiles;
    if (folder) {
      slice = folder.path.length + 1;
      tfiles = plugin.chain.get_tfiles_of_folder(folder, true);
      tfiles = plugin.chain.sort_tfiles_by_chain(tfiles);
    } else {
      tfiles = plugin.chain.get_all_tfiles();
    }
    let tfile = await plugin.chain.sugguster_note(tfiles, slice);
    if (tfile) {
      let res = await plugin.utils.parse_templater(plugin.app, tfile.basename);
      let txt = res.join("\n").trim();
      let view = plugin.app.workspace.getActiveFileView();
      if (view) {
        view.editor.replaceSelection(txt);
      }
    }
  }
});
var cmd_toogle_css_block_in_note = (plugin) => ({
  id: "cmd_toogle_css_block_in_note",
  name: plugin.strings.cmd_toogle_css_block_in_note,
  icon: "atom",
  callback: async () => {
    await plugin.utils.toogle_note_css(plugin.app, document, "/");
  }
});
var cmd_set_frontmatter = (plugin) => ({
  id: "cmd_set_frontmatter",
  name: plugin.strings.cmd_set_frontmatter,
  icon: "database",
  callback: async () => {
    let files = plugin.chain.get_selected_files(true);
    if (files.length == 0) {
      return;
    }
    let field = await plugin.dialog_prompt("Frontmatter name");
    if (!field) {
      return;
    }
    let prev = plugin.editor.get_frontmatter(files[0], field);
    if (prev) {
      if (Array.isArray(prev)) {
        prev = prev.map((x) => x.toString()).join("\n");
      } else {
        prev = prev.toString();
      }
    } else {
      prev = "";
    }
    let value = await plugin.dialog_prompt("Frontmatter value", "", prev);
    value = value.trim();
    if (!value) {
      return;
    }
    value = value.replace(/\\n/g, "\n").replace(/\\t/g, "	");
    value = value.split("\n");
    value = value.map((x) => {
      if (x.match(/^-?\d+$/)) {
        return parseInt(x);
      } else if (x.match(/^-?\d+(\.\d*)?$/)) {
        return parseFloat(x);
      } else {
        return x;
      }
    });
    if (value.length == 1) {
      value = value[0];
    }
    for (let tfile of files) {
      await plugin.editor.set_frontmatter(tfile, field, value, 1);
    }
  }
});
var cmd_move_next_level = (plugin) => ({
  id: "move_next_level",
  name: plugin.strings.cmd_move_next_level,
  hotkeys: [{ modifiers: ["Mod", "Shift"], key: "L" }],
  icon: "arrow-right-from-line",
  callback: async () => {
    let key = plugin.settings.field_of_confluence_tab_format;
    if (!key) {
      return;
    }
    let tfiles = plugin.chain.get_selected_files();
    for (let tfile of tfiles) {
      let level = plugin.editor.get_frontmatter(tfile, key);
      if (!level) {
        await plugin.editor.set_frontmatter(tfile, key, "	", 1);
      } else {
        await plugin.editor.set_frontmatter(tfile, key, level + "	", 1);
      }
    }
  }
});
var cmd_move_none_level = (plugin) => ({
  id: "move_none_level",
  name: plugin.strings.cmd_move_none_level,
  hotkeys: [{ modifiers: ["Mod", "Shift"], key: "K" }],
  icon: "align-justify",
  callback: async () => {
    let key = plugin.settings.field_of_confluence_tab_format;
    if (!key) {
      return;
    }
    let tfiles = plugin.chain.get_selected_files();
    for (let tfile of tfiles) {
      let level = plugin.editor.get_frontmatter(tfile, key);
      if (level) {
        await plugin.editor.set_frontmatter(tfile, key, "", 1);
      }
    }
  }
});
var cmd_move_prev_level = (plugin) => ({
  id: "move_prev_level",
  name: plugin.strings.cmd_move_prev_level,
  hotkeys: [{ modifiers: ["Mod", "Shift"], key: "J" }],
  icon: "arrow-left-from-line",
  callback: async () => {
    let key = plugin.settings.field_of_confluence_tab_format;
    if (!key) {
      return;
    }
    let tfiles = plugin.chain.get_selected_files();
    for (let tfile of tfiles) {
      let level = plugin.editor.get_frontmatter(tfile, key);
      if (level) {
        await plugin.editor.set_frontmatter(tfile, key, level.slice(1), 1);
      }
    }
  }
});
var commandBuilders = [
  cmd_open_note,
  cmd_reveal_note,
  cmd_open_and_reveal_note,
  cmd_open_prev_note,
  cmd_open_next_note,
  cmd_open_prev_note_of_right_leaf,
  cmd_open_next_note_of_right_leaf,
  cmd_open_notes_smarter,
  cmd_longform2notechain,
  cmd_longform4notechain,
  cmd_sort_file_explorer,
  clear_inlinks,
  replace_notes_with_regx,
  move_file_to_another_folder,
  chain_insert_node,
  chain_set_seq_note,
  create_new_note,
  chain_move_up_node,
  chain_move_down_node,
  cmd_file_rename,
  cmd_mermaid_flowchart_link,
  cmd_mermaid_flowchart_folder,
  cmd_mermaid_flowchart_auto,
  cmd_execute_template_modal,
  cmd_toogle_css_block_in_note,
  cmd_set_frontmatter,
  cmd_move_next_level,
  cmd_move_none_level,
  cmd_move_prev_level
];
var commandBuildersDesktop = [
  cmd_file_open_with_system_app,
  cmd_file_show_in_system_explorer
];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
  if (plugin.app.isMobile == false) {
    commandBuildersDesktop.forEach((c) => {
      plugin.addCommand(c(plugin));
    });
  }
}

// src/gui/inputSuggester.ts
var import_obsidian10 = require("obsidian");
var InputSuggester = class extends import_obsidian10.FuzzySuggestModal {
  constructor(app, displayItems, items, options = {}, new_value = false) {
    super(app);
    this.displayItems = displayItems;
    this.items = items;
    this.new_value = new_value;
    this.promise = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.inputEl.addEventListener("keydown", (event) => {
      var _a;
      if (event.code !== "Tab") {
        return;
      }
      const self = this;
      const { values, selectedItem } = self.chooser;
      const { value } = this.inputEl;
      this.inputEl.value = (_a = values[selectedItem].item) != null ? _a : value;
    });
    if (options.placeholder)
      this.setPlaceholder(options.placeholder);
    if (options.limit)
      this.limit = options.limit;
    if (options.emptyStateText)
      this.emptyStateText = options.emptyStateText;
    this.open();
  }
  static Suggest(app, displayItems, items, options = {}, new_value = false) {
    const newSuggester = new InputSuggester(
      app,
      displayItems,
      items,
      options,
      new_value
    );
    return newSuggester.promise;
  }
  getItemText(item) {
    if (item === this.inputEl.value)
      return item;
    return this.displayItems[this.items.indexOf(item)];
  }
  getItems() {
    if (this.inputEl.value === "" || !this.new_value)
      return this.items;
    return [...this.items, this.inputEl.value];
  }
  selectSuggestion(value, evt) {
    this.resolved = true;
    super.selectSuggestion(value, evt);
  }
  onChooseItem(item, evt) {
    this.resolved = true;
    this.resolvePromise(item);
  }
  onClose() {
    super.onClose();
    if (!this.resolved)
      this.rejectPromise("no input given.");
  }
};
async function dialog_suggest(displayItems, items, placeholder = "", new_value = false) {
  try {
    return await InputSuggester.Suggest(
      this.app,
      displayItems,
      items,
      {
        placeholder
      },
      new_value
    );
  } catch (error) {
    return null;
  }
}

// src/gui/inputPrompt.ts
var import_obsidian11 = require("obsidian");
var InputPrompt = class extends import_obsidian11.Modal {
  constructor(app, header, placeholder, value) {
    super(app);
    this.header = header;
    this.didSubmit = false;
    this.submitClickCallback = (evt) => this.submit();
    this.cancelClickCallback = (evt) => this.cancel();
    this.submitEnterCallback = (evt) => {
      if (!evt.isComposing && evt.key === "Enter") {
        evt.preventDefault();
        this.submit();
      }
    };
    this.placeholder = placeholder != null ? placeholder : "";
    this.input = value != null ? value : "";
    this.waitForClose = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.display();
    this.open();
  }
  static Prompt(app, header, placeholder, value) {
    const newPromptModal = new InputPrompt(
      app,
      header,
      placeholder,
      value
    );
    return newPromptModal.waitForClose;
  }
  display() {
    this.containerEl.addClass("quickAddModal", "qaInputPrompt");
    this.contentEl.empty();
    this.titleEl.textContent = this.header;
    const mainContentContainer = this.contentEl.createDiv();
    this.inputComponent = this.createInputField(
      mainContentContainer,
      this.placeholder,
      this.input
    );
    this.createButtonBar(mainContentContainer);
  }
  createInputField(container, placeholder, value) {
    const textComponent = new import_obsidian11.TextComponent(container);
    textComponent.inputEl.style.width = "100%";
    textComponent.setPlaceholder(placeholder != null ? placeholder : "").setValue(value != null ? value : "").onChange((value2) => this.input = value2).inputEl.addEventListener("keydown", this.submitEnterCallback);
    return textComponent;
  }
  createButton(container, text, callback) {
    const btn = new import_obsidian11.ButtonComponent(container);
    btn.setButtonText(text).onClick(callback);
    return btn;
  }
  createButtonBar(mainContentContainer) {
    const buttonBarContainer = mainContentContainer.createDiv();
    this.createButton(
      buttonBarContainer,
      "Ok",
      this.submitClickCallback
    ).setCta().buttonEl.style.marginRight = "0";
    this.createButton(
      buttonBarContainer,
      "Cancel",
      this.cancelClickCallback
    );
    buttonBarContainer.style.display = "flex";
    buttonBarContainer.style.flexDirection = "row-reverse";
    buttonBarContainer.style.justifyContent = "flex-start";
    buttonBarContainer.style.marginTop = "1rem";
    buttonBarContainer.style.gap = "0.5rem";
  }
  submit() {
    this.didSubmit = true;
    this.close();
  }
  cancel() {
    this.close();
  }
  resolveInput() {
    if (!this.didSubmit)
      this.rejectPromise("No input given.");
    else
      this.resolvePromise(this.input);
  }
  removeInputListener() {
    this.inputComponent.inputEl.removeEventListener(
      "keydown",
      this.submitEnterCallback
    );
  }
  onOpen() {
    super.onOpen();
    this.inputComponent.inputEl.focus();
    this.inputComponent.inputEl.select();
  }
  onClose() {
    super.onClose();
    this.resolveInput();
    this.removeInputListener();
  }
};
async function dialog_prompt(header = "Input", placeholder = "", value = "") {
  try {
    return await InputPrompt.Prompt(
      this.app,
      header,
      placeholder,
      value
    );
  } catch (e) {
    return null;
  }
}

// main.ts
var NoteChainPlugin = class extends import_obsidian12.Plugin {
  async onload() {
    this.dialog_suggest = dialog_suggest;
    this.dialog_prompt = dialog_prompt;
    this.status = "waiting";
    this.app.workspace.onLayoutReady(
      async () => {
        await this._onload_();
        this._after_loading_();
      }
    );
  }
  async _after_loading_() {
    var _a, _b;
    while (!((_a = this.app.plugins) == null ? void 0 : _a.plugins["note-chain"])) {
      await new Promise((resolve) => setTimeout(resolve, 100));
    }
    this.app.commands.executeCommandById(
      "dataview:dataview-force-refresh-views"
    );
    let target = await this.app.plugins.getPlugin("obsidian-tasks-plugin");
    target && target.cache.notifySubscribers();
    new import_obsidian12.Notice("Note Chain is ready!", 3e3);
    return (_b = this.app.plugins) == null ? void 0 : _b.plugins["note-chain"];
  }
  async _onload_() {
    this.status = "loading";
    this.debug = true;
    await this.loadSettings();
    this.utils = (init_utils(), __toCommonJS(utils_exports));
    this.ob = require("obsidian");
    this.editor = new NCEditor(this);
    this.chain = new NoteChain(this, this.editor);
    this.explorer = new NCFileExplorer(this);
    this.mermaid = new MermaidGraph(this);
    this.canvas = new CanvasGraph(this);
    this.strings = new Strings();
    addCommands(this);
    this.addSettingTab(new NCSettingTab(this.app, this));
    this.registerEvent(
      this.app.workspace.on("file-open", this.ufunc_on_file_open.bind(this))
    );
    this.registerEvent(this.app.vault.on(
      "delete",
      async (file) => {
        await this.chain.chain_pop_node(file);
        await this.explorer.sort();
      }
    ));
    this.registerEvent(this.app.vault.on(
      "create",
      async () => {
        await sleep(500);
        this.explorer.sort(0, true);
      }
    ));
    this.registerEvent(this.app.vault.on(
      "rename",
      async (file, oldPath) => {
        let oldFolder = this.app.vault.getFolderByPath(
          oldPath.slice(0, oldPath.lastIndexOf("/"))
        );
        oldFolder && this.chain.refresh_folder(oldFolder);
        this.chain.refresh_tfile(file);
        this.explorer.sort();
        this.explorer.set_fileitem_style_of_file(file);
      }
    ));
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian12.TFile) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_create_next_note).setIcon("file-plus").onClick(async () => {
              let filename = await this.dialog_prompt("File name");
              if (!filename) {
                return;
              }
              let dst = file.parent ? file.parent.path + "/" + filename + ".md" : filename + ".md";
              if (this.chain.get_tfile(dst)) {
                new import_obsidian12.Notice("Exists:" + file.path, 3e3);
              } else {
                let tfile = await this.app.vault.create(dst, "");
                await this.chain.chain_insert_node_after(tfile, file);
                await this.editor.set_frontmatter_align_file(
                  file,
                  tfile,
                  this.settings.field_of_confluence_tab_format
                );
                await this.chain.open_note(tfile, false, false);
              }
            });
          });
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian12.TFile && file.extension == "md") {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_note).setIcon("hand").onClick(async () => {
              let anchor = await this.chain.sugguster_note();
              if (anchor) {
                await this.chain.chain_insert_node_after(file, anchor);
                await this.editor.set_frontmatter_align_file(
                  anchor,
                  file,
                  this.settings.field_of_confluence_tab_format
                );
                if (file.parent != anchor.parent) {
                  let dst = anchor.parent.path + "/" + file.name;
                  await this.app.fileManager.renameFile(file, dst);
                }
                this.explorer.sort();
              }
            });
          });
        } else if (file instanceof import_obsidian12.TFolder) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_note).setIcon("hand").onClick(async () => {
              var _a;
              let notes = (_a = file.parent) == null ? void 0 : _a.children;
              if (notes) {
                let anchor = await this.dialog_suggest(
                  (f) => f.name,
                  notes.filter((x) => x instanceof import_obsidian12.TFile)
                );
                let note = this.chain.get_tfile(file.path + "/" + file.name + ".md");
                if (!note) {
                  note = await this.app.vault.create(
                    file.path + "/" + file.name + ".md",
                    ""
                  );
                }
                await this.editor.set_multi_frontmatter(
                  note,
                  {
                    "FolderPrevNote": `[[${anchor.basename}]]`,
                    "FolderPrevNoteOffset": 0.5
                  }
                );
                this.chain.refresh_tfile(file);
                await this.explorer.sort(0, false);
              }
            });
          });
        }
        let selector = document.querySelectorAll(
          ".tree-item-self.is-selected"
        );
        let items = Object.values(selector).map((x) => {
          var _a;
          return (_a = x.dataset) == null ? void 0 : _a.path;
        });
        let tfiles = items.map((x) => this.chain.get_tfile(x)).filter((x) => x.extension == "md");
        if (tfiles.length > 1) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_notes).setIcon("hand").onClick(async () => {
              tfiles = this.chain.sort_tfiles_by_chain(tfiles);
              let notes = this.chain.get_all_tfiles();
              notes = notes.filter((x) => !tfiles.contains(x));
              let anchor = await this.chain.sugguster_note(notes);
              if (!anchor) {
                return;
              }
              for (let tfile of tfiles) {
                if (tfile.parent.path != anchor.parent.path) {
                  let dst = anchor.parent.path + "/" + tfile.name;
                  await this.app.fileManager.renameFile(tfile, dst);
                }
                await this.chain.chain_pop_node(tfile);
              }
              tfiles.unshift(anchor);
              let anchor_next = this.chain.get_next_note(anchor);
              if (anchor_next) {
                tfiles.push(anchor_next);
              }
              await this.chain.chain_concat_tfiles(tfiles);
              for (let dst of tfiles.slice(1, tfiles.length - 1)) {
                await this.editor.set_frontmatter_align_file(
                  anchor,
                  dst,
                  this.settings.field_of_confluence_tab_format
                );
              }
            });
          });
        }
      })
    );
    this.registerEvent(
      this.app.metadataCache.on(
        "changed",
        async (file, data, cache) => {
          if (file == this.chain.current_note) {
            clearTimeout(this.timerId);
          }
          let timerId = setTimeout(async () => {
            if (file.parent) {
              this.chain.children[file.parent.path] = this.chain.sort_tfiles_by_chain(
                file.parent.children
              );
            }
            this.explorer.sort(0, false);
            if (this.settings.field_of_display_text) {
              let txt = this.explorer.get_display_text(file);
              let items = this.explorer.file_explorer.fileItems;
              this.explorer._set_display_text_(items[file.path], txt);
              let canvas = items[file.path.slice(0, file.path.length - 2) + "canvas"];
              this.explorer._set_display_text_(canvas, txt);
              if (file.parent && file.basename == file.parent.name || file.parent && file.parent.path == "/") {
                let field = this.editor.get_frontmatter(file, this.settings.field_of_display_text);
                let prev = file.note_chain_display_field;
                if (!prev || prev != field) {
                  for (let key in items) {
                    let item = items[key];
                    let ppath = "";
                    if (file.parent.path == "/") {
                      ppath == "";
                    } else {
                      ppath = file.parent.path + "/";
                    }
                    if (item.file.path.startsWith(ppath) || item.file.path == file.parent.path) {
                      let txt2 = this.explorer.get_display_text(item.file);
                      this.explorer._set_display_text_(item, txt2);
                    }
                  }
                }
                file.note_chain_display_field = field;
              }
            }
            if (this.settings.field_of_background_color) {
              let style = await this.explorer.get_fileitem_style(file);
              await this.explorer.set_fileitem_style_of_file(file, style);
              let items = this.explorer.file_explorer.fileItems;
              let canvas = items[file.path.slice(0, file.path.length - 2) + "canvas"];
              if (canvas) {
                await this.explorer.set_fileitem_style_of_file(canvas.file, style);
              }
              if (file.parent && file.basename == file.parent.name || file.parent && file.parent.path == "/") {
                let field = this.editor.get_frontmatter(file, this.settings.field_of_background_color);
                let prev = file.note_chain_bgcolor;
                if (!prev || prev != field) {
                  for (let key in items) {
                    let item = items[key];
                    let ppath = "";
                    if (file.parent.path == "/") {
                      ppath == "";
                    } else {
                      ppath = file.parent.path + "/";
                    }
                    if (item.file.path.startsWith(ppath) || item.file.path == file.parent.path) {
                      let style2 = await this.explorer.get_fileitem_style(item.file);
                      await this.explorer.set_fileitem_style_of_file(item.file, style2);
                    }
                  }
                }
                file.note_chain_bgcolor = field;
              }
            }
          }, 500);
          if (file == this.chain.current_note) {
            this.timerId = this.timerId;
          }
        }
      )
    );
    this.wordcout = new WordCount(this, this.app);
    this.status = "loaded";
  }
  async onunload() {
    await this.explorer.unregister();
    await this.explorer.sort();
  }
  async ufunc_on_file_open(file) {
    var _a, _b;
    if (this.settings.refreshDataView) {
      this.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (this.settings.refreshTasks) {
      let target = await this.app.plugins.getPlugin("obsidian-tasks-plugin");
      target && target.cache.notifySubscribers();
    }
    if (this.settings.auto_notechain) {
      let notes = this.chain.get_brothers(file);
      if (notes.length == 0) {
        return;
      }
      let xfolders = this.settings.wordcountxfolder.split("\n").filter((x) => x != "");
      for (let item of xfolders) {
        if (file.path.startsWith(item)) {
          return false;
        } else if (item == "/") {
          if (((_a = file.parent) == null ? void 0 : _a.path) == "/") {
            return false;
          }
        }
      }
      if ((_b = this.explorer) == null ? void 0 : _b.file_explorer) {
        notes = this.chain.sort_tfiles(notes, this.explorer.file_explorer.sortOrder);
        notes = this.chain.sort_tfiles(notes, "chain");
        await this.chain.chain_concat_tfiles(notes);
        this.explorer.sort();
      }
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode = "suggester") {
    if (tfile == null) {
      return;
    }
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode === "suggester") {
        mode = await this.dialog_suggest(
          ["delete links", "replace links", "delete paragraph with links"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.dialog_prompt("Enter the regular expression to replace.");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.dialog_prompt("Enter the target string.");
        if (target == null) {
          return;
        }
        target = target.replace(
          /\\n/g,
          "\n"
        );
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
      }
    }
  }
  async cmd_chain_insert_node() {
    let selector = document.querySelectorAll(
      ".tree-item-self.is-selected"
    );
    let items = Object.values(selector).map((x) => {
      var _a;
      return (_a = x.dataset) == null ? void 0 : _a.path;
    });
    let tfiles = items.map((x) => this.chain.get_tfile(x)).filter((x) => x.extension == "md");
    if (tfiles.length > 1) {
      tfiles = this.chain.sort_tfiles_by_chain(tfiles);
      let notes2 = this.chain.get_all_tfiles();
      notes2 = notes2.filter((x) => !tfiles.contains(x));
      let anchor = await this.chain.sugguster_note(notes2);
      if (!anchor) {
        return;
      }
      for (let tfile of tfiles) {
        if (tfile.parent.path != anchor.parent.path) {
          let dst = anchor.parent.path + "/" + tfile.name;
          await this.app.fileManager.renameFile(tfile, dst);
        }
        await this.chain.chain_pop_node(tfile);
      }
      tfiles.unshift(anchor);
      let anchor_next = this.chain.get_next_note(anchor);
      if (anchor_next) {
        tfiles.push(anchor_next);
      }
      await this.chain.chain_concat_tfiles(tfiles);
      return;
    }
    let curr = this.chain.current_note;
    if (curr == null) {
      return;
    }
    let smode = this.strings[this.settings.suggesterNotesMode];
    let notes = await this.chain.suggester_notes(curr, false, smode);
    if (!notes) {
      return;
    }
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    const note = await this.dialog_suggest(
      this.utils.array_prefix_id(
        notes.map((file) => this.tfile_to_string(file, [], ""))
      ),
      notes
    );
    if (!note) {
      return;
    }
    let sitems = [
      this.strings.item_insert_node_after,
      this.strings.item_insert_node_before,
      this.strings.item_insert_node_as_head,
      this.strings.item_insert_node_as_tail,
      this.strings.item_insert_folder_after
    ];
    let mode = await this.dialog_suggest(
      this.utils.array_prefix_id(sitems),
      sitems,
      false,
      this.strings.item_insert_suggester
    );
    if (!mode) {
      return;
    }
    if (mode === this.strings.item_insert_node_as_head) {
      await this.chain.chain_insert_node_as_head(curr, note);
    } else if (mode === this.strings.item_insert_node_as_tail) {
      await this.chain.chain_insert_node_as_tail(curr, note);
    } else if (mode === this.strings.item_insert_node_before) {
      await this.chain.chain_insert_node_before(curr, note);
    } else if (mode === this.strings.item_insert_node_after) {
      await this.chain.chain_insert_node_after(curr, note);
    } else if (mode === this.strings.item_insert_folder_after) {
      await this.chain.chain_insert_folder_after(curr, note);
    } else {
      return;
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let items = new Array();
    if (tfile == this.chain.current_note) {
      items.push("\u{1F3E0}" + tfile.basename);
    } else {
      items.push(tfile.basename);
    }
    for (let field of fields) {
      try {
        items.push(this.editor.get_frontmatter(tfile, field));
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  async open_note_smarter() {
    let curr = this.chain.current_note;
    let notes = await this.chain.suggester_notes(curr, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    if (notes.length > 0) {
      let note = await this.dialog_suggest(
        this.utils.array_prefix_id(
          notes.map((file) => this.chain.tfile_to_string(file))
        ),
        notes
      );
      if (note) {
        await this.chain.open_note(note);
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3V0aWxzLnRzIiwgIm1haW4udHMiLCAic3JjL05DRWRpdG9yLnRzIiwgInNyYy9Ob3RlQ2hhaW4udHMiLCAic3JjL05DTW9kYWwudHMiLCAic3JjL05DRmlsZUV4cGxvcmVyLnRzIiwgInNyYy9zdHJpbmdzLnRzIiwgInNyYy9Xb3JkQ291bnQudHMiLCAic3JjL2dyYXBoLnRzIiwgInNyYy9zZXR0aW5nLnRzIiwgInNyYy9jb21tYW5kcy50cyIsICJzcmMvZ3VpL2lucHV0U3VnZ2VzdGVyLnRzIiwgInNyYy9ndWkvaW5wdXRQcm9tcHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IG9uIH0gZnJvbSAnZXZlbnRzJztcclxuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnaHR0cCc7XHJcbmltcG9ydCB7IFxyXG5cdEFwcCxcclxuICAgIFRGaWxlLFxyXG4gICAgTm90aWNlLFxyXG4gICAgVEZvbGRlcixcclxuICAgIFRBYnN0cmFjdEZpbGVcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3BsdWdpbnMoYXBwOkFwcCxuYW1lOnN0cmluZyl7XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlfcHJlZml4X2lkKGl0ZW1zOkFycmF5PGFueT4sb2Zmc2V0PTEpe1xyXG4gICAgbGV0IHJlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgbGV0IE4gPSBpdGVtcy5sZW5ndGgudG9TdHJpbmcoKS5sZW5ndGg7XHJcbiAgICBmb3IobGV0IGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIGxldCBpZCA9ICAoaSArIG9mZnNldCkudG9TdHJpbmcoKS5wYWRTdGFydChOLCAnMCcpO1xyXG4gICAgICAgIHJlcy5wdXNoKGAke2lkfSBcdUQ4M0RcdUREMjUgJHtpdGVtc1tpXX1gKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRfYXJyYXkoaXRlbXM6QXJyYXk8YW55Pil7XHJcbiAgICBpZihpdGVtcz09bnVsbCl7cmV0dXJuIFtdO31cclxuICAgIGlmKHR5cGVvZiBpdGVtcyA9PT0gJ3N0cmluZycpe3JldHVybiBbaXRlbXNdO31cclxuICAgIGlmKCEoaXRlbXMgaW5zdGFuY2VvZiBBcnJheSkpe3JldHVybiBbaXRlbXNdO31cclxuXHJcbiAgICBsZXQgcmVzID0gW10gYXMgYW55IFtdO1xyXG4gICAgZm9yKGxldCBpdGVtIG9mIGl0ZW1zKXtcclxuICAgICAgICBpZih0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpe1xyXG4gICAgICAgICAgICByZXMucHVzaChpdGVtKTtcclxuICAgICAgICB9ZWxzZSBpZihpdGVtIGluc3RhbmNlb2YgQXJyYXkpe1xyXG4gICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHRoaXMuY29uY2F0X2FycmF5KGl0ZW0pKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufSAgXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tfdmFsdWUodDphbnksazphbnksdjphbnksZHQ6bnVtYmVyLFQ6bnVtYmVyKXtcclxuICAgIGxldCBpID0gMDtcclxuICAgIHdoaWxlKHRba109PW51bGwgfHwgISh0W2tdPT09dikpe1xyXG4gICAgICAgIGF3YWl0IHNsZWVwKGR0KTtcclxuICAgICAgICBpID0gZHQrZHQ7XHJcbiAgICAgICAgaWYoaT5UKXticmVhazt9XHJcbiAgICB9XHJcbiAgICBpZih0W2tdICYmIHRba109PT12KXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldF90cF9mdW5jKGFwcDpBcHAsdGFyZ2V0OnN0cmluZykge1xyXG5cdC8vIFx1ODNCN1x1NTNENiAgdGVtcGxhdGVyIFx1NTFGRFx1NjU3MFxyXG5cdC8vIGdldF90cF9mdW5jKFwidHAuc3lzdGVtLnByb21wdFwiKVxyXG5cclxuXHRsZXQgdGVtcGxhdGVyID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKFxyXG5cdFx0XCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIlxyXG5cdCk7XHJcbiAgICBpZighdGVtcGxhdGVyKXtyZXR1cm4gbnVsbH1cclxuXHRsZXQgaXRlbXMgPSB0YXJnZXQuc3BsaXQoXCIuXCIpO1xyXG5cdGlmKGl0ZW1zWzBdLmxvY2FsZUNvbXBhcmUoXCJ0cFwiKSE9MCB8fCBpdGVtcy5sZW5ndGghPTMpe3JldHVybiB1bmRlZmluZWQ7fVxyXG5cdFxyXG5cdGxldCBtb2R1bGVzID0gdGVtcGxhdGVyLnRlbXBsYXRlci5mdW5jdGlvbnNfZ2VuZXJhdG9yLlxyXG5cdFx0aW50ZXJuYWxfZnVuY3Rpb25zLm1vZHVsZXNfYXJyYXkuZmlsdGVyKFxyXG5cdFx0XHQoaXRlbTphbnkpPT4oaXRlbS5uYW1lLmxvY2FsZUNvbXBhcmUoaXRlbXNbMV0pPT0wKVxyXG5cdFx0KTtcclxuXHJcblx0aWYobW9kdWxlcy5sZW5ndGg9PTApe3JldHVybiB1bmRlZmluZWR9XHJcblx0XHJcblx0cmV0dXJuIG1vZHVsZXNbMF0uc3RhdGljX2Z1bmN0aW9ucy5nZXQoaXRlbXNbMl0pO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0X3RwX3VzZXJfZnVuYyhhcHA6QXBwLHRhcmdldDpzdHJpbmcpIHtcclxuXHQvLyBcdTgzQjdcdTUzRDYgIHRlbXBsYXRlciBcdTUxRkRcdTY1NzBcclxuXHQvLyBnZXRfdHBfZnVuYyhcInRwLnN5c3RlbS5wcm9tcHRcIilcclxuICAgIGlmKCF0YXJnZXQubWF0Y2goL150cFxcLnVzZXJcXC5cXHcrJC8pKXtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cdGxldCB0ZW1wbGF0ZXIgPSAoYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oXHJcblx0XHRcInRlbXBsYXRlci1vYnNpZGlhblwiXHJcblx0KTtcclxuICAgIGlmKCF0ZW1wbGF0ZXIpe3JldHVybiBudWxsfVxyXG5cclxuXHRsZXQgaXRlbXMgPSB0YXJnZXQuc3BsaXQoXCIuXCIpO1xyXG5cdGlmKGl0ZW1zWzBdLmxvY2FsZUNvbXBhcmUoXCJ0cFwiKSE9MCB8fCBpdGVtc1sxXS5sb2NhbGVDb21wYXJlKFwidXNlclwiKSE9MCB8fCBpdGVtcy5sZW5ndGghPTMpe3JldHVybiB1bmRlZmluZWQ7fVxyXG5cdFxyXG4gICAgbGV0IGZ1bmNzICA9IGF3YWl0IHRlbXBsYXRlci50ZW1wbGF0ZXIuXHJcbiAgICAgICAgZnVuY3Rpb25zX2dlbmVyYXRvci5cclxuICAgICAgICB1c2VyX2Z1bmN0aW9ucy5cclxuICAgICAgICB1c2VyX3NjcmlwdF9mdW5jdGlvbnMuXHJcbiAgICAgICAgZ2VuZXJhdGVfdXNlcl9zY3JpcHRfZnVuY3Rpb25zKCk7XHJcbiAgICByZXR1cm4gZnVuY3MuZ2V0KGl0ZW1zWzJdKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0X2N1c3RvbWpzX2Z1bmModGFyZ2V0OnN0cmluZykge1xyXG5cdC8vIFx1ODNCN1x1NTNENiAgdGVtcGxhdGVyIFx1NTFGRFx1NjU3MFxyXG5cdC8vIGdldF90cF9mdW5jKFwidHAuc3lzdGVtLnByb21wdFwiKVxyXG4gICAgaWYoIXRhcmdldC5tYXRjaCgvXihjSlN8Y3VzdG9tSlN8Y3VzdG9tanN8Y3VzdG9tSnMpKFxcLlxcdyspKyQvKSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIGxldCBpdGVtcyA9IHRhcmdldC5zcGxpdCgnLicpXHJcbiAgICBpZih3aW5kb3cuaGFzT3duUHJvcGVydHkoJ2NKUycpKXtcclxuICAgICAgICBsZXQgY0pTID0gKHdpbmRvdyBhcyBhbnkpWydjSlMnXVxyXG4gICAgICAgIGxldCB0bXAgPSBhd2FpdCBjSlMoKVxyXG4gICAgICAgIGZvcihsZXQgZmllbGQgb2YgaXRlbXMuc2xpY2UoMSkpe1xyXG4gICAgICAgICAgICB0bXAgPSB0bXBbZmllbGRdXHJcbiAgICAgICAgICAgIGlmKCF0bXApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG1wXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRfc3RyX2Z1bmMoYXBwOkFwcCx0YXJnZXQ6c3RyaW5nKSB7XHJcblxyXG4gICAgbGV0IHVmdW5jID0gYXdhaXQgZ2V0X3RwX2Z1bmMoYXBwLHRhcmdldClcclxuICAgIGlmKHVmdW5jKXtyZXR1cm4gdWZ1bmN9XHJcblxyXG4gICAgdWZ1bmMgPSBhd2FpdCBnZXRfdHBfdXNlcl9mdW5jKGFwcCx0YXJnZXQpXHJcbiAgICBpZih1ZnVuYyl7cmV0dXJuIHVmdW5jfVxyXG5cclxuICAgIHVmdW5jID0gYXdhaXQgZ2V0X2N1c3RvbWpzX2Z1bmModGFyZ2V0KVxyXG4gICAgaWYodWZ1bmMpe3JldHVybiB1ZnVuY31cclxuXHJcbiAgICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRlbXBsYXRlciQxKGFwcDpBcHAsdGVtcGxhdGU6c3RyaW5nfFRGaWxlLCBhY3RpdmVfZmlsZTpURmlsZXxudWxsLCB0YXJnZXRfZmlsZTpURmlsZXxudWxsKSB7XHJcblx0Y29uc3QgY29uZmlnID0ge1xyXG5cdFx0dGVtcGxhdGVfZmlsZTogdGVtcGxhdGUsXHJcblx0XHRhY3RpdmVfZmlsZTogYWN0aXZlX2ZpbGUsXHJcblx0XHR0YXJnZXRfZmlsZTogdGFyZ2V0X2ZpbGUsXHJcblx0XHRydW5fbW9kZTogXCJEeW5hbWljUHJvY2Vzc29yXCIsXHJcblx0fTtcclxuXHRjb25zdCBwbHVnaW5zID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2lucztcclxuXHRjb25zdCBleGlzdHMgPSBwbHVnaW5zW1widGVtcGxhdGVyLW9ic2lkaWFuXCJdO1xyXG5cdGlmICghZXhpc3RzKSB7XHJcblx0XHRuZXcgTm90aWNlKFwiVGVtcGxhdGVyIGlzIG5vdCBpbnN0YWxsZWQuIFBsZWFzZSBpbnN0YWxsIGl0LlwiKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcblx0Ly8gQHRzLWlnbm9yZVxyXG5cdGNvbnN0IHt0ZW1wbGF0ZXJ9ID0gcGx1Z2luc1tcInRlbXBsYXRlci1vYnNpZGlhblwiXTtcclxuXHRjb25zdCBmdW5jdGlvbnMgPSBhd2FpdCB0ZW1wbGF0ZXIuZnVuY3Rpb25zX2dlbmVyYXRvci5pbnRlcm5hbF9mdW5jdGlvbnMuZ2VuZXJhdGVfb2JqZWN0KGNvbmZpZyk7XHJcblx0ZnVuY3Rpb25zLnVzZXIgPSB7fTtcclxuXHRjb25zdCB1c2VyU2NyaXB0RnVuY3Rpb25zID0gYXdhaXQgdGVtcGxhdGVyLmZ1bmN0aW9uc19nZW5lcmF0b3IudXNlcl9mdW5jdGlvbnMudXNlcl9zY3JpcHRfZnVuY3Rpb25zLmdlbmVyYXRlX3VzZXJfc2NyaXB0X2Z1bmN0aW9ucyhjb25maWcpO1xyXG5cdHVzZXJTY3JpcHRGdW5jdGlvbnMuZm9yRWFjaCgodmFsdWU6YW55LGtleTphbnkpPT57XHJcblx0XHRmdW5jdGlvbnMudXNlcltrZXldID0gdmFsdWU7XHJcblx0fVxyXG5cdCk7XHJcblx0aWYgKHRlbXBsYXRlKSB7XHJcblx0XHRjb25zdCB1c2VyU3lzdGVtRnVuY3Rpb25zID0gYXdhaXQgdGVtcGxhdGVyLmZ1bmN0aW9uc19nZW5lcmF0b3IudXNlcl9mdW5jdGlvbnMudXNlcl9zeXN0ZW1fZnVuY3Rpb25zLmdlbmVyYXRlX3N5c3RlbV9mdW5jdGlvbnMoY29uZmlnKTtcclxuXHRcdHVzZXJTeXN0ZW1GdW5jdGlvbnMuZm9yRWFjaCgodmFsdWU6YW55LGtleTphbnkpPT57XHJcblx0XHRcdGZ1bmN0aW9ucy51c2VyW2tleV0gPSB2YWx1ZTtcclxuXHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdHJldHVybiBhc3luYyhjb21tYW5kOmFueSk9PntcclxuXHRcdHJldHVybiBhd2FpdCB0ZW1wbGF0ZXIucGFyc2VyLnBhcnNlX2NvbW1hbmRzKGNvbW1hbmQsIGZ1bmN0aW9ucyk7XHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlX3RlbXBsYXRlcihhcHA6QXBwLHRlbXBsYXRlOnN0cmluZ3xURmlsZSxleHRyYWN0PXRydWUpIHtcclxuICAgIGxldCBuYyA9KGFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XHJcbiAgICBpZighbmMpe3JldHVybjt9XHJcbiAgICBcclxuICAgIGxldCBmaWxlID0gbmMuY2hhaW4uZ2V0X3RmaWxlKHRlbXBsYXRlKVxyXG4gICAgaWYoZmlsZSl7XHJcbiAgICAgICAgdGVtcGxhdGUgPSBmaWxlXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJsb2NrczpBcnJheTxzdHJpbmc+O1xyXG4gICAgbGV0IHRlbXBsYXRlX2ZpbGUgPSBudWxsO1xyXG4gICAgaWYodGVtcGxhdGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcbiAgICAgICAgdGVtcGxhdGVfZmlsZSA9IHRlbXBsYXRlXHJcbiAgICAgICAgaWYoZXh0cmFjdCl7XHJcbiAgICAgICAgICAgIGJsb2NrcyA9IGF3YWl0IG5jLmVkaXRvci5leHRyYWN0X3RlbXBsYXRlcl9ibG9jayh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gYXdhaXQgYXBwLnZhdWx0LmNhY2hlZFJlYWQodGVtcGxhdGUpXHJcbiAgICAgICAgICAgIGJsb2NrcyA9IFtpdGVtXVxyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIGlmKGV4dHJhY3Qpe1xyXG4gICAgICAgICAgICBibG9ja3MgPSBhd2FpdCBuYy5lZGl0b3IuZXh0cmFjdF90ZW1wbGF0ZXJfYmxvY2sodGVtcGxhdGUpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBibG9ja3MgPSBbdGVtcGxhdGVdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZighdGVtcGxhdGVfZmlsZSl7XHJcbiAgICAgICAgdGVtcGxhdGVfZmlsZSA9ICcnXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGxldCBhY3RpdmVfZmlsZSA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG4gICAgXHJcbiAgICBsZXQgbm90ZXMgPSBhcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgaWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG4gICAgbGV0IHRhcmdldF9maWxlID0gIG5vdGVzWzBdO1xyXG4gICAgbGV0IHRlbXBsYXRlRnVuYyA9IGF3YWl0IHRlbXBsYXRlciQxKGFwcCx0ZW1wbGF0ZV9maWxlLGFjdGl2ZV9maWxlLHRhcmdldF9maWxlKTtcclxuICAgIGlmKHRlbXBsYXRlRnVuYyl7XHJcbiAgICAgICAgbGV0IHJlcyA9IFtdXHJcbiAgICAgICAgZm9yKGxldCBibG9jayBvZiBibG9ja3Mpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGF3YWl0IHRlbXBsYXRlRnVuYyhibG9jayk7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gW11cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvb2dsZV9ub3RlX2NzcyhhcHA6QXBwLGRvY3VtZW50OmFueSxuYW1lOnN0cmluZyxyZWZyZXNoPWZhbHNlKSB7XHJcbiAgICBsZXQgbmMgPSAoYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuICAgIGxldCB0ZmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZShuYW1lKTtcclxuICAgIGlmKCF0ZmlsZSl7XHJcbiAgICAgICAgbGV0IHRmaWxlcztcclxuICAgICAgICBpZihuYW1lPT0nLycpe1xyXG4gICAgICAgICAgICB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfYWxsX3RmaWxlcygpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBmb2xkZXIgPSBuYy5jaGFpbi5nZXRfYWxsX2ZvbGRlcnMoKS5maWx0ZXIoKHg6VEZvbGRlcik9PngubmFtZT09bmFtZSlcclxuICAgICAgICAgICAgaWYoZm9sZGVyLmxlbmd0aD09MCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGZpbGVzID0gbmMudXRpbHMuY29uY2F0X2FycmF5KFxyXG4gICAgICAgICAgICAgICAgZm9sZGVyLm1hcCgoeDpURm9sZGVyKT0+bmMuY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoeCkpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRmaWxlcy5sZW5ndGg9PTApe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRmaWxlID0gYXdhaXQgbmMuY2hhaW4uc3VnZ3VzdGVyX25vdGUodGZpbGVzKVxyXG4gICAgICAgIGlmKCF0ZmlsZSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZmlsZS5iYXNlbmFtZSk7XHJcbiAgICBpZihsaW5rICYmICFyZWZyZXNoKXtcclxuICAgICAgICBsaW5rLnJlbW92ZSgpXHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBsZXQgY3NzID0gYXdhaXQgbmMuZWRpdG9yLmV4dHJhY3RfY29kZV9ibG9jayh0ZmlsZSwnY3NzJylcclxuICAgICAgICBsZXQgaW5uZXIgPSBjc3Muam9pbignXFxuJylcclxuICAgICAgICBpZihsaW5rKXtcclxuICAgICAgICAgICAgbGluay5pbm5lckhUTUwgPSBpbm5lclxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpZihpbm5lciE9Jycpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcclxuICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pbm5lckhUTUw9aW5uZXI7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUVsZW1lbnQuaWQgPSB0ZmlsZS5iYXNlbmFtZTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRDYWNoZWRNZXRhZGF0YSxcclxuXHRQbHVnaW4sXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRtb21lbnQsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCB7TkNFZGl0b3J9IGZyb20gJy4vc3JjL05DRWRpdG9yJztcclxuaW1wb3J0IHtOb3RlQ2hhaW59IGZyb20gJy4vc3JjL05vdGVDaGFpbic7XHJcbmltcG9ydCB7TkNGaWxlRXhwbG9yZXJ9IGZyb20gJy4vc3JjL05DRmlsZUV4cGxvcmVyJztcclxuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gJ3NyYy9zdHJpbmdzJztcclxuaW1wb3J0IHsgV29yZENvdW50IH0gZnJvbSAnc3JjL1dvcmRDb3VudCc7XHJcbmltcG9ydCB7IE1lcm1haWRHcmFwaCxDYW52YXNHcmFwaCB9IGZyb20gJ3NyYy9ncmFwaCc7XHJcbmltcG9ydCB7IE5DU2V0dGluZ1RhYixOQ1NldHRpbmdzLERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICdzcmMvc2V0dGluZyc7XHJcbmltcG9ydCB7IGFkZENvbW1hbmRzIH0gZnJvbSAnc3JjL2NvbW1hbmRzJztcclxuaW1wb3J0IHtkaWFsb2dfc3VnZ2VzdH0gZnJvbSAnc3JjL2d1aS9pbnB1dFN1Z2dlc3RlcidcclxuaW1wb3J0IHtkaWFsb2dfcHJvbXB0fSBmcm9tICdzcmMvZ3VpL2lucHV0UHJvbXB0J1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVDaGFpblBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IE5DU2V0dGluZ3M7XHJcblx0Y2hhaW4gOiBOb3RlQ2hhaW47XHJcblx0ZWRpdG9yIDogTkNFZGl0b3I7IFxyXG5cdGV4cGxvcmVyIDogTkNGaWxlRXhwbG9yZXI7XHJcblx0bWVybWFpZCA6IE1lcm1haWRHcmFwaDtcclxuXHRjYW52YXMgOiBDYW52YXNHcmFwaDtcclxuXHR3b3JkY291dCA6IFdvcmRDb3VudDtcclxuXHRzdHJpbmdzIDogU3RyaW5ncztcclxuXHRzdGF0dXMgOiBzdHJpbmc7XHJcblx0ZGVidWc6Ym9vbGVhbjtcclxuXHR1dGlsczphbnk7XHJcblx0dGltZXJJZDphbnk7XHJcblx0b2I6YW55O1xyXG5cdGRpYWxvZ19zdWdnZXN0OiBGdW5jdGlvblxyXG5cdGRpYWxvZ19wcm9tcHQ6IEZ1bmN0aW9uXHJcblxyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHR0aGlzLmRpYWxvZ19zdWdnZXN0ID0gZGlhbG9nX3N1Z2dlc3RcclxuXHRcdHRoaXMuZGlhbG9nX3Byb21wdCA9IGRpYWxvZ19wcm9tcHRcclxuXHRcdHRoaXMuc3RhdHVzID0gJ3dhaXRpbmcnXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeShcclxuXHRcdFx0YXN5bmMoKT0+e1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuX29ubG9hZF8oKTtcclxuXHRcdFx0XHR0aGlzLl9hZnRlcl9sb2FkaW5nXygpXHJcblx0XHRcdH1cclxuXHRcdClcclxuXHR9XHJcblxyXG5cdGFzeW5jIF9hZnRlcl9sb2FkaW5nXygpIHtcclxuXHRcdHdoaWxlICghKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucz8ucGx1Z2luc1snbm90ZS1jaGFpbiddKSB7XHJcblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTsgLy8gXHU3QjQ5XHU1Rjg1MTAwbXNcdTUxOERcdTY4QzBcdTY3RTVcclxuXHRcdH1cclxuXHJcblx0XHQodGhpcy5hcHAgYXMgYW55KS5jb21tYW5kcy5leGVjdXRlQ29tbWFuZEJ5SWQoXHJcblx0XHRcdFwiZGF0YXZpZXc6ZGF0YXZpZXctZm9yY2UtcmVmcmVzaC12aWV3c1wiXHJcblx0XHQpO1xyXG5cclxuXHRcdGxldCB0YXJnZXQgPSBhd2FpdCAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbihcIm9ic2lkaWFuLXRhc2tzLXBsdWdpblwiKTtcclxuXHRcdHRhcmdldCAmJiB0YXJnZXQuY2FjaGUubm90aWZ5U3Vic2NyaWJlcnMoKTtcclxuXHJcblx0XHRuZXcgTm90aWNlKCdOb3RlIENoYWluIGlzIHJlYWR5IScsMzAwMClcclxuXHRcdHJldHVybiAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zPy5wbHVnaW5zWydub3RlLWNoYWluJ11cclxuXHR9XHJcblxyXG5cdGFzeW5jIF9vbmxvYWRfKCkge1xyXG5cdFx0dGhpcy5zdGF0dXMgPSAnbG9hZGluZydcclxuXHRcdHRoaXMuZGVidWc9dHJ1ZTtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHRcclxuXHRcdHRoaXMudXRpbHMgPSByZXF1aXJlKCcuL3NyYy91dGlscycpO1xyXG5cdFx0dGhpcy5vYiA9IHJlcXVpcmUoJ29ic2lkaWFuJyk7XHJcblx0XHRcclxuXHRcdHRoaXMuZWRpdG9yID0gbmV3IE5DRWRpdG9yKHRoaXMpO1xyXG5cdFx0dGhpcy5jaGFpbiA9IG5ldyBOb3RlQ2hhaW4odGhpcyx0aGlzLmVkaXRvcik7XHJcblx0XHR0aGlzLmV4cGxvcmVyID0gbmV3IE5DRmlsZUV4cGxvcmVyKHRoaXMpO1xyXG5cdFx0dGhpcy5tZXJtYWlkID0gbmV3IE1lcm1haWRHcmFwaCh0aGlzKTtcclxuXHRcdHRoaXMuY2FudmFzID0gbmV3IENhbnZhc0dyYXBoKHRoaXMpO1xyXG5cdFx0dGhpcy5zdHJpbmdzID0gbmV3IFN0cmluZ3MoKTtcclxuXHJcblx0XHRhZGRDb21tYW5kcyh0aGlzKTtcclxuXHJcblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBOQ1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbignZmlsZS1vcGVuJywgdGhpcy51ZnVuY19vbl9maWxlX29wZW4uYmluZCh0aGlzKSlcclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gXHU1MjIwXHU5NjY0XHU2NTg3XHU0RUY2XHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oXHJcblx0XHRcdFwiZGVsZXRlXCIsIGFzeW5jIChmaWxlOiBURmlsZSkgPT4ge1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5fcG9wX25vZGUoZmlsZSk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdCkpO1xyXG5cclxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NjU4N1x1NEVGNlxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLnZhdWx0Lm9uKFxyXG5cdFx0XHRcImNyZWF0ZVwiLCBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0YXdhaXQgc2xlZXAoNTAwKTtcclxuXHRcdFx0XHR0aGlzLmV4cGxvcmVyLnNvcnQoMCx0cnVlKTtcclxuXHRcdFx0fVxyXG5cdFx0KSk7XHJcblxyXG5cdFx0Ly8gXHU5MUNEXHU1NDdEXHU1NDBEXHU2NTg3XHU0RUY2XHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oXHJcblx0XHRcdFwicmVuYW1lXCIsIGFzeW5jIChmaWxlOiBURmlsZSxvbGRQYXRoOnN0cmluZykgPT4ge1xyXG5cdFx0XHRcdGxldCBvbGRGb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRGb2xkZXJCeVBhdGgoXHJcblx0XHRcdFx0XHRvbGRQYXRoLnNsaWNlKDAsb2xkUGF0aC5sYXN0SW5kZXhPZignLycpKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRvbGRGb2xkZXIgJiYgdGhpcy5jaGFpbi5yZWZyZXNoX2ZvbGRlcihvbGRGb2xkZXIpO1xyXG5cdFx0XHRcdHRoaXMuY2hhaW4ucmVmcmVzaF90ZmlsZShmaWxlKTtcclxuXHRcdFx0XHR0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0XHR0aGlzLmV4cGxvcmVyLnNldF9maWxlaXRlbV9zdHlsZV9vZl9maWxlKGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdCkpO1xyXG5cclxuXHRcdC8vIFx1NTIxQlx1NUVGQVx1NTQwRVx1N0Y2RVx1NjU4N1x1NEVGNlxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW1lbnVcIiwgKG1lbnUsIGZpbGUpID0+IHtcclxuXHRcdFx0XHRpZihmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKHRoaXMuc3RyaW5ncy5maWxlbWVudV9jcmVhdGVfbmV4dF9ub3RlKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGZpbGVuYW1lID0gYXdhaXQgdGhpcy5kaWFsb2dfcHJvbXB0KCdGaWxlIG5hbWUnKTtcclxuXHRcdFx0XHRcdFx0XHRpZighZmlsZW5hbWUpe3JldHVybn1cclxuXHRcdFx0XHRcdFx0XHRsZXQgZHN0ID0gZmlsZS5wYXJlbnQ/ZmlsZS5wYXJlbnQucGF0aCArICcvJyArIGZpbGVuYW1lKycubWQnOmZpbGVuYW1lKycubWQnO1xyXG5cdFx0XHRcdFx0XHRcdGlmKHRoaXMuY2hhaW4uZ2V0X3RmaWxlKGRzdCkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bmV3IE5vdGljZSgnRXhpc3RzOicrZmlsZS5wYXRoLDMwMDApO1xyXG5cdFx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHRmaWxlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGRzdCwnJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FmdGVyKHRmaWxlLGZpbGUpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcl9hbGlnbl9maWxlKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRmaWxlLHRmaWxlLHRoaXMuc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0XHJcblx0XHRcdFx0XHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5vcGVuX25vdGUodGZpbGUsZmFsc2UsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1tZW51XCIsIChtZW51LCBmaWxlKSA9PiB7XHJcblx0XHRcdFx0aWYoZmlsZSBpbnN0YW5jZW9mIFRGaWxlICYmIGZpbGUuZXh0ZW5zaW9uPT0nbWQnKXtcclxuXHRcdFx0XHRcdG1lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRpdGVtXHJcblx0XHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLnN0cmluZ3MuZmlsZW1lbnVfbW92ZV9hc19uZXh0X25vdGUpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiaGFuZFwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGFuY2hvciA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ3VzdGVyX25vdGUoKTtcclxuXHRcdFx0XHRcdFx0XHRpZihhbmNob3Ipe1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcihmaWxlLGFuY2hvcik7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdTU0OENcdTUyNERcdTdGNkVcdTdCMTRcdThCQjBcdTc2RjhcdTU0MENcdTVDNDJcdTdFQTdcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcl9hbGlnbl9maWxlKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRhbmNob3IsZmlsZSx0aGlzLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdFxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmKGZpbGUucGFyZW50IT1hbmNob3IucGFyZW50KXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IGRzdCA9IGFuY2hvci5wYXJlbnQucGF0aCsnLycrZmlsZS5uYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsZHN0KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9ZWxzZSBpZihmaWxlIGluc3RhbmNlb2YgVEZvbGRlcil7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUodGhpcy5zdHJpbmdzLmZpbGVtZW51X21vdmVfYXNfbmV4dF9ub3RlKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImhhbmRcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBub3RlcyA9IGZpbGUucGFyZW50Py5jaGlsZHJlbjtcclxuXHRcdFx0XHRcdFx0XHRpZihub3Rlcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgYW5jaG9yID0gYXdhaXQgdGhpcy5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0XHRcdFx0XHRcdFx0KGY6VEFic3RyYWN0RmlsZSk9PmYubmFtZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0bm90ZXMuZmlsdGVyKCh4OlRBYnN0cmFjdEZpbGUpPT54IGluc3RhbmNlb2YgVEZpbGUpXHJcblx0XHRcdFx0XHRcdFx0XHQpXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IG5vdGUgPSB0aGlzLmNoYWluLmdldF90ZmlsZShmaWxlLnBhdGgrJy8nK2ZpbGUubmFtZSsnLm1kJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5vdGUgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZS5wYXRoKycvJytmaWxlLm5hbWUrJy5tZCcsJydcclxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9tdWx0aV9mcm9udG1hdHRlcihcclxuXHRcdFx0XHRcdFx0XHRcdFx0bm90ZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiRm9sZGVyUHJldk5vdGVcIjpgW1ske2FuY2hvci5iYXNlbmFtZX1dXWAsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCJGb2xkZXJQcmV2Tm90ZU9mZnNldFwiOjAuNSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5jaGFpbi5yZWZyZXNoX3RmaWxlKGZpbGUpO1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5leHBsb3Jlci5zb3J0KDAsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IHNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuXHRcdFx0XHRcdCcudHJlZS1pdGVtLXNlbGYuaXMtc2VsZWN0ZWQnXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdGxldCBpdGVtcyA9IE9iamVjdC52YWx1ZXMoc2VsZWN0b3IpLm1hcCgoeDphbnkpPT54LmRhdGFzZXQ/LnBhdGgpXHJcblx0XHRcdFx0bGV0IHRmaWxlcyA9IGl0ZW1zLm1hcCh4PT50aGlzLmNoYWluLmdldF90ZmlsZSh4KSkuZmlsdGVyKHg9PnguZXh0ZW5zaW9uPT0nbWQnKVxyXG5cdFx0XHRcdGlmKHRmaWxlcy5sZW5ndGg+MSl7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUodGhpcy5zdHJpbmdzLmZpbGVtZW51X21vdmVfYXNfbmV4dF9ub3RlcylcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJoYW5kXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHR0ZmlsZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlcylcclxuXHRcdFx0XHRcdFx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9hbGxfdGZpbGVzKClcclxuXHRcdFx0XHRcdFx0XHRub3RlcyA9IG5vdGVzLmZpbHRlcigoeDpURmlsZSk9PiF0ZmlsZXMuY29udGFpbnMoeCkpXHJcblx0XHRcdFx0XHRcdFx0bGV0IGFuY2hvciA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ3VzdGVyX25vdGUobm90ZXMpXHJcblx0XHRcdFx0XHRcdFx0aWYoIWFuY2hvcil7cmV0dXJufVxyXG5cdFx0XHRcdFx0XHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKHRmaWxlLnBhcmVudC5wYXRoIT1hbmNob3IucGFyZW50LnBhdGgpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRsZXQgZHN0ID0gYW5jaG9yLnBhcmVudC5wYXRoK1wiL1wiK3RmaWxlLm5hbWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUodGZpbGUsZHN0KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5fcG9wX25vZGUodGZpbGUpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHRmaWxlcy51bnNoaWZ0KGFuY2hvcilcclxuXHRcdFx0XHRcdFx0XHRsZXQgYW5jaG9yX25leHQgPSB0aGlzLmNoYWluLmdldF9uZXh0X25vdGUoYW5jaG9yKTtcclxuXHRcdFx0XHRcdFx0XHRpZihhbmNob3JfbmV4dCl7dGZpbGVzLnB1c2goYW5jaG9yX25leHQpfVxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5fY29uY2F0X3RmaWxlcyh0ZmlsZXMpO1xyXG5cdFx0XHRcdFx0XHRcdGZvcihsZXQgZHN0IG9mIHRmaWxlcy5zbGljZSgxLHRmaWxlcy5sZW5ndGgtMSkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyX2FsaWduX2ZpbGUoXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFuY2hvcixkc3QsdGhpcy5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXRcclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHRcdFxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLm9uKFxyXG5cdFx0XHRcdCdjaGFuZ2VkJyxhc3luYyAoZmlsZTogVEZpbGUsIGRhdGE6IHN0cmluZywgY2FjaGU6IENhY2hlZE1ldGFkYXRhKT0+e1xyXG5cdFx0XHRcdFx0aWYoZmlsZT09dGhpcy5jaGFpbi5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxldCB0aW1lcklkID0gc2V0VGltZW91dChhc3luYyAoKT0+e1xyXG5cdFx0XHRcdFx0XHQvLyBcdTY1ODdcdTRFRjZcdTUyMTdcdTg4NjhcdTYzOTJcdTVFOEZcclxuXHRcdFx0XHRcdFx0aWYoZmlsZS5wYXJlbnQpe1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuY2hhaW4uY2hpbGRyZW5bZmlsZS5wYXJlbnQucGF0aF09IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4oXHJcblx0XHRcdFx0XHRcdFx0XHRmaWxlLnBhcmVudC5jaGlsZHJlblxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KDAsZmFsc2UpO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gXHU2NTg3XHU0RUY2XHU1NDBEXHU3OUYwXHJcblx0XHRcdFx0XHRcdGlmKHRoaXMuc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KXtcclxuXHRcdFx0XHRcdFx0XHRsZXQgdHh0ID0gdGhpcy5leHBsb3Jlci5nZXRfZGlzcGxheV90ZXh0KGZpbGUpXHJcblx0XHRcdFx0XHRcdFx0bGV0IGl0ZW1zID0gKHRoaXMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtc1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXhwbG9yZXIuX3NldF9kaXNwbGF5X3RleHRfKGl0ZW1zW2ZpbGUucGF0aF0sdHh0KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRsZXQgY2FudmFzID0gaXRlbXNbZmlsZS5wYXRoLnNsaWNlKDAsZmlsZS5wYXRoLmxlbmd0aC0yKSsnY2FudmFzJ11cclxuXHRcdFx0XHRcdFx0XHR0aGlzLmV4cGxvcmVyLl9zZXRfZGlzcGxheV90ZXh0XyhjYW52YXMsdHh0KVxyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTY2MkZcdTc2RUVcdTVGNTVcclxuXHRcdFx0XHRcdFx0XHRpZigoZmlsZS5wYXJlbnQgJiYgZmlsZS5iYXNlbmFtZT09ZmlsZS5wYXJlbnQubmFtZSkgfHwgKGZpbGUucGFyZW50ICYmIGZpbGUucGFyZW50LnBhdGg9PScvJykpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGZpZWxkID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGZpbGUsdGhpcy5zZXR0aW5ncy5maWVsZF9vZl9kaXNwbGF5X3RleHQpXHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgcHJldiA9IChmaWxlIGFzIGFueSkubm90ZV9jaGFpbl9kaXNwbGF5X2ZpZWxkXHJcblx0XHRcdFx0XHRcdFx0XHRpZighcHJldiB8fCBwcmV2IT1maWVsZCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZvcihsZXQga2V5IGluIGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgaXRlbSA9IGl0ZW1zW2tleV1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgcHBhdGggPSAnJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKGZpbGUucGFyZW50LnBhdGg9PScvJyl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcGF0aCA9PSAnJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHBhdGggPSBmaWxlLnBhcmVudC5wYXRoKycvJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZihpdGVtLmZpbGUucGF0aC5zdGFydHNXaXRoKHBwYXRoKXx8aXRlbS5maWxlLnBhdGg9PWZpbGUucGFyZW50LnBhdGgpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IHR4dCA9IHRoaXMuZXhwbG9yZXIuZ2V0X2Rpc3BsYXlfdGV4dChpdGVtLmZpbGUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmV4cGxvcmVyLl9zZXRfZGlzcGxheV90ZXh0XyhpdGVtLHR4dClcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdChmaWxlIGFzIGFueSkubm90ZV9jaGFpbl9kaXNwbGF5X2ZpZWxkID0gZmllbGRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdC8vIFx1NjU4N1x1NEVGNlx1OTg5Q1x1ODI3MlxyXG5cdFx0XHRcdFx0XHRpZih0aGlzLnNldHRpbmdzLmZpZWxkX29mX2JhY2tncm91bmRfY29sb3Ipe1xyXG5cdFx0XHRcdFx0XHRcdGxldCBzdHlsZSA9IGF3YWl0IHRoaXMuZXhwbG9yZXIuZ2V0X2ZpbGVpdGVtX3N0eWxlKGZpbGUpXHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5leHBsb3Jlci5zZXRfZmlsZWl0ZW1fc3R5bGVfb2ZfZmlsZShmaWxlLHN0eWxlKVxyXG5cdFx0XHRcdFx0XHRcdGxldCBpdGVtcyA9ICh0aGlzLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHJcblx0XHRcdFx0XHRcdFx0bGV0IGNhbnZhcyA9IGl0ZW1zW2ZpbGUucGF0aC5zbGljZSgwLGZpbGUucGF0aC5sZW5ndGgtMikrJ2NhbnZhcyddXHJcblx0XHRcdFx0XHRcdFx0aWYoY2FudmFzKXtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUoY2FudmFzLmZpbGUsc3R5bGUpXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTY2MkZcdTc2RUVcdTVGNTVcclxuXHRcdFx0XHRcdFx0XHRpZigoZmlsZS5wYXJlbnQgJiYgZmlsZS5iYXNlbmFtZT09ZmlsZS5wYXJlbnQubmFtZSkgfHwgKGZpbGUucGFyZW50ICYmIGZpbGUucGFyZW50LnBhdGg9PScvJykpe1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGZpZWxkID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGZpbGUsdGhpcy5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKVxyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IHByZXYgPSAoZmlsZSBhcyBhbnkpLm5vdGVfY2hhaW5fYmdjb2xvclxyXG5cdFx0XHRcdFx0XHRcdFx0aWYoIXByZXYgfHwgcHJldiE9ZmllbGQpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IHBwYXRoID0gJydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZihmaWxlLnBhcmVudC5wYXRoPT0nLycpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHBhdGggPT0gJydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBwYXRoID0gZmlsZS5wYXJlbnQucGF0aCsnLydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoaXRlbS5maWxlLnBhdGguc3RhcnRzV2l0aChwcGF0aCl8fGl0ZW0uZmlsZS5wYXRoPT1maWxlLnBhcmVudC5wYXRoKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGxldCBzdHlsZSA9IGF3YWl0IHRoaXMuZXhwbG9yZXIuZ2V0X2ZpbGVpdGVtX3N0eWxlKGl0ZW0uZmlsZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUoaXRlbS5maWxlLHN0eWxlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0KGZpbGUgYXMgYW55KS5ub3RlX2NoYWluX2JnY29sb3IgPSBmaWVsZFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH0sNTAwKVxyXG5cdFx0XHRcdFx0aWYoZmlsZT09dGhpcy5jaGFpbi5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRcdFx0XHR0aGlzLnRpbWVySWQgPSB0aGlzLnRpbWVySWRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHRcdHRoaXMud29yZGNvdXQgPSBuZXcgV29yZENvdW50KHRoaXMsdGhpcy5hcHApO1xyXG5cdFx0dGhpcy5zdGF0dXMgPSAnbG9hZGVkJ1xyXG5cdH1cclxuXHJcblxyXG5cdGFzeW5jIG9udW5sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5leHBsb3Jlci51bnJlZ2lzdGVyKCk7XHJcblx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgdWZ1bmNfb25fZmlsZV9vcGVuKGZpbGU6VEZpbGUpe1xyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcpe1xyXG5cdFx0XHQodGhpcy5hcHAgYXMgYW55KS5jb21tYW5kcy5leGVjdXRlQ29tbWFuZEJ5SWQoXHJcblx0XHRcdFx0XCJkYXRhdmlldzpkYXRhdmlldy1mb3JjZS1yZWZyZXNoLXZpZXdzXCJcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5yZWZyZXNoVGFza3Mpe1xyXG5cdFx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oXCJvYnNpZGlhbi10YXNrcy1wbHVnaW5cIik7XHJcblx0XHRcdHRhcmdldCAmJiB0YXJnZXQuY2FjaGUubm90aWZ5U3Vic2NyaWJlcnMoKTtcclxuXHRcdH1cclxuXHRcdGlmKHRoaXMuc2V0dGluZ3MuYXV0b19ub3RlY2hhaW4pe1xyXG5cdFx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9icm90aGVycyhmaWxlKTtcclxuXHRcdFx0aWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG5cdFx0XHRsZXQgeGZvbGRlcnMgPSB0aGlzLnNldHRpbmdzLndvcmRjb3VudHhmb2xkZXIuc3BsaXQoJ1xcbicpLmZpbHRlcih4PT54IT0nJyk7XHJcblx0XHRcdGZvcihsZXQgaXRlbSBvZiB4Zm9sZGVycyl7XHJcblx0XHRcdFx0aWYoZmlsZS5wYXRoLnN0YXJ0c1dpdGgoaXRlbSkpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1lbHNlIGlmKGl0ZW09PScvJyl7XHJcblx0XHRcdFx0XHRpZihmaWxlLnBhcmVudD8ucGF0aD09Jy8nKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZih0aGlzLmV4cGxvcmVyPy5maWxlX2V4cGxvcmVyKXtcclxuXHRcdFx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsKHRoaXMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnNvcnRPcmRlcik7XHJcblx0XHRcdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzKG5vdGVzLCdjaGFpbicpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5fY29uY2F0X3RmaWxlcyhub3Rlcyk7XHJcblx0XHRcdFx0dGhpcy5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2xlYXJfaW5saW5rcyh0ZmlsZT10aGlzLmNoYWluLmN1cnJlbnRfbm90ZSxtb2RlPSdzdWdnZXN0ZXInKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHRpZihub3Rlcy5sZW5ndGgpe1xyXG5cdFx0XHRpZihtb2RlPT09J3N1Z2dlc3Rlcicpe1xyXG5cdFx0XHRcdG1vZGUgPSBhd2FpdCB0aGlzLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdFx0W1wiZGVsZXRlIGxpbmtzXCIsJ3JlcGxhY2UgbGlua3MnLFwiZGVsZXRlIHBhcmFncmFwaCB3aXRoIGxpbmtzXCIsXSxcclxuXHRcdFx0XHRcdFtbJ2xpbmsnLCdkZWwnXSxbJ2xpbmsnLCdyZXAnXSxbJ3BhcmEnLCdkZWwnXV1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCByZWcgPSB0aGlzLmVkaXRvci5yZWdleHBfbGluayh0ZmlsZSxtb2RlWzBdKTtcclxuXHRcdFx0aWYocmVnKXtcclxuXHRcdFx0XHRmb3IobGV0IG5vdGUgb2Ygbm90ZXMpe1xyXG5cdFx0XHRcdFx0bGV0IHRhcmdldDtcclxuXHRcdFx0XHRcdGlmKG1vZGVbMV09PT0ncmVwJyl7XHJcblx0XHRcdFx0XHRcdHRhcmdldD10ZmlsZS5iYXNlbmFtZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQ9JydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4KCl7XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcygpO1xyXG5cdFx0aWYobm90ZXM/Lmxlbmd0aD4wKXtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRsZXQgcmVncyA9IGF3YWl0IHRoaXMuZGlhbG9nX3Byb21wdCgnRW50ZXIgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZXBsYWNlLicpO1xyXG5cdFx0XHRcdGlmKHJlZ3M9PW51bGwpe1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQgcmVnID0gbmV3IFJlZ0V4cChyZWdzLCdnJyk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0bGV0IHRhcmdldCA9IGF3YWl0IHRoaXMuZGlhbG9nX3Byb21wdCgnRW50ZXIgdGhlIHRhcmdldCBzdHJpbmcuJyk7XHJcblx0XHRcdFx0aWYodGFyZ2V0PT1udWxsKXtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGFyZ2V0ID0gdGFyZ2V0LnJlcGxhY2UoXHJcblx0XHRcdFx0XHQvXFxcXG4vZywnXFxuJ1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0Zm9yKGxldCBub3RlIG9mIG5vdGVzKXtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGFzeW5jIGNtZF9jaGFpbl9pbnNlcnRfbm9kZSgpe1xyXG5cclxuXHRcdGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHRcdCcudHJlZS1pdGVtLXNlbGYuaXMtc2VsZWN0ZWQnXHJcblx0XHQpXHJcblx0XHRsZXQgaXRlbXMgPSBPYmplY3QudmFsdWVzKHNlbGVjdG9yKS5tYXAoKHg6YW55KT0+eC5kYXRhc2V0Py5wYXRoKVxyXG5cdFx0bGV0IHRmaWxlcyA9IGl0ZW1zLm1hcCh4PT50aGlzLmNoYWluLmdldF90ZmlsZSh4KSkuZmlsdGVyKHg9PnguZXh0ZW5zaW9uPT0nbWQnKVxyXG5cdFx0aWYodGZpbGVzLmxlbmd0aD4xKXtcclxuXHRcdFx0dGZpbGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXMpXHJcblx0XHRcdGxldCBub3RlcyA9IHRoaXMuY2hhaW4uZ2V0X2FsbF90ZmlsZXMoKVxyXG5cdFx0XHRub3RlcyA9IG5vdGVzLmZpbHRlcigoeDpURmlsZSk9PiF0ZmlsZXMuY29udGFpbnMoeCkpXHJcblx0XHRcdGxldCBhbmNob3IgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKG5vdGVzKVxyXG5cdFx0XHRpZighYW5jaG9yKXtyZXR1cm59XHJcblx0XHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0XHRpZih0ZmlsZS5wYXJlbnQucGF0aCE9YW5jaG9yLnBhcmVudC5wYXRoKXtcclxuXHRcdFx0XHRcdGxldCBkc3QgPSBhbmNob3IucGFyZW50LnBhdGgrXCIvXCIrdGZpbGUubmFtZTtcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUodGZpbGUsZHN0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9wb3Bfbm9kZSh0ZmlsZSlcclxuXHRcdFx0fVxyXG5cdFx0XHR0ZmlsZXMudW5zaGlmdChhbmNob3IpXHJcblx0XHRcdGxldCBhbmNob3JfbmV4dCA9IHRoaXMuY2hhaW4uZ2V0X25leHRfbm90ZShhbmNob3IpO1xyXG5cdFx0XHRpZihhbmNob3JfbmV4dCl7dGZpbGVzLnB1c2goYW5jaG9yX25leHQpfVxyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2NvbmNhdF90ZmlsZXModGZpbGVzKTtcclxuXHRcdFx0cmV0dXJuXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBjdXJyID0gdGhpcy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihjdXJyPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0bGV0IHNtb2RlID0gKHRoaXMuc3RyaW5ncyBhcyBhbnkpW3RoaXMuc2V0dGluZ3Muc3VnZ2VzdGVyTm90ZXNNb2RlXTtcclxuXHRcdGxldCBub3RlcyA9IGF3YWl0IHRoaXMuY2hhaW4uc3VnZ2VzdGVyX25vdGVzKGN1cnIsZmFsc2Usc21vZGUpO1xyXG5cdFx0aWYoIW5vdGVzKXtyZXR1cm59XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsWydtdGltZScsJ3gnXSk7XHJcblx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0Ly9ub3RlcyA9IG5vdGVzLmZpbHRlcihmPT5mIT1jdXJyKTtcclxuXHRcdC8vXHU0RTNBMFx1NjVGNlx1NEU1Rlx1NjYzRVx1NzkzQVx1RkYwQ1x1NTQyNlx1NTIxOVx1NEVFNVx1NEUzQVx1NjYyRmJ1Z1xyXG5cdFx0Ly9pZihub3Rlcy5sZW5ndGg9PTApe3JldHVybjt9XHJcblx0XHRjb25zdCBub3RlID0gYXdhaXQgdGhpcy5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0dGhpcy51dGlscy5hcnJheV9wcmVmaXhfaWQoXHJcblx0XHRcdFx0bm90ZXMubWFwKChmaWxlOlRGaWxlKSA9PiB0aGlzLnRmaWxlX3RvX3N0cmluZyhmaWxlLFtdLFwiXCIpKVxyXG5cdFx0XHQpLCBcclxuXHRcdFx0bm90ZXNcclxuXHRcdCk7IFxyXG5cdFx0XHJcblx0XHRpZighbm90ZSl7cmV0dXJuO31cclxuXHRcdFxyXG5cdFx0bGV0IHNpdGVtcyA9IFtcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYWZ0ZXIsXHJcblx0XHRcdHRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2JlZm9yZSxcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfaGVhZCxcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfdGFpbCxcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X2ZvbGRlcl9hZnRlcixcclxuXHRcdF07XHJcblx0XHRsZXQgbW9kZSA9IGF3YWl0IHRoaXMuZGlhbG9nX3N1Z2dlc3QoXHJcblx0XHRcdHRoaXMudXRpbHMuYXJyYXlfcHJlZml4X2lkKHNpdGVtcyksXHJcblx0XHRcdHNpdGVtcyxmYWxzZSx0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfc3VnZ2VzdGVyXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHRpZighbW9kZSl7cmV0dXJuO31cclxuXHJcblx0XHRpZihtb2RlPT09dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfaGVhZCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZChjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2FzX3RhaWwpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FzX3RhaWwoY3Vycixub3RlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfbm9kZV9iZWZvcmUpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2JlZm9yZShjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2FmdGVyKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcihjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9mb2xkZXJfYWZ0ZXIpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9mb2xkZXJfYWZ0ZXIoY3Vycixub3RlKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSxmaWVsZHM6QXJyYXk8c3RyaW5nPixzZXE6c3RyaW5nKXtcclxuXHRcdGxldCBpdGVtcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0aWYodGZpbGU9PXRoaXMuY2hhaW4uY3VycmVudF9ub3RlKXtcclxuXHRcdFx0aXRlbXMucHVzaCgnXHVEODNDXHVERkUwJyArIHRmaWxlLmJhc2VuYW1lKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGl0ZW1zLnB1c2godGZpbGUuYmFzZW5hbWUpXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZvcihsZXQgZmllbGQgb2YgZmllbGRzKXtcclxuXHRcdFx0dHJ5e1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2godGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGZpZWxkKSk7XHJcblx0XHRcdH1jYXRjaChlcnJvcil7XHJcblx0XHRcdFx0aXRlbXMucHVzaChcIi1cIik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcy5qb2luKHNlcSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvcGVuX25vdGVfc21hcnRlcigpe1xyXG5cdFx0Ly8gXHU5NEZFXHU1RjBGXHU4QzAzXHU3NTI4XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoY3VycixmYWxzZSlcclxuXHRcdFxyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzKG5vdGVzLFsnbXRpbWUnLCd4J10pO1xyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKG5vdGVzKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdHRoaXMudXRpbHMuYXJyYXlfcHJlZml4X2lkKFxyXG5cdFx0XHRcdFx0bm90ZXMubWFwKChmaWxlOlRGaWxlKSA9PiB0aGlzLmNoYWluLnRmaWxlX3RvX3N0cmluZyhmaWxlKSlcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRcdG5vdGVzXHJcblx0XHRcdClcclxuXHRcdFx0aWYobm90ZSl7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5vcGVuX25vdGUobm90ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgdGltZSB9IGZyb20gJ2NvbnNvbGUnO1xyXG5pbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tICdzdHJlYW0nO1xyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE5DRWRpdG9ye1xyXG5cdGFwcDpBcHA7XHJcblx0bnJldHJ5Om51bWJlcjtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKXtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSB0aGlzLnBsdWdpbi5hcHA7XHJcblx0XHR0aGlzLm5yZXRyeT0xMDA7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGV8c3RyaW5nfEFycmF5PFRGaWxlfHN0cmluZz4sa2V5OnN0cmluZyx2YWx1ZTphbnksbnJldHJ5PXRoaXMubnJldHJ5KXtcclxuXHRcdGxldCBrdjp7W2tleTpzdHJpbmddOnN0cmluZ30gPSB7fTtcclxuXHRcdGt2W2tleV0gPSB2YWx1ZTtcclxuXHRcdGxldCBmbGFnID0gYXdhaXQgdGhpcy5zZXRfbXVsdGlfZnJvbnRtYXR0ZXIodGZpbGUsa3YsbnJldHJ5KTtcclxuXHRcdHJldHVybiBmbGFnO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa3Y6e1trZXk6c3RyaW5nXTphbnl9KTpib29sZWFue1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYoIXRmaWxlKXtyZXR1cm4gZmFsc2U7fVxyXG5cdFx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdFx0aWYobWV0YT8uZnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRcdGZvcihsZXQgayBpbiBrdil7XHJcblx0XHRcdFx0XHRpZighKG1ldGEuZnJvbnRtYXR0ZXJba109PWt2W2tdKSl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgd2FpdF9mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrdjp7W2tleTpzdHJpbmddOmFueX0sbnJldHJ5PXRoaXMubnJldHJ5KTpQcm9taXNlPGJvb2xlYW4+e1xyXG5cdFx0bGV0IGZsYWcgPSB0aGlzLmNoZWNrX2Zyb250bWF0dGVyKHRmaWxlLGt2KTtcclxuXHRcdFxyXG5cdFx0d2hpbGUoIWZsYWcgJiYgbnJldHJ5PjApe1xyXG5cdFx0XHRhd2FpdCBzbGVlcCg1MCk7XHJcblx0XHRcdG5yZXRyeSA9IG5yZXRyeS0xO1xyXG5cdFx0XHRmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmxhZztcclxuXHR9XHJcblxyXG5cdF9zZXRfKGRhdGE6YW55LGtleTpzdHJpbmcsdmFsdWU6YW55KXtcclxuXHRcdGxldCBpdGVtcyA9IGtleS50cmltKCkuc3BsaXQoJy4nKVxyXG5cdFx0aWYoIWl0ZW1zKXtyZXR1cm59XHJcblx0XHRsZXQgY3VyciA9IGRhdGFcclxuXHRcdGZvcihsZXQgaXRlbSBvZiBpdGVtcy5zbGljZSgwLGl0ZW1zLmxlbmd0aC0xKSl7XHJcblx0XHRcdGxldCBrdiA9IGl0ZW0ubWF0Y2goL14oLio/KShcXFstP1xcZCtcXF0pPyQvKVxyXG5cdFx0XHRpZigha3Ype3JldHVybn1cclxuXHRcdFx0bGV0IGsgPSBrdlsxXVxyXG5cdFx0XHRpZihrdlsyXSl7XHJcblx0XHRcdFx0bGV0IGkgPSBwYXJzZUludChrdlsyXS5zbGljZSgxLGt2WzJdLmxlbmd0aC0xKSlcclxuXHRcdFx0XHRpZighKGsgaW4gY3Vycikpe1xyXG5cdFx0XHRcdFx0Y3VycltrXSA9IFt7fV1cclxuXHRcdFx0XHRcdGN1cnIgPSBjdXJyW2tdWzBdXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpZihBcnJheS5pc0FycmF5KGN1cnJba10pKXtcclxuXHRcdFx0XHRcdFx0bGV0IHRtcCA9IHt9XHJcblx0XHRcdFx0XHRcdGlmKGk8MCl7XHJcblx0XHRcdFx0XHRcdFx0Y3VycltrXS5zcGxpY2UoLWktMSwwLHRtcClcclxuXHRcdFx0XHRcdFx0fWVsc2UgaWYoaTxjdXJyW2tdLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRcdFx0Y3VycltrXVtpXT10bXBcclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0Y3VycltrXS5wdXNoKHRtcClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRjdXJyID0gdG1wXHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0Y3VycltrXSA9IFt7fV1cclxuXHRcdFx0XHRcdFx0Y3VyciA9IGN1cnJba11bMF1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGlmKCEoayBpbiBjdXJyKSl7XHJcblx0XHRcdFx0XHRjdXJyW2tdID0ge31cclxuXHRcdFx0XHRcdGN1cnIgPSBjdXJyW2tdXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpZih0eXBlb2YoY3VycltrXSkhPSdvYmplY3QnKXtcclxuXHRcdFx0XHRcdFx0Y3VycltrXSA9IHt9XHJcblx0XHRcdFx0XHRcdGN1cnIgPSBjdXJyW2tdXHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0Y3VyciA9IGN1cnJba11cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGxldCBrdiA9IGl0ZW1zW2l0ZW1zLmxlbmd0aC0xXS5tYXRjaCgvXiguKj8pKFxcWy0/XFxkK1xcXSk/JC8pXHJcblx0XHRpZigha3Ype3JldHVybn1cclxuXHRcdGxldCBrID0ga3ZbMV1cclxuXHRcdGlmKGt2WzJdKXtcclxuXHRcdFx0bGV0IGkgPSBwYXJzZUludChrdlsyXS5zbGljZSgxLGt2WzJdLmxlbmd0aC0xKSlcclxuXHRcdFx0aWYoayBpbiBjdXJyKXtcclxuXHRcdFx0XHRpZihBcnJheS5pc0FycmF5KGN1cnJba10pKXtcclxuXHRcdFx0XHRcdGlmKGk8MCl7XHJcblx0XHRcdFx0XHRcdGN1cnJba10uc3BsaWNlKC1pLTEsMCx2YWx1ZSlcclxuXHRcdFx0XHRcdH1lbHNlIGlmKGk8Y3VycltrXS5sZW5ndGgpe1xyXG5cdFx0XHRcdFx0XHRjdXJyW2tdW2ldID0gdmFsdWVcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRjdXJyW2tdLnB1c2godmFsdWUpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRjdXJyW2tdID0gdmFsdWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGN1cnJba10gPSBbdmFsdWVdXHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRjdXJyW2tdID0gdmFsdWVcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHNldF9tdWx0aV9mcm9udG1hdHRlcih0ZmlsZTpURmlsZXxzdHJpbmd8QXJyYXk8VEZpbGV8c3RyaW5nPixrdjp7W2tleTpzdHJpbmddOmFueX0sbnJldHJ5PXRoaXMubnJldHJ5KTpQcm9taXNlPGJvb2xlYW4+e1xyXG5cdFx0aWYoQXJyYXkuaXNBcnJheSh0ZmlsZSkpe1xyXG5cdFx0XHRmb3IobGV0IGl0ZW0gb2YgdGZpbGUpe1xyXG5cdFx0XHRcdHRoaXMuc2V0X211bHRpX2Zyb250bWF0dGVyKGl0ZW0sa3YsbnJldHJ5KVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblx0XHRpZih0eXBlb2YodGZpbGUpPT0nc3RyaW5nJyl7XHJcblx0XHRcdHRmaWxlID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKHRmaWxlKVxyXG5cdFx0fVxyXG5cdFx0aWYoIXRmaWxlIHx8ICEodGZpbGUgaW5zdGFuY2VvZiBURmlsZSkpe1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHRcdGxldCBmbGFnPSBmYWxzZVxyXG5cdFx0aWYobnJldHJ5PjEpe1xyXG5cdFx0XHRmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHR9XHJcblx0XHR3aGlsZSghZmxhZyAmJiBucmV0cnk+MCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcih0ZmlsZSwgKGZtKSA9PntcclxuXHRcdFx0XHRmb3IobGV0IGsgaW4ga3Ype1xyXG5cdFx0XHRcdFx0dGhpcy5fc2V0XyhmbSxrLGt2W2tdKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdGF3YWl0IHNsZWVwKDEwMCk7XHJcblx0XHRcdG5yZXRyeSA9IG5yZXRyeS0xO1xyXG5cdFx0XHRmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmxhZztcclxuXHR9XHJcblxyXG5cdGdldF9mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrZXk6c3RyaW5nKXtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmKCF0ZmlsZSl7cmV0dXJuIG51bGw7fVxyXG5cdFx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdFx0aWYobWV0YT8uZnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRcdGlmKG1ldGEuZnJvbnRtYXR0ZXJba2V5XSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gbWV0YS5mcm9udG1hdHRlcltrZXldXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCBrZXlzID0ga2V5LnNwbGl0KCcuJylcclxuXHRcdFx0XHRsZXQgY2ZtID0gbWV0YS5mcm9udG1hdHRlclxyXG5cdFx0XHRcdGZvcihsZXQgayBvZiBrZXlzKXtcclxuXHRcdFx0XHRcdGxldCBpdGVtcyA9ay5tYXRjaCgvXiguKj8pKFxcWy0/XFxkK1xcXSk/JC8pXHJcblx0XHRcdFx0XHRpZighaXRlbXMpe3JldHVybiBudWxsfVxyXG5cdFx0XHRcdFx0aWYoaXRlbXNbMV0pe1xyXG5cdFx0XHRcdFx0XHRjZm0gPSBjZm1baXRlbXNbMV1dXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZighY2ZtKXtyZXR1cm4gbnVsbH1cclxuXHRcdFx0XHRcdGlmKEFycmF5LmlzQXJyYXkoY2ZtKSAmJiBpdGVtc1syXSl7XHJcblx0XHRcdFx0XHRcdGxldCBpID0gcGFyc2VJbnQoaXRlbXNbMl0uc2xpY2UoMSxpdGVtc1syXS5sZW5ndGgtMSkpXHJcblx0XHRcdFx0XHRcdGlmKGk8MCl7XHJcblx0XHRcdFx0XHRcdFx0aSA9IGkrY2ZtLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNmbSA9IGNmbVtpXVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gY2ZtXHJcblx0XHRcdH1cclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X3ZhdWx0X25hbWUoKXtcclxuXHRcdGxldCBpdGVtcyA9ICh0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmJhc2VQYXRoLnNwbGl0KCdcXFxcJylcclxuXHRcdGl0ZW1zID0gaXRlbXNbaXRlbXMubGVuZ3RoLTFdLnNwbGl0KCcvJylcclxuXHRcdHJldHVybiBpdGVtc1tpdGVtcy5sZW5ndGgtMV1cclxuXHR9XHJcblxyXG5cdGdldF9mcm9udG1hdHRlcl9jb25maWcodGZpbGU6VEFic3RyYWN0RmlsZSxrZXk6c3RyaW5nKXtcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRpZih0ZmlsZS5leHRlbnNpb249PSdtZCcpe1xyXG5cdFx0XHRcdGxldCBjb25maWcgPSB0aGlzLmdldF9mcm9udG1hdHRlcih0ZmlsZSxrZXkpXHJcblx0XHRcdFx0aWYoY29uZmlnKXtyZXR1cm4gY29uZmlnfVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRsZXQgZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZShcclxuXHRcdFx0XHRcdHRmaWxlLnBhdGguc2xpY2UoMCx0ZmlsZS5wYXRoLmxlbmd0aC10ZmlsZS5leHRlbnNpb24ubGVuZ3RoKSsnbWQnXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdGlmKGZpbGUpe1xyXG5cdFx0XHRcdFx0bGV0IGNvbmZpZyA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKGZpbGUsa2V5KVxyXG5cdFx0XHRcdFx0aWYoY29uZmlnKXtyZXR1cm4gY29uZmlnfVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZSh0ZmlsZS5wYXRoKycvJyt0ZmlsZS5uYW1lKycubWQnKVxyXG5cdFx0XHRpZihmaWxlKXtcclxuXHRcdFx0XHRsZXQgY29uZmlnID0gdGhpcy5nZXRfZnJvbnRtYXR0ZXIoZmlsZSxrZXkpXHJcblx0XHRcdFx0aWYoY29uZmlnKXtyZXR1cm4gY29uZmlnfVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBkaXIgPSB0ZmlsZS5wYXJlbnRcclxuXHRcdHdoaWxlKGRpcil7XHJcblx0XHRcdGxldCBjZmlsZTtcclxuXHRcdFx0aWYoZGlyLnBhcmVudCl7XHJcblx0XHRcdFx0Y2ZpbGUgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfdGZpbGUoXHJcblx0XHRcdFx0XHRkaXIucGF0aCsnLycrZGlyLm5hbWUrJy5tZCdcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGNmaWxlID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKFxyXG5cdFx0XHRcdFx0dGhpcy5nZXRfdmF1bHRfbmFtZSgpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBjb25maWcgPSB0aGlzLmdldF9mcm9udG1hdHRlcihjZmlsZSxrZXkpXHJcblx0XHRcdGlmKGNvbmZpZyl7cmV0dXJuIGNvbmZpZ31cclxuXHRcdFx0ZGlyID0gZGlyLnBhcmVudFxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGxcclxuXHJcblx0fVxyXG5cdHJlZ2V4cF9saW5rKHRmaWxlOlRGaWxlLG1vZGU6c3RyaW5nKXtcclxuXHRcdC8vW1tub3RlfHxhbGlhc11dXHJcblx0XHRpZihtb2RlPT09J2xpbmsnKXtcclxuXHRcdFx0cmV0dXJuIG5ldyBSZWdFeHAoYFxcXFxbXFxcXFske3RmaWxlLmJhc2VuYW1lfVxcXFx8Py4qXFxcXF1cXFxcXWAsJ2cnKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly9wYXJhZ3JhcGhcclxuXHRcdGlmKG1vZGU9PT0ncGFyYScpe1xyXG5cdFx0XHRyZXR1cm4gbmV3IFJlZ0V4cChgLipcXFxcW1xcXFxbJHt0ZmlsZS5iYXNlbmFtZX1cXFxcfD8uKlxcXFxdXFxcXF0uKmAsJ2cnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlcGxhY2UodGZpbGU6VEZpbGUscmVnZXg6YW55LHRhcmdldDpzdHJpbmcpe1xyXG5cdFx0aWYodHlwZW9mIHJlZ2V4ID09PSAnc3RyaW5nJyl7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0LnByb2Nlc3ModGZpbGUsKGRhdGEpPT57XHJcblx0XHRcdFx0aWYoZGF0YS5pbmRleE9mKHJlZ2V4KT4tMSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YS5yZXBsYWNlKHJlZ2V4LCB0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fSlcclxuXHRcdH1lbHNlIGlmKHJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQucHJvY2Vzcyh0ZmlsZSwoZGF0YSk9PntcclxuXHRcdFx0XHRpZihkYXRhLm1hdGNoKHJlZ2V4KSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YS5yZXBsYWNlKHJlZ2V4LCB0YXJnZXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlbW92ZV9tZXRhZGF0YSh0ZmlsZTpURmlsZXxzdHJpbmcpe1xyXG5cdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdHRmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSE9J3N0cmluZycpe1xyXG5cdFx0XHRyZXR1cm4gJydcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaGVhZGVyUmVnZXggPSAvXi0tLVxccyooW1xcc1xcU10qPylcXHMqLS0tL1xyXG5cdFx0bGV0IG1hdGNoID0gaGVhZGVyUmVnZXguZXhlYyh0ZmlsZSk7XHJcblx0XHRpZihtYXRjaCl7XHJcblx0XHRcdHRmaWxlID0gdGZpbGUuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKS50cmltKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGZpbGU7XHJcblx0fVxyXG5cclxuXHRhc3luYyBleHRyYWN0X2NvZGVfYmxvY2sodGZpbGU6VEZpbGV8c3RyaW5nLGJ0eXBlOnN0cmluZyl7XHJcblxyXG5cdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdHRmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSE9J3N0cmluZycpe1xyXG5cdFx0XHRyZXR1cm4gJydcclxuXHRcdH1cclxuXHRcdGxldCBjc3NDb2RlQmxvY2tzID0gW107XHJcblx0XHRsZXQgcmVnID0gbmV3IFJlZ0V4cChgXFxgXFxgXFxgJHtidHlwZX1cXFxcbihbXFxcXHNcXFxcU10qPylcXG5cXGBcXGBcXGBgLCdnJyk7O1xyXG5cdFx0bGV0IG1hdGNoZXM7XHJcblx0XHR3aGlsZSAoKG1hdGNoZXMgPSByZWcuZXhlYyh0ZmlsZSkpICE9PSBudWxsKSB7XHJcblx0XHRcdGNzc0NvZGVCbG9ja3MucHVzaChtYXRjaGVzWzFdLnRyaW0oKSk7IC8vIEV4dHJhY3QgdGhlIENTUyBjb2RlIHdpdGhvdXQgYmFja3RpY2tzXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gY3NzQ29kZUJsb2NrcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIGV4dHJhY3RfdGVtcGxhdGVyX2Jsb2NrKHRmaWxlOlRGaWxlfHN0cmluZyxyZWc9LzwlXFwqXFxzKihbXFxzXFxTXSo/KVxccyotPyU+L2cpe1xyXG5cdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdHRmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSE9J3N0cmluZycpe1xyXG5cdFx0XHRyZXR1cm4gJydcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgY3NzQ29kZUJsb2NrcyA9IFtdO1xyXG5cdFx0bGV0IG1hdGNoZXM7XHJcblx0XHR3aGlsZSAoKG1hdGNoZXMgPSByZWcuZXhlYyh0ZmlsZSkpICE9PSBudWxsKSB7XHJcblx0XHRcdGNzc0NvZGVCbG9ja3MucHVzaChtYXRjaGVzWzBdLnRyaW0oKSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0cGxzID0gYXdhaXQgdGhpcy5leHRyYWN0X2NvZGVfYmxvY2sodGZpbGUsJ2pzIC8vdGVtcGxhdGVyJyk7XHJcblx0XHRmb3IobGV0IHRwbCBvZiB0cGxzKXtcclxuXHRcdFx0Y3NzQ29kZUJsb2Nrcy5wdXNoKGA8JSpcXG4ke3RwbH1cXG4tJT5gKVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjc3NDb2RlQmxvY2tzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXh0cmFjdF95YW1sX2Jsb2NrKHRmaWxlOlRGaWxlfHN0cmluZyl7XHJcblx0XHRcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHR0ZmlsZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKHR5cGVvZih0ZmlsZSkhPSdzdHJpbmcnKXtcclxuXHRcdFx0cmV0dXJuICcnXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGhlYWRlclJlZ2V4ID0gL14tLS1cXHMqKFtcXHNcXFNdKj8pXFxzKi0tLS9cclxuXHRcdGxldCBtYXRjaCA9IGhlYWRlclJlZ2V4LmV4ZWModGZpbGUpO1xyXG4gICAgICAgIGlmKG1hdGNoKXtcclxuXHRcdFx0cmV0dXJuIG1hdGNoWzBdXHJcbiAgICAgICAgfVxyXG5cdFx0cmV0dXJuICcnXHJcblx0fVxyXG5cclxuXHRfZXh0cmFjdF9ibG9ja19pZF8ocGFyYTpzdHJpbmcpe1xyXG5cdFx0bGV0IHJlZyA9IC9cXHMrXFxeW2EtekEtWjAtOV0rXFxyP1xcbj8kL1xyXG5cdFx0bGV0IG1hdGNoID0gcmVnLmV4ZWMocGFyYSlcclxuXHRcdGlmKG1hdGNoKXtcclxuXHRcdFx0cmV0dXJuIG1hdGNoWzBdLnRyaW0oKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiAnJ1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X2dlbmVyYXRlX3JhbmRvbV9zdHJpbmdfKGxlbmd0aDpudW1iZXIpIHtcclxuXHRcdGxldCBjaGFyYWN0ZXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcclxuXHRcdGxldCByZXN1bHQgPSAnJztcclxuXHRcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0bGV0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVycy5sZW5ndGgpO1xyXG5cdFx0XHRyZXN1bHQgKz0gY2hhcmFjdGVyc1tyYW5kb21JbmRleF07XHJcblx0XHR9XHJcblx0XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXh0cmFjdF9hbGxfYmxvY2tzKHRmaWxlOlRGaWxlfHN0cmluZyl7XHJcblx0XHRcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHR0ZmlsZSA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKHR5cGVvZih0ZmlsZSkhPSdzdHJpbmcnKXtcclxuXHRcdFx0cmV0dXJuICcnXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGN0eCA9IHRmaWxlO1xyXG5cdFx0bGV0IGJsb2NrcyA9IFtdO1xyXG5cclxuXHRcdGxldCBoZWFkID0gYXdhaXQgdGhpcy5wbHVnaW4uZWRpdG9yLmV4dHJhY3RfeWFtbF9ibG9jayhjdHgpO1xyXG5cdFx0aWYoaGVhZCE9Jycpe1xyXG5cdFx0XHRibG9ja3MucHVzaChbJ1lBTUwnLGhlYWRdKVxyXG5cdFx0XHRjdHg9Y3R4LnNsaWNlKGhlYWQubGVuZ3RoKVxyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBrdmdldHM6e1trZXk6c3RyaW5nXTphbnl9ID0ge1xyXG5cdFx0XHQnXHU3QTdBXHU3NjdEXHU2QkI1XHU4NDNEJzovXihcXHMqXFxuKSovLFxyXG5cdFx0XHQnXHU0RUUzXHU3ODAxXHU1NzU3JzogL15bIFxcdF0qYGBgW1xcc1xcU10qP1xcblsgXFx0XSpgYGBbIFxcdF0qXFxuKFxccypcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQndHBsXHU0RUUzXHU3ODAxXHU1NzU3JzovXjwlXFwqW1xcc1xcU10qP1xcbi0/XFwqPyU+WyBcXHRdKlxcbihcXHMrXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J1x1NEVGQlx1NTJBMSc6IC9eWyBcXHRdKi0gXFxbLlxcXS4qXFxuPyhcXHMrXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J1x1NjVFMFx1NUU4Rlx1NTIxN1x1ODg2OCc6IC9eWyBcXHRdKi0gLipcXG4/KFxccytcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQnXHU2NzA5XHU1RThGXHU1MjE3XHU4ODY4JzogL15bIFxcdF0qXFxkXFwuIC4qXFxuPyhcXHMrWyBcXHRdKlxcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCdcdTVGMTVcdTc1MjgnOiAvXig+LipcXG4pKyhcXHMqXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J1x1NjgwN1x1OTg5OCc6IC9eIysgLipcXG4oXFxzKlxcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCdcdTZCQjVcdTg0M0QnOiAvXiguKlxcbj8pKFxccypcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vXHJcblx0XHR9XHJcblx0XHR3aGlsZShjdHgubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgZmxhZyA9IHRydWVcclxuXHRcdFx0Zm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoa3ZnZXRzKSl7XHJcblx0XHRcdFx0bGV0IHJlZyA9IGt2Z2V0c1trZXldO1xyXG5cdFx0XHRcdGxldCBtYXRjaCA9IHJlZy5leGVjKGN0eCk7XHJcblx0XHRcdFx0aWYobWF0Y2gpe1xyXG5cdFx0XHRcdFx0bGV0IGN1cnIgPSBtYXRjaFswXTtcclxuXHRcdFx0XHRcdGlmKGN1cnIubGVuZ3RoPjApe1xyXG5cdFx0XHRcdFx0XHRsZXQgYmlkID0gdGhpcy5fZXh0cmFjdF9ibG9ja19pZF8oY3VycilcclxuXHRcdFx0XHRcdFx0aWYoa2V5PT0nXHU2QkI1XHU4NDNEJyAmJiBibG9ja3MubGVuZ3RoPjAgJiYgYmxvY2tzW2Jsb2Nrcy5sZW5ndGgtMV1bMF09PSdcdTZCQjVcdTg0M0QnKXtcclxuXHRcdFx0XHRcdFx0XHRibG9ja3NbYmxvY2tzLmxlbmd0aC0xXVsxXSA9IGJsb2Nrc1tibG9ja3MubGVuZ3RoLTFdWzFdK2N1cnJcclxuXHRcdFx0XHRcdFx0XHRibG9ja3NbYmxvY2tzLmxlbmd0aC0xXVsyXSA9IGJpZFxyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRibG9ja3MucHVzaChba2V5LGN1cnIsYmlkXSlcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRmbGFnID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0Y3R4PWN0eC5zbGljZShjdXJyLmxlbmd0aClcclxuXHRcdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoZmxhZyl7XHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKGN0eC5sZW5ndGg+MCl7XHJcblx0XHRcdGxldCBiaWQgPSB0aGlzLl9leHRyYWN0X2Jsb2NrX2lkXyhjdHgpXHJcblx0XHRcdGJsb2Nrcy5wdXNoKFsnXHU2QkI1XHU4NDNEJyxjdHgsYmlkXSlcclxuXHRcdH1cclxuXHRcdHJldHVybiBibG9ja3NcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFwcGVuZF9ibG9ja19pZHModGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IGJsb2NrcyA9IGF3YWl0IHRoaXMuZXh0cmFjdF9hbGxfYmxvY2tzKHRmaWxlKTtcclxuXHRcdGxldCBpdGVtcyA9IFtdXHJcblx0XHRmb3IobGV0IGJsb2NrIG9mIGJsb2Nrcyl7XHJcblx0XHRcdGlmKFsnXHU3QTdBXHU3NjdEXHU2QkI1XHU4NDNEJywnWUFNTCddLmNvbnRhaW5zKGJsb2NrWzBdKSl7XHJcblx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXSlcclxuXHRcdFx0fWVsc2UgaWYoIWJsb2NrWzJdKXtcclxuXHRcdFx0XHRsZXQgYmlkID0gdGhpcy5fZ2VuZXJhdGVfcmFuZG9tX3N0cmluZ18oNilcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZihbJ1x1NEVGQlx1NTJBMScsJ1x1NjVFMFx1NUU4Rlx1NTIxN1x1ODg2OCcsJ1x1NjcwOVx1NUU4Rlx1NTIxN1x1ODg2OCddLmNvbnRhaW5zKGJsb2NrWzBdKSl7XHJcblx0XHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdLnNsaWNlKDAsLTEpKycgXicrYmlkKydcXG4nKVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aWYoYmxvY2tbMV0uZW5kc1dpdGgoJ1xcbicpKXtcclxuXHRcdFx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXSsnXicrYmlkKydcXG4nKVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0rJ1xcbl4nK2JpZCsnXFxuJylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGxldCByZXMgPSBpdGVtcy5qb2luKCcnKVxyXG5cdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KHRmaWxlLHJlcylcclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyByZW1vdmVfYmxvY2tfaWRzKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBibG9ja3MgPSBhd2FpdCB0aGlzLmV4dHJhY3RfYWxsX2Jsb2Nrcyh0ZmlsZSk7XHJcblx0XHRsZXQgaXRlbXMgPSBbXVxyXG5cdFx0Zm9yKGxldCBibG9jayBvZiBibG9ja3Mpe1xyXG5cdFx0XHRpZihbJ1x1N0E3QVx1NzY3RFx1NkJCNVx1ODQzRCcsJ1lBTUwnXS5jb250YWlucyhibG9ja1swXSkpe1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0pXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGxldCByZWcgPSAvXFxzK1xcXlthLXpBLVowLTldK1xccj9cXG4/JC9cclxuXHRcdFx0XHRsZXQgbWF0Y2ggPSByZWcuZXhlYyhibG9ja1sxXSlcclxuXHRcdFx0XHRpZihtYXRjaCl7XHJcblx0XHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdLnJlcGxhY2UocmVnLCdcXG4nKSlcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgcmVzID0gaXRlbXMuam9pbignJylcclxuXHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeSh0ZmlsZSxyZXMpXHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZ2V0X2N1cnJlbnRfc2VjdGlvbigpe1xyXG5cdFx0bGV0IHZpZXcgPSAodGhpcy5hcHAud29ya3NwYWNlIGFzIGFueSkuZ2V0QWN0aXZlRmlsZVZpZXcoKVxyXG5cdFx0bGV0IGVkaXRvciA9IHZpZXcuZWRpdG9yO1xyXG5cdFx0bGV0IHRmaWxlID0gdmlldy5maWxlO1xyXG5cdFx0aWYoIXZpZXcgfHwgIWVkaXRvciB8fCAhdGZpbGUpe3JldHVybiBudWxsfVxyXG5cdFx0bGV0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcclxuXHRcdGNvbnNvbGUubG9nKCdjdXJzb3InLGN1cnNvcilcclxuXHRcdGxldCBjYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKVxyXG5cdFx0Y29uc29sZS5sb2coJ2NhY2hlJyxjYWNoZSlcclxuXHRcdGlmKCFjYWNoZSl7cmV0dXJufVxyXG5cdFx0aWYoIWN1cnNvcil7XHJcblx0XHRcdGxldCBjdHggPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuXHRcdFx0bGV0IGl0ZW1zID0gY2FjaGU/LnNlY3Rpb25zPy5tYXAoXHJcblx0XHRcdFx0c2VjdGlvbj0+Y3R4LnNsaWNlKHNlY3Rpb24ucG9zaXRpb24uc3RhcnQub2Zmc2V0LHNlY3Rpb24ucG9zaXRpb24uZW5kLm9mZnNldClcclxuXHRcdFx0KVxyXG5cdFx0XHRpZighaXRlbXMpe3JldHVybiBudWxsfVxyXG5cdFx0XHRsZXQgc2VjdGlvbiA9IGF3YWl0IHRoaXMucGx1Z2luLmRpYWxvZ19zdWdnZXN0KGl0ZW1zLGNhY2hlLnNlY3Rpb25zKVxyXG5cdFx0XHRyZXR1cm4gc2VjdGlvblxyXG5cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgc2VjdGlvbnMgPSBjYWNoZT8uc2VjdGlvbnM/LmZpbHRlcihcclxuXHRcdFx0XHR4PT57cmV0dXJuIHgucG9zaXRpb24uc3RhcnQubGluZTw9Y3Vyc29yLmxpbmUgJiYgeC5wb3NpdGlvbi5lbmQubGluZT49Y3Vyc29yLmxpbmV9XHJcblx0XHRcdClbMF1cclxuXHRcdFx0cmV0dXJuIHNlY3Rpb25zXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfZnJvbnRtYXR0ZXJfYWxpZ25fZmlsZShzcmM6VEZpbGUsZHN0OlRGaWxlLGZpZWxkOnN0cmluZyl7XHJcblx0XHRpZihmaWVsZCl7XHJcblx0XHRcdGxldCB2YWx1ZSA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKHNyYyxmaWVsZClcclxuXHRcdFx0aWYodmFsdWUpe1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2V0X2Zyb250bWF0dGVyKGRzdCxmaWVsZCx2YWx1ZSwxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4iLCAiXHJcbmltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxtb21lbnQsTWFya2Rvd25SZW5kZXJlcixDb21wb25lbnQsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge05DRWRpdG9yfSBmcm9tICcuL05DRWRpdG9yJztcclxuaW1wb3J0IHtnZXRfdHBfZnVuY30gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB7Tm90ZUNvbnRlbnRNb2RhbCxOb3RlRWRpdG9yTW9kYWx9IGZyb20gJy4vTkNNb2RhbCdcclxuaW1wb3J0IHsgc3RyaW5ncyB9IGZyb20gJy4vc3RyaW5ncyc7XHJcbmltcG9ydCB7IG9mZiB9IGZyb20gJ3Byb2Nlc3MnO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZUNoYWlue1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRwcmV2OnN0cmluZztcclxuXHRuZXh0OnN0cmluZztcclxuXHRlZGl0b3I6TkNFZGl0b3I7XHJcblx0Y2hpbGRyZW46e1trZXk6c3RyaW5nXTphbnl9O1xyXG5cdE5vdGVFZGl0b3JNb2RhbDphbnlcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbixlZGl0b3I6TkNFZGl0b3IscHJldj1cIlByZXZOb3RlXCIsbmV4dD1cIk5leHROb3RlXCIpIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0aWYoZWRpdG9yKXtcclxuXHRcdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGhpcy5lZGl0b3IgPSBuZXcgTkNFZGl0b3IocGx1Z2luKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0dGhpcy5Ob3RlRWRpdG9yTW9kYWwgPSBOb3RlRWRpdG9yTW9kYWxcclxuXHRcdFxyXG5cdFx0dGhpcy5wcmV2ID0gcHJldjtcclxuXHRcdHRoaXMubmV4dCA9IG5leHQ7XHJcblx0XHR0aGlzLmluaXRfY2hpbGRyZW4oKTtcclxuXHR9XHJcblxyXG5cclxuXHJcbiAgICBhc3luYyBvcGVuX25vdGVfaW5fbW9kYWwobm90ZVBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBmaWxlID0gdGhpcy5nZXRfdGZpbGUobm90ZVBhdGgpO1xyXG4gICAgICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTm90ZUNvbnRlbnRNb2RhbCh0aGlzLmFwcCwgY29udGVudCwgdGhpcy5wbHVnaW4pO1xyXG5cdFx0XHRcdG1vZGFsLm9wZW4oKTtcclxuXHRcdFx0XHRyZXR1cm4gbW9kYWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0XHRcdFx0bGV0IG1vZGFsID0gbmV3IE5vdGVDb250ZW50TW9kYWwodGhpcy5hcHAsIG5vdGVQYXRoLCB0aGlzLnBsdWdpbik7XHJcblx0XHRcdFx0bW9kYWwub3BlbigpO1xyXG5cdFx0XHRcdHJldHVybiBtb2RhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIG9wZW5pbmcgbm90ZSBpbiBtb2RhbDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblx0aW5pdF9jaGlsZHJlbigpe1xyXG5cdFx0dGhpcy5jaGlsZHJlbiA9IHt9O1xyXG5cdFx0Zm9yKGxldCBmIG9mIHRoaXMuZ2V0X2FsbF9mb2xkZXJzKCkpe1xyXG5cdFx0XHRsZXQgdGZpbGVzID0gZi5jaGlsZHJlbjtcclxuXHRcdFx0aWYodGhpcy5wbHVnaW4uZXhwbG9yZXI/LmZpbGVfZXhwbG9yZXIpe1xyXG5cdFx0XHRcdHRmaWxlcyAgPSB0aGlzLnNvcnRfdGZpbGVzKFxyXG5cdFx0XHRcdFx0dGZpbGVzLFxyXG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5zb3J0T3JkZXJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdCh0aGlzLmNoaWxkcmVuIGFzIGFueSlbZi5wYXRoXSA9IHRoaXMuc29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0cmVmcmVzaF9mb2xkZXIodGZvbGRlcjpURm9sZGVyKXtcclxuXHRcdGlmKHRmb2xkZXI/LmNoaWxkcmVuKXtcclxuXHRcdFx0bGV0IHRmaWxlcyAgPSB0Zm9sZGVyLmNoaWxkcmVuO1xyXG5cdFx0XHRpZih0aGlzLnBsdWdpbi5leHBsb3Jlci5maWxlX2V4cGxvcmVyKXtcclxuXHRcdFx0XHR0ZmlsZXMgID0gdGhpcy5zb3J0X3RmaWxlcyhcclxuXHRcdFx0XHRcdHRmaWxlcyBhcyBhbnksXHJcblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnNvcnRPcmRlclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5jaGlsZHJlblt0Zm9sZGVyLnBhdGhdID0gdGhpcy5zb3J0X3RmaWxlc19ieV9jaGFpbihcclxuXHRcdFx0XHR0ZmlsZXNcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJlZnJlc2hfdGZpbGUodGZpbGU6VEFic3RyYWN0RmlsZSl7XHJcblx0XHRpZih0ZmlsZS5wYXJlbnQ/LmNoaWxkcmVuKXtcclxuXHRcdFx0dGhpcy5yZWZyZXNoX2ZvbGRlcih0ZmlsZS5wYXJlbnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0IHRwX2ZpbmRfdGZpbGUoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuZmlsZS5maW5kX3RmaWxlJyk7XHJcblx0fVxyXG5cclxuXHRnZXQgdHBfc3VnZ2VzdGVyKCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLnN5c3RlbS5zdWdnZXN0ZXInKTtcclxuXHR9XHJcblxyXG5cdGdldCB0cF9wcm9tcHQoKXtcclxuXHRcdHJldHVybiBnZXRfdHBfZnVuYyh0aGlzLmFwcCwndHAuc3lzdGVtLnByb21wdCcpO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF9mb2xkZXJzKCl7XHJcblx0XHRsZXQgZm9sZGVycyA9ICh0aGlzLmFwcC52YXVsdCBhcyBhbnkpLmdldEFsbEZvbGRlcnMoKTtcclxuXHRcdGxldCBmb2xkZXIgPSB0aGlzLmFwcC52YXVsdC5nZXRGb2xkZXJCeVBhdGgoJy8nKTtcclxuXHRcdGlmKGZvbGRlciYmICFmb2xkZXJzLmNvbnRhaW5zKGZvbGRlcikpe1xyXG5cdFx0XHRmb2xkZXJzLnB1c2goZm9sZGVyKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmb2xkZXJzO1xyXG5cdH1cclxuXHJcblx0Z2V0X2FsbF90ZmlsZXMoc29ydF9tb2RlPScnKXtcclxuXHRcdGxldCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdGlmKCEoc29ydF9tb2RlPT09JycpKXtcclxuXHRcdFx0dGhpcy5zb3J0X3RmaWxlcyhmaWxlcyxzb3J0X21vZGU9c29ydF9tb2RlKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnM6QXJyYXk8VEZvbGRlcj4scmV2ZXJzZT10cnVlKXtcclxuXHRcdGZ1bmN0aW9uIHVmdW5jKGY6VEZvbGRlcil7XHJcblx0XHRcdHJldHVybiBNYXRoLm1heChcclxuXHRcdFx0XHQuLi5mLmNoaWxkcmVuLmZpbHRlcigoZjpURmlsZSk9PmYuYmFzZW5hbWUpLm1hcCgoZjpURmlsZSk9PmYuc3RhdFxyXG5cdFx0XHRcdC5tdGltZSlcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IGZvbGRlcnMuc29ydCgoYSxiKT0+dWZ1bmMoYSktdWZ1bmMoYikpO1xyXG5cdFx0aWYocmV2ZXJzZSl7XHJcblx0XHRcdHJlcyA9IHJlcy5yZXZlcnNlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY21kX21vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcih0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgZm9sZGVycyA9IHRoaXMuZ2V0X2FsbF9mb2xkZXJzKCk7XHJcblx0XHRmb2xkZXJzID0gdGhpcy5zb3J0X2ZvbGRlcnNfYnlfbXRpbWUoZm9sZGVyc1xyXG5cdFx0KS5maWx0ZXIoZj0+ZiE9dGZpbGUucGFyZW50KTtcclxuXHJcblx0XHRpZih0ZmlsZS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0Zm9sZGVycyA9IGZvbGRlcnMuZmlsdGVyKChmOlRGaWxlKT0+dGhpcy5maWx0ZXJfdXNlcl9pZ25vcmUoZikpO1xyXG5cdFx0fVxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IGZvbGRlciA9IGF3YWl0IHRoaXMucGx1Z2luLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdHRoaXMucGx1Z2luLnV0aWxzLmFycmF5X3ByZWZpeF9pZChcclxuXHRcdFx0XHRcdGZvbGRlcnMubWFwKChmOlRGaWxlKT0+Zi5wYXRoKVxyXG5cdFx0XHRcdCksZm9sZGVyc1xyXG5cdFx0XHQpO1xyXG5cdFx0XHQvLyBcdTc5RkJcdTUyQThcdTdCMTRcdThCQjBcclxuXHRcdFx0bGV0IGRzdCA9IGZvbGRlci5wYXRoK1wiL1wiK3RmaWxlLmJhc2VuYW1lK1wiLlwiK3RmaWxlLmV4dGVuc2lvbjtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZSh0ZmlsZSxkc3QpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZpbHRlcl91c2VyX2lnbm9yZShub3RlOlRGaWxlKXtcclxuXHRcdGlmKCEoKHRoaXMuYXBwLnZhdWx0IGFzIGFueSkuY29uZmlnLmF0dGFjaG1lbnRGb2xkZXJQYXRoPT09Jy4vJykpe1xyXG5cdFx0XHRpZihub3RlLnBhdGguc3RhcnRzV2l0aChcclxuXHRcdFx0XHQodGhpcy5hcHAudmF1bHQgYXMgYW55KS5jb25maWcuYXR0YWNobWVudEZvbGRlclBhdGgpXHJcblx0XHRcdCl7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZigodGhpcy5hcHAudmF1bHQgYXMgYW55KS51c2VySWdub3JlRmlsdGVycyl7XHJcblx0XHRcdGZvcihsZXQgeCBvZiAodGhpcy5hcHAudmF1bHQgYXMgYW55KS51c2VySWdub3JlRmlsdGVycyl7XHJcblx0XHRcdFx0aWYobm90ZS5wYXRoLnN0YXJ0c1dpdGgoeCkpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfbm90ZShub3RlcyA6IG51bGwgfCBBcnJheTxURmlsZT4gPSBudWxsLHNsaWNlPTApe1xyXG5cdFx0Ly8gXHU0RUNFXHU1RTkzXHU0RTJEXHU5MDA5XHU2MkU5XHU0RTAwXHU0RTJBXHU3QjE0XHU4QkIwXHJcblx0XHRpZihub3Rlcz09bnVsbCl7XHJcblx0XHRcdG5vdGVzID0gdGhpcy5zb3J0X3RmaWxlcyhcclxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpLFxyXG5cdFx0XHRcdFsnbXRpbWUnLCd4J11cclxuXHRcdFx0KS5maWx0ZXIoKGY6VEZpbGUpPT50aGlzLmZpbHRlcl91c2VyX2lnbm9yZShmKSk7XHJcblx0XHR9XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbXNnID0gdGhpcy5wbHVnaW4udXRpbHMuYXJyYXlfcHJlZml4X2lkKChub3RlcyBhcyBhbnkpLm1hcCgoZjpURmlsZSk9PmYucGF0aC5zbGljZShzbGljZSkpKTtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5kaWFsb2dfc3VnZ2VzdChtc2csbm90ZXMpO1xyXG5cdFx0XHRyZXR1cm4gbm90ZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3Blbl9ub3RlKHRmaWxlOlRGaWxlLG5ld190YWI9ZmFsc2UscmV2ZWFsRm9sZGVyPWZhbHNlLGNvbGxhcHNlPXRydWUpe1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdFx0aWYobmV3X3RhYiB8fCAhdmlldyB8fCAhdmlldy5sZWFmKXtcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1lbHNlIGlmKCh2aWV3LmxlYWYgYXMgYW55KS5waW5uZWQpe1xyXG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmlldy5sZWFmLm9wZW5GaWxlKHRmaWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYocmV2ZWFsRm9sZGVyKXtcclxuXHRcdFx0XHRpZihjb2xsYXBzZSl7XHJcblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnRyZWUuc2V0Q29sbGFwc2VBbGwodHJ1ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCh0aGlzLnBsdWdpbi5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkucmV2ZWFsSW5Gb2xkZXIodGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdndXN0ZXJfb3Blbl9ub3RlKCl7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgbm90ZSA9IGF3YWl0IHRoaXMuc3VnZ3VzdGVyX25vdGUoKTtcclxuXHRcdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdGdldF90ZmlsZShwYXRoOnN0cmluZyxvbmx5X2ZpcnN0PXRydWUpe1xyXG5cdFx0dHJ5e1xyXG5cdFx0XHRwYXRoID0gcGF0aC5zcGxpdCgnfCcpWzBdLnJlcGxhY2UoJ1tbJywnJykucmVwbGFjZSgnXV0nLCcnKTtcclxuXHRcdFx0bGV0IHRmaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChwYXRoKVxyXG5cdFx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgdGZpbGVzID0gKHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUgYXMgYW55KS51bmlxdWVGaWxlTG9va3VwLmdldChwYXRoLnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0XHRpZighdGZpbGVzKXtcclxuXHRcdFx0XHR0ZmlsZXMgPSAodGhpcy5hcHAubWV0YWRhdGFDYWNoZSBhcyBhbnkpLnVuaXF1ZUZpbGVMb29rdXAuZ2V0KHBhdGgudG9Mb3dlckNhc2UoKSsnLm1kJyk7XHJcblx0XHRcdFx0aWYoIXRmaWxlcyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHBhdGggPSBwYXRoKycubWQnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgY3RmaWxlcyA9IHRmaWxlcy5maWx0ZXIoKHg6VEZpbGUpPT54Lm5hbWU9PXBhdGgpXHJcblx0XHRcdGlmKGN0ZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRcdGlmKG9ubHlfZmlyc3Qpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGN0ZmlsZXNbMF1cclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHJldHVybiBjdGZpbGVzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZih0ZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRcdGlmKG9ubHlfZmlyc3Qpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRmaWxlc1swXVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRmaWxlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1jYXRjaHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2cocGF0aClcclxuXHRcdFx0cmV0dXJuIG51bGxcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF90YWdzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJuIFtdfVxyXG5cdFx0bGV0IG1jYWNoZT0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0bGV0IHRhZ3M6QXJyYXk8c3RyaW5nPiA9IFtdXHJcblx0XHRpZihtY2FjaGU/LnRhZ3Mpe1xyXG5cdFx0XHRmb3IobGV0IGN1cnIgb2YgbWNhY2hlLnRhZ3Mpe1xyXG5cdFx0XHRcdGlmKCF0YWdzLmNvbnRhaW5zKGN1cnIudGFnKSl7XHJcblx0XHRcdFx0XHR0YWdzLnB1c2goY3Vyci50YWcpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihtY2FjaGU/LmZyb250bWF0dGVyPy50YWdzKXtcclxuXHRcdFx0aWYoQXJyYXkuaXNBcnJheShtY2FjaGUuZnJvbnRtYXR0ZXIudGFncykpe1xyXG5cdFx0XHRcdGZvcihsZXQgY3VyciBvZiBtY2FjaGUuZnJvbnRtYXR0ZXIudGFncyl7XHJcblx0XHRcdFx0XHRsZXQgdGFnID0gJyMnK2N1cnI7XHJcblx0XHRcdFx0XHRpZighdGFncy5jb250YWlucyh0YWcpKXtcclxuXHRcdFx0XHRcdFx0dGFncy5wdXNoKHRhZylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1lbHNlIGlmKHR5cGVvZiBtY2FjaGUuZnJvbnRtYXR0ZXIudGFncyA9PT0gJ3N0cmluZycpe1xyXG5cdFx0XHRcdGxldCB0YWcgPSBgI2ArbWNhY2hlLmZyb250bWF0dGVyLnRhZ3NcclxuXHRcdFx0XHRpZighdGFncy5jb250YWlucyh0YWcpKXtcclxuXHRcdFx0XHRcdHRhZ3MucHVzaCh0YWcpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRhZ3NcclxuXHR9XHJcblxyXG5cdGdldF9yZWNlbnRfdGZpbGVzKG9ubHlfbWQ9dHJ1ZSk6QXJyYXk8VEZpbGU+e1xyXG5cdFx0bGV0IHJlY2VudCA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKCdyZWNlbnQtZmlsZXMtb2JzaWRpYW4nKTtcclxuXHRcdGlmKHJlY2VudCl7XHJcblx0XHRcdGxldCBmaWxlcyA9IHJlY2VudC5kYXRhLnJlY2VudEZpbGVzLm1hcChcclxuXHRcdFx0XHQoeDphbnkpPT50aGlzLmdldF90ZmlsZSh4LnBhdGgpXHJcblx0XHRcdCkuZmlsdGVyKCh4OmFueSk9PngpXHJcblx0XHRcdHJldHVybiBmaWxlc1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCByZWNlbnQgPSBbXVxyXG5cdFx0XHRsZXQgZmlsZXMgPSAodGhpcy5hcHAud29ya3NwYWNlIGFzIGFueSkucmVjZW50RmlsZVRyYWNrZXI/Lmxhc3RPcGVuRmlsZXNcclxuXHRcdFx0aWYoZmlsZXMgICYmIGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRyZWNlbnQgPSBmaWxlcy5tYXAoKHg6c3RyaW5nKT0+dGhpcy5nZXRfdGZpbGUoeCkpLmZpbHRlcigoeDpURmlsZSk9PngpXHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IHRmaWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG5cdFx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdFx0cmVjZW50LnVuc2hpZnQodGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdFx0aWYob25seV9tZCl7XHJcblx0XHRcdFx0cmVjZW50ID0gcmVjZW50LmZpbHRlcigoeDpURmlsZSk9PnguZXh0ZW5zaW9uPT0nbWQnKVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZWNlbnRcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9sYXN0X2RhaWx5X25vdGUocmVjZW50X2ZpcnN0PXRydWUpe1xyXG5cdFx0bGV0IHBhdHRlcm49L15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvO1xyXG5cclxuXHRcdGlmKHJlY2VudF9maXJzdCl7XHJcblx0XHRcdGxldCByZWNlbnQgPSB0aGlzLmdldF9yZWNlbnRfdGZpbGVzKClcclxuXHRcdFx0Zm9yKGxldCB0ZmlsZSBvZiByZWNlbnQpe1xyXG5cdFx0XHRcdGlmKHRmaWxlLmJhc2VuYW1lLm1hdGNoKHBhdHRlcm4pKXtcclxuXHRcdFx0XHRcdHJldHVybiB0ZmlsZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IHQgPSBtb21lbnQoKVxyXG5cdFx0Zm9yKGxldCBpPTA7aTwyMDtpKyspe1xyXG5cdFx0XHRsZXQgeHQgPSB0LmNsb25lKCkuYWRkKC1pLCdkYXlzJylcclxuXHRcdFx0Ly8gXHU1RTkzXHU0RTJEXHU2MjQwXHU2NzA5XHU2NTg3XHU0RUY2XHJcblx0XHRcdGxldCBmbmFtZSA9IHh0LmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG5cdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShmbmFtZSk7XHJcblx0XHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpLmZpbHRlcihcclxuXHRcdFx0KHg6VEZpbGUpPT54LmJhc2VuYW1lLm1hdGNoKHBhdHRlcm4pXHJcblx0XHQpO1xyXG5cdFx0ZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzKGZpbGVzLCduYW1lJyk7XHJcblx0XHRpZihmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdHJldHVybiBmaWxlc1tmaWxlcy5sZW5ndGgtMV07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGdldF9uZWlnaGJvcl9sZWFmKG9mZnNldD0xKXtcclxuXHRcdGxldCBhcHAgPSB0aGlzLnBsdWdpbi5hcHBcclxuXHRcdGxldCBsZWF2ZXMgPSBhcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnbWFya2Rvd24nKTtcclxuXHRcdGxldCBhY3RpdmVMZWFmID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRpZihhY3RpdmVMZWFmKXtcclxuXHRcdFx0bGV0IGlkeCA9IGxlYXZlcy5tYXAoeD0+eC52aWV3PT1hY3RpdmVMZWFmKS5pbmRleE9mKHRydWUpO1xyXG5cdFx0XHRpZHggPSBpZHgrb2Zmc2V0O1xyXG5cdFx0XHRpZihpZHg8MCB8fCBpZHg+bGVhdmVzLmxlbmd0aC0xKXtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbGVhdmVzW2lkeF07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKHNraXBfY29ub3RlPXRydWUpe1xyXG5cdFx0bGV0IGxlYXZlczpBcnJheTxhbnk+ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnbWFya2Rvd24nKTtcclxuXHRcdGxlYXZlcyA9IGxlYXZlcy5maWx0ZXIoeD0+eC5nZXRWaWV3U3RhdGUoKS5zdGF0ZS5maWxlKTtcclxuXHRcdGxlYXZlcyA9IGxlYXZlcy5zb3J0KChhLGIpPT5iLmFjdGl2ZVRpbWUgLSBhLmFjdGl2ZVRpbWUpO1xyXG5cclxuXHRcdGZvcihsZXQgbGVhZiBvZiBsZWF2ZXMpe1xyXG5cdFx0XHRsZXQgZmlsZSA9IGxlYWYuZ2V0Vmlld1N0YXRlKCkuc3RhdGUuZmlsZTtcclxuXHRcdFx0aWYoc2tpcF9jb25vdGUgJiYgdGhpcy5nZXRfdGFncyhmaWxlKS5jb250YWlucygnI2Nvbm90ZScpKXtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbGVhZjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbGVhZiA9IG51bGw7XHJcblx0XHRmb3IobGV0IGkgb2YgWzEsLTEsMF0pe1xyXG5cdFx0XHRsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X25laWdoYm9yX2xlYWYoaSk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHJldHVybiBsZWFmO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGdldCBjdXJyZW50X25vdGUoKTpURmlsZXxudWxse1xyXG5cdFx0cmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblx0fVxyXG5cclxuXHRnZXRfc2VsZWN0ZWRfZmlsZXMoY3VycmVudF9pZl9ub19zZWxlY3RlZD10cnVlKXtcclxuXHRcdGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHQgIFwiLnRyZWUtaXRlbS1zZWxmLmlzLXNlbGVjdGVkXCJcclxuXHRcdCk7XHJcblx0XHRsZXQgaXRlbXMgPSBPYmplY3QudmFsdWVzKHNlbGVjdG9yKS5tYXAoKHg6YW55KSA9PiB7XHJcblx0XHQgIHZhciBfYTtcclxuXHRcdCAgcmV0dXJuIChfYSA9IHguZGF0YXNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnBhdGg7XHJcblx0XHR9KTtcclxuXHRcdGxldCB0ZmlsZXMgPSBpdGVtcy5tYXAoXHJcblx0XHRcdCh4KSA9PiB0aGlzLmdldF90ZmlsZSh4KSkuZmlsdGVyKCh4KSA9PiB4LmV4dGVuc2lvbiA9PSBcIm1kXCJcclxuXHRcdClcclxuXHRcdGlmKHRmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdHJldHVybiB0ZmlsZXNcclxuXHRcdH1lbHNlIGlmKGN1cnJlbnRfaWZfbm9fc2VsZWN0ZWQgJiYgdGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRyZXR1cm4gW3RoaXMuY3VycmVudF9ub3RlXVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2lubGlua3ModGZpbGU9dGhpcy5jdXJyZW50X25vdGUsb25seV9tZD10cnVlKTpBcnJheTxURmlsZT57XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuIFtdO31cclxuXHRcdGxldCByZXM6QXJyYXk8VEZpbGU+ID0gW11cclxuXHJcblx0XHRsZXQgaW5saW5rcyA9ICh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueSkuZ2V0QmFja2xpbmtzRm9yRmlsZSh0ZmlsZSk7XHJcblx0XHRmb3IobGV0IFtrLHZdIG9mIGlubGlua3MuZGF0YSl7XHJcblx0XHRcdGxldCBjdXJyID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChrKTtcclxuXHRcdFx0aWYoY3Vycil7XHJcblx0XHRcdFx0cmVzLnB1c2goY3VycilcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9vdXRsaW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxvbmx5X21kPXRydWUpOkFycmF5PFRGaWxlPntcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCBtY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRpZighbWNhY2hlKXtyZXR1cm4gW107fVxyXG5cclxuXHRcdGxldCByZXM6QXJyYXk8VEZpbGU+ID0gW107XHJcblx0XHRpZihtY2FjaGUubGlua3Mpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmxpbmtzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpICYmICEob25seV9tZCAmJiB0ZmlsZS5leHRlbnNpb24hPSdtZCcpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKG1jYWNoZS5mcm9udG1hdHRlckxpbmtzKXtcclxuXHRcdFx0Zm9yKGxldCBsaW5rIG9mIG1jYWNoZS5mcm9udG1hdHRlckxpbmtzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpICYmICEob25seV9tZCAmJiB0ZmlsZS5leHRlbnNpb24hPSdtZCcpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKCFvbmx5X21kICYmIG1jYWNoZS5lbWJlZHMpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmVtYmVkcyl7XHJcblx0XHRcdFx0bGV0IHRmaWxlID0gdGhpcy5nZXRfdGZpbGUobGluay5saW5rKTtcclxuXHRcdFx0XHRpZih0ZmlsZSAmJiAhcmVzLmNvbnRhaW5zKHRmaWxlKSl7XHJcblx0XHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0Z2V0X2xpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLG9ubHlfbWQ9dHJ1ZSl7XHJcblx0XHRsZXQgaW5saW5rcyA9IHRoaXMuZ2V0X2lubGlua3ModGZpbGUsb25seV9tZCk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSxvbmx5X21kKTtcclxuXHRcdGZvcihsZXQgbGluayBvZiBpbmxpbmtzKXtcclxuXHRcdFx0aWYoIW91dGxpbmtzLmNvbnRhaW5zKGxpbmspKXtcclxuXHRcdFx0XHRvdXRsaW5rcy5wdXNoKGxpbmspXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBvdXRsaW5rcztcclxuXHR9XHJcblxyXG5cdGdldF9ncm91cF9pbmxpbmtzKHRmaWxlczpBcnJheTxURmlsZT4sbGV2ZWw9MSl7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHR3aGlsZShsZXZlbCE9MCl7XHJcblx0XHRcdGxldCBjdXJyID0gaXRlbXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHRcdGZvcihsZXQgYyBvZiBjdXJyKXtcclxuXHRcdFx0XHRsZXQgbGlua3MgPSB0aGlzLmdldF9pbmxpbmtzKGMsdHJ1ZSk7XHJcblx0XHRcdFx0Zm9yKGxldCBsaW5rIG9mIGxpbmtzKXtcclxuXHRcdFx0XHRcdGlmKCFpdGVtcy5jb250YWlucyhsaW5rKSl7XHJcblx0XHRcdFx0XHRcdGl0ZW1zLnB1c2gobGluaylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoY3Vyci5sZW5ndGg9PWl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV2ZWwgPSBsZXZlbC0xO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW1zO1xyXG5cdH1cclxuXHJcblx0Z2V0X2dyb3VwX291dGxpbmtzKHRmaWxlczpBcnJheTxURmlsZT4sbGV2ZWw9MSl7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHR3aGlsZShsZXZlbCE9MCl7XHJcblx0XHRcdGxldCBjdXJyID0gaXRlbXMubWFwKCh4OlRGaWxlKT0+eCk7XHJcblx0XHRcdGZvcihsZXQgYyBvZiBjdXJyKXtcclxuXHRcdFx0XHRsZXQgbGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyhjLHRydWUpO1xyXG5cdFx0XHRcdGZvcihsZXQgbGluayBvZiBsaW5rcyl7XHJcblx0XHRcdFx0XHRpZighaXRlbXMuY29udGFpbnMobGluaykpe1xyXG5cdFx0XHRcdFx0XHRpdGVtcy5wdXNoKGxpbmspXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGN1cnIubGVuZ3RoPT1pdGVtcy5sZW5ndGgpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldmVsID0gbGV2ZWwtMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcztcclxuXHR9XHJcblxyXG5cdGdldF9ncm91cF9saW5rcyh0ZmlsZXM6QXJyYXk8VEZpbGU+LGxldmVsPTEpe1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0d2hpbGUobGV2ZWwhPTApe1xyXG5cdFx0XHRsZXQgY3VyciA9IGl0ZW1zLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0XHRmb3IobGV0IGMgb2YgY3Vycil7XHJcblx0XHRcdFx0bGV0IGxpbmtzID0gdGhpcy5nZXRfbGlua3MoYyx0cnVlKTtcclxuXHRcdFx0XHRmb3IobGV0IGxpbmsgb2YgbGlua3Mpe1xyXG5cdFx0XHRcdFx0aWYoIWl0ZW1zLmNvbnRhaW5zKGxpbmspKXtcclxuXHRcdFx0XHRcdFx0aXRlbXMucHVzaChsaW5rKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihjdXJyLmxlbmd0aD09aXRlbXMubGVuZ3RoKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXZlbCA9IGxldmVsLTE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fVxyXG5cclxuXHRnZXRfYnJvdGhlcnModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYodGZpbGUmJnRmaWxlLnBhcmVudCl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF90ZmlsZXNfb2ZfZm9sZGVyKHRmaWxlLnBhcmVudCxmYWxzZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0fVxyXG5cclxuXHRnZXRfdW5jbGVzKHRmaWxlOlRGaWxlKXtcclxuXHRcdGlmKHRmaWxlICYmIHRmaWxlLnBhcmVudCAmJiB0ZmlsZS5wYXJlbnQucGFyZW50KXtcclxuXHRcdFx0bGV0IGZvbGRlciA9IHRmaWxlLnBhcmVudC5wYXJlbnQ7XHJcblx0XHRcdHJldHVybiBmb2xkZXIuY2hpbGRyZW4uZmlsdGVyKFxyXG5cdFx0XHRcdCh4OlRBYnN0cmFjdEZpbGUpPT54IGluc3RhbmNlb2YgVEZpbGVcclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtdXHJcblx0fVxyXG5cclxuXHRnZXRfdGZpbGVzX29mX2ZvbGRlcih0Zm9sZGVyOlRGb2xkZXJ8bnVsbCx3aXRoX2NoaWxkcmVuPWZhbHNlKTphbnl7XHJcblx0XHRpZih0Zm9sZGVyPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0bGV0IG5vdGVzID0gW107XHJcblx0XHRmb3IobGV0IGMgb2YgdGZvbGRlci5jaGlsZHJlbil7XHJcblx0XHRcdGlmKGMgaW5zdGFuY2VvZiBURmlsZSAmJiBjLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRcdG5vdGVzLnB1c2goYyk7XHJcblx0XHRcdH1lbHNlIGlmKGMgaW5zdGFuY2VvZiBURm9sZGVyICYmIHdpdGhfY2hpbGRyZW4pe1xyXG5cdFx0XHRcdGxldCB0bXAgPSB0aGlzLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGMpO1xyXG5cdFx0XHRcdGZvcihsZXQgeCBvZiB0bXApe1xyXG5cdFx0XHRcdFx0bm90ZXMucHVzaCh4KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBub3RlcztcclxuXHJcblx0fVxyXG5cclxuXHRpbmRleE9mRm9sZGVyKHRmaWxlOlRGb2xkZXIsdGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgZm5vdGUgPSB0aGlzLmdldF90ZmlsZSh0ZmlsZS5uYW1lKycubWQnKTtcclxuXHRcdGlmKCFmbm90ZSl7cmV0dXJuIC0xO31cclxuXHRcdGxldCBtc2cgPSB0aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRmbm90ZSxcIkZvbGRlclByZXZOb3RlXCJcclxuXHRcdCk7XHJcblx0XHRpZighbXNnfHx0eXBlb2YobXNnKSE9J3N0cmluZycpe3JldHVybiAtMTt9XHJcblx0XHRsZXQgYW5jaG9yID0gdGhpcy5nZXRfdGZpbGUobXNnKVxyXG5cdFx0aWYoIWFuY2hvcil7cmV0dXJuIC0xO31cclxuXHRcdGxldCBpZHggPSB0ZmlsZXMuaW5kZXhPZihhbmNob3IpO1xyXG5cdFx0bGV0IG9mZnNldCA9IHRoaXMucGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdGZub3RlLFwiRm9sZGVyUHJldk5vdGVPZmZzZXRcIlxyXG5cdFx0KTtcclxuXHJcblx0XHRpZih0eXBlb2Yob2Zmc2V0KT09J3N0cmluZycpe1xyXG5cdFx0XHRpZHggPSBpZHggKyBwYXJzZUZsb2F0KG9mZnNldCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0aWR4ID0gaWR4ICsgMC41O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGlkeDtcclxuXHR9XHJcblxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0aWYodGZpbGUucGFyZW50PT1jdXJyPy5wYXJlbnQpe1xyXG5cdFx0XHRtc2cgPSB0ZmlsZS5iYXNlbmFtZTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtc2cgPSB0ZmlsZS5wYXRoO1xyXG5cdFx0fVxyXG5cdFx0aWYodGZpbGU9PXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdFx0cmV0dXJuIGBcdUQ4M0NcdURGRTAgJHttc2d9YFxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBtc2c7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2dlc3Rlcl9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxjdXJyX2ZpcnN0PWZhbHNlLHNtb2RlPScnKXtcclxuXHRcdGlmKHRmaWxlKXt0ZmlsZT09dGhpcy5jdXJyZW50X25vdGU7fVxyXG5cdFx0bGV0IGt2ID0gW1xyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fZ2V0X2Jyb3RoZXJzLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fbm90ZWNoYWluLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fdW5jbGVfbm90ZXMsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9zYW1lX2ZvbGRlcixcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlua3Nfb3V0bGlua3MsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9pbmxpbnMsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9vdXRsaW5rcyxcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2FsbF9ub2VzLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fcmVjZW50LFxyXG5cdFx0XVxyXG5cdFx0XHJcblx0XHRpZihjdXJyX2ZpcnN0KXtcclxuXHRcdFx0a3YudW5zaGlmdCh0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fY3VycmVudG5vdGUpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0a3YucHVzaCh0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fY3VycmVudG5vdGUpXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG1vZGUgPSAnJztcclxuXHRcdGlmKGt2LmNvbnRhaW5zKHNtb2RlKSl7XHJcblx0XHRcdG1vZGUgPSBzbW9kZTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRtb2RlID0gYXdhaXQgdGhpcy5wbHVnaW4uZGlhbG9nX3N1Z2dlc3QodGhpcy5wbHVnaW4udXRpbHMuYXJyYXlfcHJlZml4X2lkKGt2KSxrdik7XHJcblx0XHR9XHJcblx0XHRpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2N1cnJlbnRub3RlKXtcclxuXHRcdFx0cmV0dXJuIFt0ZmlsZV07XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2dldF9icm90aGVycyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9icm90aGVycyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3NhbWVfZm9sZGVyKXtcclxuXHRcdFx0aWYodGZpbGU/LnBhcmVudCl7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3RmaWxlc19vZl9mb2xkZXIodGZpbGUucGFyZW50LHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlua3Nfb3V0bGlua3Mpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfbGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9pbmxpbnMpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfaW5saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX291dGxpbmtzKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X291dGxpbmtzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fYWxsX25vZXMpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfYWxsX3RmaWxlcygpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9yZWNlbnQpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfcmVjZW50X3RmaWxlcygpXHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3VuY2xlX25vdGVzKXtcclxuXHRcdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF91bmNsZXModGZpbGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX25vdGVjaGFpbil7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9jaGFpbihcclxuXHRcdFx0XHR0ZmlsZSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluKSxcclxuXHRcdFx0XHROdW1iZXIodGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluKVxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHQvLyBDaGFpblxyXG5cdGdldF9wcmV2X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYoIXRmaWxlKXtyZXR1cm47fVxyXG5cdFx0aWYoKHRmaWxlIGFzIGFueSkuZGVsZXRlZCl7XHJcblx0XHRcdGxldCB0ZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblx0XHRcdFxyXG5cdFx0XHR0ZmlsZXMgPSB0ZmlsZXMuZmlsdGVyKGY9PntcclxuXHRcdFx0XHRpZighZil7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IG5leHQgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZix0aGlzLm5leHQpXHJcblx0XHRcdFx0aWYodHlwZW9mKG5leHQpIT0nc3RyaW5nJyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gPT0gbmV4dFxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0aWYodGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGVzWzBdO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMucHJldik7XHJcblx0XHRcdGlmKCFuYW1lfHx0eXBlb2YobmFtZSkhPSdzdHJpbmcnKXtyZXR1cm4gbnVsbDt9XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdHJldHVybiBub3RlP25vdGU6bnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5fcHJldl9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSk7XHJcblx0XHR0aGlzLm9wZW5fbm90ZShub3RlKTtcclxuXHR9XHJcblxyXG5cdGdldF9uZXh0X25vdGUodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYoIXRmaWxlKXtyZXR1cm4gbnVsbDt9XHJcblx0XHRpZigodGZpbGUgYXMgYW55KS5kZWxldGVkKXtcclxuXHRcdFx0bGV0IHRmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdFx0bGV0IHByZXYgPSBcclxuXHRcdFx0dGZpbGVzID0gdGZpbGVzLmZpbHRlcihmPT57XHJcblx0XHRcdFx0aWYoIWYpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCBwcmV2ID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGYsdGhpcy5wcmV2KVxyXG5cdFx0XHRcdGlmKHR5cGVvZihwcmV2KSE9J3N0cmluZycpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBgW1ske3RmaWxlLmJhc2VuYW1lfV1dYD09IHByZXZcclxuXHRcdFx0fSk7XHJcblx0XHRcdGlmKHRmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlc1swXTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgbmFtZSA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSx0aGlzLm5leHQpO1xyXG5cdFx0XHRpZighbmFtZXx8dHlwZW9mKG5hbWUpIT0nc3RyaW5nJyl7cmV0dXJuIG51bGw7fVxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3RmaWxlKG5hbWUpO1xyXG5cdFx0XHRyZXR1cm4gbm90ZT9ub3RlOm51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRvcGVuX25leHRfbm90ZXModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0bGV0IG5vdGUgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpO1xyXG5cdFx0dGhpcy5vcGVuX25vdGUobm90ZSk7XHJcblx0fVxyXG5cclxuXHRnZXRfY2hhaW4odGZpbGU9dGhpcy5jdXJyZW50X25vdGUscHJldj0xMCxuZXh0PTEwLHdpdGhfc2VsZj10cnVlKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0XHJcblx0XHRsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcblx0XHRpZih3aXRoX3NlbGYpe1xyXG5cdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0bXAgPSB0ZmlsZTtcclxuXHRcdGZvcihsZXQgaT1wcmV2O2khPTA7aS0tKXtcdFxyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X3ByZXZfbm90ZSh0bXApO1xyXG5cdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNlIGlmKHJlcy5pbmNsdWRlcyhub3RlKSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy51bnNoaWZ0KG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcclxuXHRcdHRtcCA9IHRmaWxlO1xyXG5cdFx0Zm9yKGxldCBpPW5leHQ7aSE9MDtpLS0pe1xyXG5cdFx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X25leHRfbm90ZSh0bXApO1xyXG5cdFx0XHRpZighbm90ZSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNlIGlmKHJlcy5pbmNsdWRlcyhub3RlKSl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5wdXNoKG5vdGUpO1xyXG5cdFx0XHRcdHRtcCA9IG5vdGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfZmlyc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwtMSwwLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzWzBdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xhc3Rfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmdldF9jaGFpbih0ZmlsZSwwLC0xLGZhbHNlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0cmV0dXJuIG5vdGVzW25vdGVzLmxlbmd0aC0xXTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9uZWlnaGJvcnModGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0dGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKSxcclxuXHRcdFx0dGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKSxcclxuXHRcdF1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX3NldF9wcmV2KHRmaWxlOlRGaWxlLHByZXY6VEZpbGV8bnVsbCl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCB8fCB0ZmlsZT09cHJldil7cmV0dXJuO31cclxuXHRcdGlmKHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSk9PXByZXYpe3JldHVybjt9XHJcblx0XHRsZXQgbXNnID0gYE5vdGUgQ2hhaW46ICR7cHJldj8uYmFzZW5hbWV9IC0tPiBcdUQ4M0NcdURGRTAke3RmaWxlLmJhc2VuYW1lfWA7XHJcblx0XHRpZihwcmV2PT1udWxsICl7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLnByZXYsbnVsbFxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLnByZXYsYFtbJHtwcmV2LmJhc2VuYW1lfV1dYFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbil7XHJcblx0XHRcdG5ldyBOb3RpY2UobXNnLDUwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fc2V0X25leHQodGZpbGU6VEZpbGUsbmV4dDpURmlsZXxudWxsKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsIHx8IHRmaWxlPT1uZXh0KXtyZXR1cm47fVxyXG5cdFx0aWYodGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKT09bmV4dCl7cmV0dXJuO31cclxuXHRcdGxldCBtc2cgPSBgTm90ZSBDaGFpbjogXHVEODNDXHVERkUwJHt0ZmlsZT8uYmFzZW5hbWV9IDwtLSAke25leHQ/LmJhc2VuYW1lfWA7XHJcblx0XHRpZihuZXh0PT1udWxsICl7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLm5leHQsbnVsbFxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGF3YWl0IHRoaXMuZWRpdG9yLnNldF9mcm9udG1hdHRlcihcclxuXHRcdFx0XHR0ZmlsZSx0aGlzLm5leHQsYFtbJHtuZXh0LmJhc2VuYW1lfV1dYFxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbil7XHJcblx0XHRcdG5ldyBOb3RpY2UobXNnLDUwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fc2V0X3ByZXZfbmV4dCh0ZmlsZTpURmlsZSxwcmV2OlRGaWxlLG5leHQ6VEZpbGUpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwgfHwgcHJldj09bmV4dHx8dGZpbGU9PXByZXZ8fHRmaWxlPT1uZXh0KXtyZXR1cm47fVxyXG5cclxuXHRcdGlmKHRoaXMuZ2V0X3ByZXZfbm90ZSh0ZmlsZSk9PXByZXYpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9uZXh0KHRmaWxlLG5leHQpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYodGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlKT09bmV4dCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYodGZpbGUscHJldik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbXNnID0gYE5vdGUgQ2hhaW46ICR7cHJldj8uYmFzZW5hbWV9IC0tPiBcdUQ4M0NcdURGRTAke3RmaWxlPy5iYXNlbmFtZX0gPC0tICR7bmV4dD8uYmFzZW5hbWV9YDtcclxuXHRcdGxldCBmbTp7W2tleTpzdHJpbmddOmFueX0gPSB7fTtcclxuXHRcdGZtW3RoaXMucHJldl0gPSBwcmV2P2BbWyR7cHJldi5iYXNlbmFtZX1dXWA6bnVsbDtcclxuXHRcdGZtW3RoaXMubmV4dF0gPSBuZXh0P2BbWyR7bmV4dC5iYXNlbmFtZX1dXWA6bnVsbDtcclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLmVkaXRvci5zZXRfbXVsdGlfZnJvbnRtYXR0ZXIodGZpbGUsZm0pO1xyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90aWNlX3doaWxlX21vZGlmeV9jaGFpbil7XHJcblx0XHRcdG5ldyBOb3RpY2UobXNnLDUwMDApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fbGlua19wcmV2X25leHQocHJldjpURmlsZSxuZXh0OlRGaWxlKXtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYobmV4dCxwcmV2KTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X25leHQocHJldixuZXh0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2NvbmNhdF90ZmlsZXModGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHQvLyBcdTZFMDVcdTk2NjRcdTgxRUFcdTk1RURcdTczQUZcclxuXHRcdGxldCBwcmV2ID0gdGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlc1swXSk7XHJcblx0XHRpZih0ZmlsZXMuY29udGFpbnMocHJldikpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2KHRmaWxlc1swXSxudWxsKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBcdTZFMDVcdTk2NjRcdTgxRUFcdTk1RURcdTczQUZcclxuXHRcdGxldCBuZXh0ID0gdGhpcy5nZXRfbmV4dF9ub3RlKHRmaWxlc1t0ZmlsZXMubGVuZ3RoLTFdKTtcclxuXHRcdGlmKHRmaWxlcy5jb250YWlucyhuZXh0KSl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X25leHQodGZpbGVzW3RmaWxlcy5sZW5ndGgtMV0sbnVsbCk7XHJcblx0XHR9XHJcblx0XHRpZih0ZmlsZXMubGVuZ3RoPD0xKXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bGV0IE4gPSB0ZmlsZXMubGVuZ3RoO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dCh0ZmlsZXNbMF0sdGZpbGVzWzFdKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYodGZpbGVzW04tMV0sdGZpbGVzW04tMl0pO1xyXG5cdFx0Zm9yKGxldCBpPTE7aTx0ZmlsZXMubGVuZ3RoLTE7aSsrKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldl9uZXh0KHRmaWxlc1tpXSx0ZmlsZXNbaS0xXSx0ZmlsZXNbaSsxXSlcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX3BvcF9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X25laWdoYm9ycyh0ZmlsZSk7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2xpbmtfcHJldl9uZXh0KG5vdGVzWzBdLG5vdGVzWzFdKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2FzX2hlYWQodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBoZWFkID0gdGhpcy5nZXRfZmlyc3Rfbm90ZShhbmNob3IpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9saW5rX3ByZXZfbmV4dCh0ZmlsZSxoZWFkKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2FzX3RhaWwodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCB0YWlsID0gdGhpcy5nZXRfbGFzdF9ub3RlKGFuY2hvcik7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2xpbmtfcHJldl9uZXh0KHRhaWwsdGZpbGUpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXIodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBhbmNob3JfbmV4dCA9IHRoaXMuZ2V0X25leHRfbm90ZShhbmNob3IpO1xyXG5cdFx0aWYoYW5jaG9yX25leHQ9PXRmaWxlKXtyZXR1cm47fVxyXG5cclxuXHRcdGxldCB0ZmlsZV9uZWlnaGJvciA9IHRoaXMuZ2V0X25laWdoYm9ycyh0ZmlsZSk7XHJcblx0XHRpZih0ZmlsZV9uZWlnaGJvclsxXT09YW5jaG9yKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9jb25jYXRfdGZpbGVzKFxyXG5cdFx0XHRcdFt0ZmlsZV9uZWlnaGJvclswXSxhbmNob3IsdGZpbGUsYW5jaG9yX25leHRdXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9wb3Bfbm9kZSh0ZmlsZSk7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhbYW5jaG9yLHRmaWxlLGFuY2hvcl9uZXh0XSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGxldCBhbmNob3JfcHJldiA9IHRoaXMuZ2V0X3ByZXZfbm90ZShhbmNob3IpO1xyXG5cdFx0aWYoYW5jaG9yX3ByZXY9PXRmaWxlKXtyZXR1cm47fVxyXG5cdFx0bGV0IHRmaWxlX25laWdoYm9yID0gdGhpcy5nZXRfbmVpZ2hib3JzKHRmaWxlKTtcclxuXHRcdGlmKHRmaWxlX25laWdoYm9yWzBdPT1hbmNob3Ipe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX2NvbmNhdF90ZmlsZXMoXHJcblx0XHRcdFx0W2FuY2hvcl9wcmV2LHRmaWxlLGFuY2hvcix0ZmlsZV9uZWlnaGJvclsxXV1cclxuXHRcdFx0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3BvcF9ub2RlKHRmaWxlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9jb25jYXRfdGZpbGVzKFthbmNob3JfcHJldix0ZmlsZSxhbmNob3JdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9mb2xkZXJfYWZ0ZXIodGZpbGU6VEZpbGUsYW5jaG9yOlRGaWxlKXtcclxuXHRcdGlmKCF0ZmlsZS5wYXJlbnQgfHwgdGZpbGUucGFyZW50LnBhcmVudCE9YW5jaG9yLnBhcmVudCl7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUodGZpbGUucGFyZW50Lm5hbWUpO1xyXG5cdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRhd2FpdCB0aGlzLnBsdWdpbi5lZGl0b3Iuc2V0X211bHRpX2Zyb250bWF0dGVyKFxyXG5cdFx0XHRub3RlLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJGb2xkZXJQcmV2Tm90ZVwiOmBbWyR7YW5jaG9yLmJhc2VuYW1lfV1dYCxcclxuXHRcdFx0XHRcIkZvbGRlclByZXZOb3RlT2Zmc2V0XCI6MC41LFxyXG5cdFx0ICAgIH1cclxuXHRcdClcclxuXHR9XHJcblx0XHJcblx0YXN5bmMgY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxtb2RlPSdzdWdnZXN0ZXInKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2Jyb3RoZXJzKHRmaWxlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD09MCl7cmV0dXJuO31cclxuXHJcblx0XHRsZXQgZmlsZXMgPSBhd2FpdCB0aGlzLnN1Z2dlc3Rlcl9zb3J0KG5vdGVzKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhmaWxlcyk7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlcyhmaWxlczpBcnJheTxURmlsZT4sZmllbGQ6YW55KTphbnl7XHJcblx0XHRpZih0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKXtcclxuXHRcdFx0aWYoZmllbGQ9PT0nbmFtZScgfHwgZmllbGQ9PT0nYWxwaGFiZXRpY2FsJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYSxiKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nbXRpbWUnfHwgZmllbGQ9PT0nYnlNb2RpZmllZFRpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0Py5tdGltZS1iLnN0YXQ/Lm10aW1lKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nY3RpbWUnIHx8IGZpZWxkPT09J2J5Q3JlYXRlZFRpbWUnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5zdGF0Py5jdGltZS1iLnN0YXQ/LmN0aW1lKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nYWxwaGFiZXRpY2FsUmV2ZXJzZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGIsYSk9PihhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1lbHNlIGlmKGZpZWxkPT09J2J5TW9kaWZpZWRUaW1lUmV2ZXJzZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGIsYSk9PihhLnN0YXQ/Lm10aW1lLWIuc3RhdD8ubXRpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdieUNyZWF0ZWRUaW1lUmV2ZXJzZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGIsYSk9PihhLnN0YXQ/LmN0aW1lLWIuc3RhdD8uY3RpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdjaGFpbicpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGZpbGVzKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmlsZXM7XHJcblx0XHR9ZWxzZSBpZih0eXBlb2YgZmllbGQgPT09ICdvYmplY3QnKXtcclxuXHRcdFx0aWYoZmllbGQgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0bGV0IG5maWxlcyA9IHRoaXMuc29ydF90ZmlsZXMoZmlsZXMsZmllbGRbMF0pO1xyXG5cdFx0XHRcdGlmKGZpZWxkLmxlbmd0aD49Mil7XHJcblx0XHRcdFx0XHRpZihmaWVsZFsxXT09PSd4Jyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBuZmlsZXMucmV2ZXJzZSgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBuZmlsZXM7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBmaWxlcztcclxuXHR9XHJcblx0XHJcblx0c29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzOkFycmF5PFRBYnN0cmFjdEZpbGU+KXtcclxuXHRcdGxldCBub3RlcyA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGaWxlKTtcclxuXHRcdGxldCByZXM6VEFic3RyYWN0RmlsZVtdID0gW107XHJcblx0XHRsZXQgY3RmaWxlczpURmlsZVtdID0gW107XHJcblx0XHR3aGlsZShub3Rlcy5sZW5ndGg+MCl7XHJcblx0XHRcdGxldCBub3RlID0gbm90ZXNbMF07XHJcblx0XHRcdGlmKG5vdGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdFx0bGV0IHhjaGFpbiA9IHRoaXMuZ2V0X2NoYWluKG5vdGUsLTEsLTEpO1xyXG5cdFx0XHRcdGZvcihsZXQgeCBvZiB4Y2hhaW4pe1xyXG5cdFx0XHRcdFx0aWYobm90ZXMuY29udGFpbnMoeCkpe1xyXG5cdFx0XHRcdFx0XHRjdGZpbGVzLnB1c2goeCk7XHJcblx0XHRcdFx0XHRcdG5vdGVzLnJlbW92ZSh4KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXMucHVzaCguLi5jdGZpbGVzKTtcclxuXHRcdGxldCBjYW52YXMgPSByZXMuZmlsdGVyKGY9PihmIGluc3RhbmNlb2YgVEZpbGUpICYmKGYuZXh0ZW5zaW9uPT0nY2FudmFzJykpXHJcblx0XHRyZXMgPSByZXMuZmlsdGVyKGY9PihmIGluc3RhbmNlb2YgVEZpbGUpICYmKGYuZXh0ZW5zaW9uIT0nY2FudmFzJykpO1xyXG5cdFx0bGV0IGZvbGRlcnMgPSB0ZmlsZXMuZmlsdGVyKGY9PmYgaW5zdGFuY2VvZiBURm9sZGVyKTtcclxuXHRcdGlmKGZvbGRlcnMubGVuZ3RoPjApe1xyXG5cdFx0XHRsZXQgaWR4cyA9IGZvbGRlcnMubWFwKFxyXG5cdFx0XHRcdChmOlRGb2xkZXIpPT50aGlzLmluZGV4T2ZGb2xkZXIoZixjdGZpbGVzKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXMucHVzaCguLi5mb2xkZXJzKTtcclxuXHRcdFx0ZnVuY3Rpb24gaW5kZXhPZihmOlRBYnN0cmFjdEZpbGUpe1xyXG5cdFx0XHRcdGlmKGYgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzLmluZGV4T2YoZik7XHJcblx0XHRcdFx0fWVsc2UgaWYoZiBpbnN0YW5jZW9mIFRGb2xkZXIpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGlkeHNbZm9sZGVycy5pbmRleE9mKGYpXTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmVzID0gcmVzLnNvcnQoKGEsYik9PmluZGV4T2YoYSktaW5kZXhPZihiKSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgY2FudmFzKXtcclxuXHRcdFx0bGV0IHJuYW1lID0gcmVzLm1hcCh4PT54IGluc3RhbmNlb2YgVEZvbGRlcj94Lm5hbWU6ICh4IGFzIFRGaWxlKS5iYXNlbmFtZSk7XHJcblx0XHRcdGxldCBjbmFtZSA9ICh0ZmlsZSBhcyBURmlsZSkuYmFzZW5hbWU7XHJcblx0XHRcdGxldCBpZHggPSBybmFtZS5pbmRleE9mKGNuYW1lKTtcclxuXHRcdFx0aWYoaWR4PDApe1xyXG5cdFx0XHRcdGlkeCA9IHJuYW1lLmluZGV4T2YoY25hbWUuc3BsaXQoJy4nKS5zbGljZSgwLC0xKS5qb2luKCcuJykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGlkeDwwKXtcclxuXHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlcy5zcGxpY2UoaWR4KzEsMCx0ZmlsZSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlc19mb2xkZXJfZmlyc3QodGZpbGVzOkFycmF5PFRGaWxlPil7XHJcblx0XHRsZXQgQSA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGb2xkZXIpLnNvcnQoKGEsYik9PihhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKSk7XHJcblx0XHRsZXQgQiA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGaWxlKTtcclxuXHRcdHJldHVybiB0aGlzLnBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoW0EsQl0pO1xyXG5cdH1cclxuXHJcblx0c29ydF90ZmlsZXNfYnlfZmllbGQodGZpbGVzOkFycmF5PFRGaWxlPixmaWVsZDpzdHJpbmcpe1xyXG5cdFx0bGV0IHJlcyA9IHRmaWxlcy5zb3J0KFxyXG5cdFx0XHQoYSxiKT0+e1xyXG5cdFx0XHRcdGxldCBhdiA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihhLGZpZWxkKTtcclxuXHRcdFx0XHRsZXQgYnYgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoYixmaWVsZCk7XHJcblx0XHRcdFx0aWYodHlwZW9mKGF2KSE9dHlwZW9mKGJ2KSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gMFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZih0eXBlb2YoYXYpPT0nbnVtYmVyJyAmJiB0eXBlb2YoYnYpPT0nbnVtYmVyJyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gYXYgLSBidjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYodHlwZW9mKGF2KT09J3N0cmluZycgJiYgdHlwZW9mKGJ2KT09J3N0cmluZycpe1xyXG5cdFx0XHRcdFx0bGV0IHYgPSAoYXYgYXMgc3RyaW5nKS5sb2NhbGVDb21wYXJlKGJ2IGFzIHN0cmluZylcclxuXHRcdFx0XHRcdHJldHVybiB2XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAwXHJcblx0XHRcdH1cclxuXHRcdClcclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzdWdnZXN0ZXJfc29ydCh0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdGlmKCF0ZmlsZXMpe3JldHVybiBbXTt9XHJcblx0XHRpZih0ZmlsZXMubGVuZ3RoPT0wKXtyZXR1cm4gW119O1xyXG5cdFx0bGV0IGt2ID0ge1xyXG5cdFx0XHQnY2hhaW4nOidjaGFpbicsXHJcblx0XHRcdCduYW1lIChhIHRvIHopJzonbmFtZScsXHJcblx0XHRcdCdjdGltZSAob2xkIHRvIG5ldyknOidjdGltZScsXHJcblx0XHRcdCdtdGltZSAob2xkIHRvIG5ldyknOidtdGltZScsXHJcblx0XHRcdCduYW1lICh6IHRvIGEpJzpbJ25hbWUnLCd4J10sXHJcblx0XHRcdCdjdGltZSAobmV3IHRvIG9sZCknOlsnY3RpbWUnLCd4J10sXHJcblx0XHRcdCdtdGltZSAobmV3IHRvIG9sZCknOlsnbXRpbWUnLCd4J10sXHJcblx0XHR9XHJcblx0XHRsZXQgZmllbGQgPSBhd2FpdCB0aGlzLnBsdWdpbi5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0T2JqZWN0LmtleXMoa3YpLFxyXG5cdFx0XHRPYmplY3QudmFsdWVzKGt2KVxyXG5cdFx0KTtcclxuXHRcdGlmKGZpZWxkPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0aWYoZmllbGQ9PSdjaGFpbicpeyBcclxuXHRcdFx0dGZpbGVzID0gdGhpcy5zb3J0X3RmaWxlcyh0ZmlsZXMsJ25hbWUnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLnNvcnRfdGZpbGVzKHRmaWxlcyxmaWVsZCk7XHJcblx0fVxyXG5cclxuXHR2aWV3X3NvcnRfYnlfY2hhaW4oKXtcclxuXHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcclxuXHRcdFx0XCJmaWxlLWV4cGxvcmVyXCJcclxuXHRcdClbMF0/LnZpZXcgYXMgYW55O1xyXG5cdFx0aWYoIXZpZXcpe3JldHVybjt9XHJcblx0XHR2aWV3LnNvcnQoKTtcclxuXHRcdGlmKHZpZXcucmVhZHkpe1xyXG5cdFx0XHRmb3IobGV0IHBhdGggaW4gdmlldy5maWxlSXRlbXMpe1xyXG5cdFx0XHRcdGxldCBpdGVtID0gdmlldy5maWxlSXRlbXNbcGF0aF07XHJcblx0XHRcdFx0aWYoaXRlbS52Q2hpbGRyZW4pe1xyXG5cdFx0XHRcdFx0bGV0IGZpbGVzID0gaXRlbS52Q2hpbGRyZW4uX2NoaWxkcmVuLm1hcCgoZjphbnkpPT5mLmZpbGUpO1xyXG5cdFx0XHRcdFx0ZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKGZpbGVzKTtcclxuXHRcdFx0XHRcdGxldCBjaGlsZHJlbiA9IGl0ZW0udkNoaWxkcmVuLl9jaGlsZHJlbi5zb3J0KFxyXG5cdFx0XHRcdFx0XHQoYTphbnksYjphbnkpPT5maWxlcy5pbmRleE9mKGEuZmlsZSktZmlsZXMuaW5kZXhPZihiLmZpbGUpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRpdGVtLnZDaGlsZHJlbi5zZXRDaGlsZHJlbihjaGlsZHJlbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZpZXcudHJlZS5pbmZpbml0eVNjcm9sbC5jb21wdXRlKClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGdldF9maWxlX2xpbmtzKHRmaWxlOlRGaWxlLHhsaW5rcz10cnVlLGlubGlua3M9dHJ1ZSxvdXRsaW5rcz10cnVlLG9ubHltZD1mYWxzZSl7XHJcblx0XHRsZXQgaXRlbXM6e1trZXk6c3RyaW5nXTphbnl9ID0ge31cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gaXRlbXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aXRlbXNbJ1x1RDgzQ1x1REZFMCAnK3RmaWxlLmJhc2VuYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgodGZpbGUucGF0aClcclxuXHRcdGlmKHhsaW5rcyl7XHJcblx0XHRcdGxldCB0bXA7XHJcblx0XHRcdHRtcCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSwnZ2l0aHViJyk7XHJcblx0XHRcdGlmKHRtcCl7XHJcblx0XHRcdFx0aWYodG1wLmNvbnRhaW5zKCdnaXRodWIuY29tJykpe1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGdpdGh1YiddID0gdG1wO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGdpdGh1YiddID0gYGh0dHBzOi8vZ2l0aHViLmNvbS9gK3RtcDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dG1wID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLCdodWdnaW5nZmFjZScpO1xyXG5cdFx0XHRpZih0bXApe1xyXG5cdFx0XHRcdGlmKHRtcC5jb250YWlucygnaHVnZ2luZ2ZhY2UuY28nKSl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERjEwaHVnZ2luZ2ZhY2VcdUQ4M0VcdUREMTcnXSA9IHRtcDtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdUQ4M0NcdURGMTBodWdnaW5nZmFjZVx1RDgzRVx1REQxNyddID0gYGh0dHBzOi8vaHVnZ2luZ2ZhY2UuY28vYCt0bXA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRtcCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSwnYXJ4aXYnKTtcclxuXHRcdFx0aWYodG1wPy5JRCl7XHJcblx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGFyeGl2J10gPSBgaHR0cHM6Ly9hcnhpdi5vcmcvYWJzL2ArdG1wPy5JRDtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGxldCB0ZXh0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSlcclxuXHRcdFx0Ly8gXHU1MzM5XHU5MTREXHU1OTE2XHU5MEU4XHU5NEZFXHU2M0E1XHJcblx0XHRcdGNvbnN0IHJlZ2V4ID0gL1xcW1teKFxcW1xcXSldKj9cXF1cXCguKj9cXCkvZztcclxuXHRcdFx0Y29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2gocmVnZXgpO1xyXG5cdFx0XHRpZiAobWF0Y2hlcykge1xyXG5cdFx0XHRcdGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xyXG5cdFx0XHRcdFx0Ly8gXHU2M0QwXHU1M0Q2XHU1MzM5XHU5MTREXHU3Njg0XHU3RUM0XHJcblx0XHRcdFx0XHRsZXQga2V5ID0gbWF0Y2guc2xpY2UoMSxtYXRjaC5pbmRleE9mKCddKCcpKTtcclxuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IG1hdGNoLnNsaWNlKG1hdGNoLmluZGV4T2YoJ10oJykpLnNsaWNlKDIsLTEpO1xyXG5cdFx0XHRcdFx0aWYodmFsdWU9PT0nJyl7Y29udGludWU7fVxyXG5cdFx0XHRcdFx0aWYoa2V5PT09Jycpe1xyXG5cdFx0XHRcdFx0XHRrZXkgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmKHZhbHVlLnN0YXJ0c1dpdGgoJ2h0dHAnKSl7XHJcblx0XHRcdFx0XHRcdGtleT0nXHVEODNDXHVERjEwICcra2V5O1xyXG5cdFx0XHRcdFx0fWVsc2UgaWYodmFsdWUuc3RhcnRzV2l0aCgnZmlsZTovLy8nKSl7XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc2xpY2UoOClcclxuXHRcdFx0XHRcdFx0a2V5PSAnXHVEODNEXHVEQ0MxICcgK2tleTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRrZXkgPSAnXHVEODNEXHVERDE3ICcra2V5O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aXRlbXNba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYoaW5saW5rcyl7XHJcblx0ICAgICAgICBsZXQgbGlua3MgPSB0aGlzLmdldF9pbmxpbmtzKHRmaWxlLGZhbHNlKTtcclxuXHQgICAgICAgIGZvcihsZXQgaSBvZiBsaW5rcyl7XHJcblx0ICAgICAgICAgICAgaWYob25seW1kJiYgIShpLmV4dGVuc2lvbj09PSdtZCcpKXtjb250aW51ZTt9XHJcblx0XHRcdFx0aWYoaS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLmJhc2VuYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoaS5wYXRoKTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLm5hbWVdID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5nZXRGdWxsUGF0aChpLnBhdGgpO1xyXG5cdFx0XHRcdH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgfVxyXG5cdCAgICBpZihvdXRsaW5rcyl7XHJcblx0ICAgICAgICBsZXQgbGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSxmYWxzZSk7XHJcblx0ICAgICAgICBmb3IobGV0IGkgb2YgbGlua3Mpe1xyXG5cdCAgICAgICAgICAgIGlmKG9ubHltZCYmICEoaS5leHRlbnNpb249PT0nbWQnKSl7Y29udGludWU7fVxyXG5cdFx0XHRcdGlmKGkuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERDdFXHVGRTBGICcraS5iYXNlbmFtZV0gPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmdldEZ1bGxQYXRoKGkucGF0aCk7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERDdFXHVGRTBGICcraS5uYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoaS5wYXRoKTtcclxuXHRcdFx0XHR9XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH1cclxuXHRcdGl0ZW1zWydcdUQ4M0RcdURDOTIgdmF1bHQnXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoJy4nKTtcclxuXHRcdHJldHVybiBpdGVtcztcclxuXHR9XHJcblxyXG59IiwgIlxyXG5pbXBvcnQgeyBcclxuXHRBcHAsIE1vZGFsLCBOb3RpY2UsTWFya2Rvd25SZW5kZXJlcixDb21wb25lbnQsXHJcbiAgICBURmlsZVxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RlQ29udGVudE1vZGFsIGV4dGVuZHMgTW9kYWwge1xyXG4gICAgY29udGVudDogc3RyaW5nO1xyXG4gICAgcGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGNvbnRlbnQ6IHN0cmluZywgcGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICAgICAgICB0aGlzLm1vZGFsRWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgICAgICB0aGlzLm1vZGFsRWwuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7IC8vIFx1NkRGQlx1NTJBMFx1NkVEQVx1NTJBOFx1Njc2MVxyXG5cclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KHsgY2xzOiAnbm90ZS1jb250ZW50LWNvbnRhaW5lcicgfSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKCdtYXJrZG93bi1yZW5kZXJlZCcpO1xyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ3RhYmxlLWNlbGwnO1xyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS52ZXJ0aWNhbEFsaWduID0gJ21pZGRsZSc7XHJcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMjBweCc7IC8vIFx1NkRGQlx1NTJBMFx1NEUwMFx1NEU5Qlx1NTE4NVx1OEZCOVx1OERERFxyXG5cclxuICAgICAgICAvLyBcdTUyMUJcdTVFRkFcdTRFMDBcdTRFMkFcdTRFMzRcdTY1RjZcdTc2ODQgQ29tcG9uZW50IFx1NUI5RVx1NEY4QlxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoKTtcclxuICAgICAgICBcclxuICAgICAgICBNYXJrZG93blJlbmRlcmVyLnJlbmRlcih0aGlzLmFwcCwgdGhpcy5jb250ZW50LCBjb250YWluZXIsICcnLCBjb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENsaWNrTGlzdGVuZXIoY29udGFpbmVyKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIGxldCB7Y29udGVudEVsfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ2xpY2tMaXN0ZW5lcihjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ0EnICYmIHRhcmdldC5oYXNDbGFzcygnaW50ZXJuYWwtbGluaycpKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGhyZWYgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaHJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbk5vdGVJbk1haW5WaWV3KGhyZWYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb3Blbk5vdGVJbk1haW5WaWV3KGxpbmtUZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KGxpbmtUZXh0LCAnJywgZmFsc2UsIHsgYWN0aXZlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShgRXJyb3Igb3BlbmluZyBub3RlOiAke2Vycm9yLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE5vdGVFZGl0b3JNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIGZpbGVQYXRoOiBzdHJpbmc7IC8vIFx1NkRGQlx1NTJBMFx1NjU4N1x1NEVGNlx1OERFRlx1NUY4NFx1NUM1RVx1NjAyN1xyXG4gICAgaXNFZGl0TW9kZTogYm9vbGVhbjsgLy8gXHU2REZCXHU1MkEwXHU3RjE2XHU4RjkxXHU2QTIxXHU1RjBGXHU1QzVFXHU2MDI3XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGZpbGVQYXRoOiBzdHJpbmcsIGlzRWRpdE1vZGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKGFwcCk7XHJcbiAgICAgICAgdGhpcy5maWxlUGF0aCA9IGZpbGVQYXRoO1xyXG4gICAgICAgIHRoaXMuaXNFZGl0TW9kZSA9IGlzRWRpdE1vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgb25PcGVuKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgIC8vIFx1ODNCN1x1NTNENlx1NjU4N1x1NEVGNlx1NUJGOVx1OEM2MVxyXG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLmZpbGVQYXRoKSBhcyBURmlsZTtcclxuICAgICAgICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTIxQlx1NUVGQVx1NEUwMFx1NEUyQVx1NjVCMFx1NzY4NFx1NURFNVx1NEY1Q1x1NTMzQVx1NTNGNlx1NUI1MFx1NUU3Nlx1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWFmKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbGVhZi5vcGVuRmlsZShmaWxlLCB7IHN0YXRlOiB7IG1vZGU6ICdzb3VyY2UnIH0gfSk7IC8vIFx1NEVFNVx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlx1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFx1NTE3M1x1OTVFRFx1NUY1M1x1NTI0RFx1NkEyMVx1NjAwMVx1N0E5N1x1NTNFM1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRmlsZSBub3QgZm91bmQ6ICR7dGhpcy5maWxlUGF0aH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFx1NTE3Nlx1NEVENlx1NkEyMVx1NUYwRlx1NzY4NFx1NTkwNFx1NzQwNlx1OTAzQlx1OEY5MVxyXG4gICAgICAgICAgICBuZXcgTm90aWNlKCdOb3QgaW4gZWRpdCBtb2RlLicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IFxyXG5cdEFwcCxUQWJzdHJhY3RGaWxlLFRGaWxlLFRGb2xkZXIsVmF1bHQsQ2FjaGVkTWV0YWRhdGFcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcbmltcG9ydCB7Tm90ZUNoYWlufSBmcm9tIFwiLi9Ob3RlQ2hhaW5cIjtcclxuaW1wb3J0IHsgc3ltbGluayB9IGZyb20gJ2ZzJztcclxuXHJcblxyXG5sZXQgY2hhaW5fc29ydCA9IGZ1bmN0aW9uKG9yZ19zb3J0OkZ1bmN0aW9uKSB7XHJcblx0bGV0IHBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKC4uLmQ6YW55KXtcclxuXHRcdGlmKHBsdWdpbil7XHJcblx0XHRcdGlmKHBsdWdpbj8uc2V0dGluZ3MuaXNTb3J0RmlsZUV4cGxvcmVyKXtcclxuXHRcdFx0XHRsZXQgZSA9IHRoaXMuZmlsZVxyXG5cdFx0XHRcdCwgdCA9IHRoaXMudmlld1xyXG5cdFx0XHRcdCwgaSA9IGUuY2hpbGRyZW4uc2xpY2UoKTtcclxuXHRcdFx0XHRpID0gaS5maWx0ZXIoKHg6VEFic3RyYWN0RmlsZSk9PngpO1xyXG5cdFx0XHRcdGlmKGkubGVuZ3RoPjApe1xyXG5cdFx0XHRcdFx0bGV0IGl0ZW1zID0gcGx1Z2luLmNoYWluLmNoaWxkcmVuW2lbMF0ucGFyZW50LnBhdGhdO1xyXG5cdFx0XHRcdFx0aWYoaXRlbXMpe1xyXG5cdFx0XHRcdFx0XHRsZXQgYSA9IGl0ZW1zLmZpbHRlcigoeDpUQWJzdHJhY3RGaWxlKT0+aS5jb250YWlucyh4KSk7XHJcblx0XHRcdFx0XHRcdGxldCBiID0gaXRlbXMuZmlsdGVyKCh4OlRBYnN0cmFjdEZpbGUpPT4haS5jb250YWlucyh4KSk7XHJcblx0XHRcdFx0XHRcdGEucHVzaCguLi5iKTtcclxuXHRcdFx0XHRcdFx0aSA9IGE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHBsdWdpbi5zZXR0aW5ncy5pc0ZvbGRlckZpcnN0KXtcclxuXHRcdFx0XHRcdGkgPSBwbHVnaW4uY2hhaW4uc29ydF90ZmlsZXNfZm9sZGVyX2ZpcnN0KGkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQgciA9IFtdO1xyXG5cdFx0XHRcdGZvciAobGV0IG8gPSAwLCBhID0gaTsgbyA8IGEubGVuZ3RoOyBvKyspIHtcclxuXHRcdFx0XHRcdGxldCBzID0gYVtvXVxyXG5cdFx0XHRcdFx0LCBsID0gdC5maWxlSXRlbXNbcy5wYXRoXTtcclxuXHRcdFx0XHRcdGwgJiYgci5wdXNoKGwpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMudkNoaWxkcmVuLnNldENoaWxkcmVuKHIpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4gb3JnX3NvcnQuY2FsbCh0aGlzLC4uLmQpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG9yZ19zb3J0LmNhbGwodGhpcywuLi5kKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmxldCBnZXRTb3J0ZWRGb2xkZXJJdGVtcyA9IGZ1bmN0aW9uKG9yZ19zb3J0OkZ1bmN0aW9uKSB7XHJcblx0bGV0IHBsdWdpbiA9ICh0aGlzLmFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKGU6YW55KXtcclxuXHRcdGlmKHBsdWdpbil7XHJcblx0XHRcdHRyeXtcclxuXHRcdFx0XHRsZXQgcmVzID0gb3JnX3NvcnQuY2FsbCh0aGlzLGUpO1xyXG5cdFx0XHRcdGxldCB0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uY2hpbGRyZW5bZS5wYXRoXTtcclxuXHRcdFx0XHRpZih0ZmlsZXMpe1xyXG5cdFx0XHRcdFx0cmVzID0gcmVzLnNvcnQoKGE6YW55LGI6YW55KT0+dGZpbGVzLmluZGV4T2YoYS5maWxlKS10ZmlsZXMuaW5kZXhPZihiLmZpbGUpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdFx0fWNhdGNoKGUpe1xyXG5cdFx0XHRcdHJldHVybiBvcmdfc29ydC5jYWxsKHRoaXMsZSk7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gb3JnX3NvcnQuY2FsbCh0aGlzLGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxubGV0IGdldFR0aXRsZSA9IGZ1bmN0aW9uKG9yZ19nZXRUdGlsZTpGdW5jdGlvbikge1xyXG5cdGxldCBwbHVnaW4gPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xyXG5cdHJldHVybiBmdW5jdGlvbihlOmFueSl7XHJcblx0XHRpZihwbHVnaW4pe1xyXG5cdFx0XHR0cnl7XHJcblx0XHRcdFx0bGV0IHJlcyA9IHBsdWdpbi5leHBsb3Jlci5nZXRfZGlzcGxheV90ZXh0KHRoaXMuZmlsZSlcclxuXHRcdFx0XHRyZXR1cm4gcmVzO1xyXG5cdFx0XHR9Y2F0Y2goZSl7XHJcblx0XHRcdFx0cmV0dXJuIG9yZ19nZXRUdGlsZS5jYWxsKHRoaXMpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG9yZ19nZXRUdGlsZS5jYWxsKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE5DRmlsZUV4cGxvcmVye1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRjaGFpbjpOb3RlQ2hhaW47XHJcblx0Z2V0U29ydGVkRm9sZGVySXRlbXM6RnVuY3Rpb247XHJcblx0Z2V0U29ydGVkRm9sZGVySXRlbXNfbmV3OkZ1bmN0aW9uO1xyXG5cdGdldFRpdGxlOkZ1bmN0aW9uO1xyXG5cdGdldFRpdGxlX25ldzpGdW5jdGlvbjtcclxuXHRfRm9sZGVyRG9tXzphbnk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pe1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmNoYWluID0gcGx1Z2luLmNoYWluO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0dGhpcy5yZWdpc3RlcigpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVnaXN0ZXIoKXtcclxuXHRcdGF3YWl0IHRoaXMud2FpdEZvckZpbGVFeHBsb3JlcigpXHJcblx0XHR0aGlzLmdldFNvcnRlZEZvbGRlckl0ZW1zID0gdGhpcy5maWxlX2V4cGxvcmVyLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRTb3J0ZWRGb2xkZXJJdGVtcztcclxuXHRcdHRoaXMuZ2V0U29ydGVkRm9sZGVySXRlbXNfbmV3ID0gZ2V0U29ydGVkRm9sZGVySXRlbXModGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtcyk7XHJcblx0XHR0aGlzLmZpbGVfZXhwbG9yZXIuY29uc3RydWN0b3IucHJvdG90eXBlLmdldFNvcnRlZEZvbGRlckl0ZW1zID0gdGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtc19uZXc7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgaXRlbSA9ICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNbXHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2FsbF90ZmlsZXMoKVswXS5wYXRoXHJcblx0XHRcdF1cclxuXHRcclxuXHRcdFx0aWYoaXRlbSl7XHJcblx0XHRcdFx0dGhpcy5nZXRUaXRsZSA9IGl0ZW0uY29uc3RydWN0b3IucHJvdG90eXBlLmdldFRpdGxlXHJcblx0XHRcdFx0dGhpcy5nZXRUaXRsZV9uZXcgPSBnZXRUdGl0bGUodGhpcy5nZXRUaXRsZSlcclxuXHRcdFx0XHRpdGVtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRUaXRsZSA9IHRoaXMuZ2V0VGl0bGVfbmV3XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHRoaXMuc29ydCgwLHRydWUpO1xyXG5cdFx0XHR0aGlzLnNldF9kaXNwbGF5X3RleHQoKVxyXG5cdFx0XHR0aGlzLnNldF9maWxlaXRlbV9zdHlsZSgpXHJcblx0XHRcdFxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyB1bnJlZ2lzdGVyKCl7XHJcblx0XHRpZih0aGlzLmdldFNvcnRlZEZvbGRlckl0ZW1zKXtcclxuXHRcdFx0dGhpcy5maWxlX2V4cGxvcmVyLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRTb3J0ZWRGb2xkZXJJdGVtcyA9IHRoaXMuZ2V0U29ydGVkRm9sZGVySXRlbXM7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGl0ZW1zID0gKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtc1xyXG5cdFx0Zm9yKGxldCBrZXkgaW4gaXRlbXMpe1xyXG5cdFx0XHRsZXQgaXRlbSA9IGl0ZW1zW2tleV1cclxuXHRcdFx0YXdhaXQgdGhpcy5fc2V0X2Rpc3BsYXlfdGV4dF8oaXRlbSx0aGlzLmdldF9vcmlnaW5fdGV4dChpdGVtLmZpbGUpKVxyXG5cdFx0XHRpdGVtLmVsLnN0eWxlLmJhY2tncm91bmQgPSBudWxsXHJcblx0XHRcdGl0ZW0uZWwuc3R5bGUuYm9yZGVyID0gbnVsbFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgd2FpdEZvckZpbGVFeHBsb3JlcigpIHtcclxuXHRcdHdoaWxlICghKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtcykge1xyXG5cdFx0XHRhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7IC8vIFx1N0I0OVx1NUY4NTEwMG1zXHU1MThEXHU2OEMwXHU2N0U1XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtc1xyXG5cdH1cclxuXHJcblx0Z2V0IGZpbGVfZXhwbG9yZXIoKXtcclxuXHRcdGxldCBhID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcclxuXHRcdFx0XCJmaWxlLWV4cGxvcmVyXCJcclxuXHRcdClcclxuXHRcdGxldCB2aWV3ID0gYVswXT8udmlldztcclxuXHRcdHJldHVybiB2aWV3O1xyXG5cdH1cclxuXHRcclxuXHRhc3luYyBzb3J0KG5zbGVlcD0wLGluaXQ9ZmFsc2Upe1xyXG5cdFx0aWYoKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpPy5zb3J0KXtcclxuXHRcdFx0aWYobnNsZWVwPjApe1xyXG5cdFx0XHRcdGF3YWl0IHNsZWVwKG5zbGVlcCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoaW5pdCl7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uY2hhaW4uaW5pdF9jaGlsZHJlbigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihPYmplY3Qua2V5cyh0aGlzLnBsdWdpbi5jaGFpbi5jaGlsZHJlbikubGVuZ3RoPT0wKXtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpPT57XHJcblx0XHRcdFx0XHR0aGlzLnNvcnQobnNsZWVwLHRydWUpO1xyXG5cdFx0XHRcdH0sIDMwMDApO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHQodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHRcclxuXHR9XHJcblxyXG5cdGdldF9maWVsZF9vZl9kaXNwbGF5X3RleHQodGZpbGU6VEFic3RyYWN0RmlsZSk6c3RyaW5ne1xyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KXtcclxuXHRcdFx0bGV0IGl0ZW0gPSAgdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcl9jb25maWcodGZpbGUsdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KVxyXG5cdFx0XHRpZih0eXBlb2YoaXRlbSkgIT0gJ3N0cmluZycpe1xyXG5cdFx0XHRcdHJldHVybiAnJ1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBpdGVtXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJydcclxuXHR9XHJcblxyXG5cdGdldF9vcmlnaW5fdGV4dCh0ZmlsZTpUQWJzdHJhY3RGaWxlKXtcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRpZih0ZmlsZS5leHRlbnNpb249PSdtZCcpe1xyXG5cdFx0XHRcdHJldHVybiB0ZmlsZS5iYXNlbmFtZVxyXG5cdFx0XHR9ZWxzZSBpZih0ZmlsZS5leHRlbnNpb249PSdjYW52YXMnKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGUuYmFzZW5hbWVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlLm5hbWVcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiB0ZmlsZS5uYW1lXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfaXRlbSh0ZmlsZTpUQWJzdHJhY3RGaWxlLGZpZWxkOnN0cmluZyl7XHJcblx0XHRpZighZmllbGQpe3JldHVybiAnJ31cclxuXHRcdGxldCBmaWVsZHMgPSBmaWVsZC5zcGxpdCgnfCcpXHJcblx0XHRsZXQgaXRlbTphbnkgPSAnJ1xyXG5cdFx0Zm9yKGxldCBmIG9mIGZpZWxkcyl7XHJcblx0XHRcdGlmKGY9PSckMCcpe1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9vcmlnaW5fdGV4dCh0ZmlsZSlcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihmLnN0YXJ0c1dpdGgoJz8nKSl7XHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRsZXQgcyA9IHRoaXMucGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsZilcclxuXHRcdFx0XHRpZih0eXBlb2YgcyA9PT0gJ251bWJlcicpe1xyXG5cdFx0XHRcdFx0aXRlbSA9IGAke3N9YFxyXG5cdFx0XHRcdH1lbHNlIGlmKHR5cGVvZihzKSE9J3N0cmluZycgfHwgcz09Jycpe1xyXG5cdFx0XHRcdFx0Y29udGludWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aXRlbSA9IHNcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihmaWVsZHMubGFzdCgpPy5zdGFydHNXaXRoKCc/JykgJiYgaXRlbSl7XHJcblx0XHRcdHJldHVybiBmaWVsZHMubGFzdCgpPy5zbGljZSgxKS5yZXBsYWNlKC9cXCQxL2csaXRlbSkgIHx8ICcnXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbVxyXG5cdH1cclxuXHJcblx0Z2V0X2Rpc3BsYXlfdGV4dCh0ZmlsZTpUQWJzdHJhY3RGaWxlKSB7XHJcblx0XHRsZXQgc3RyID0gdGhpcy5nZXRfZmllbGRfb2ZfZGlzcGxheV90ZXh0KHRmaWxlKVxyXG5cclxuXHRcdFxyXG5cdFx0aWYoIXN0ciAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXQpe1xyXG5cdFx0XHRzdHIgPSBgPCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0fT48JDA+YFxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHN0ciA9IGA8JHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXR9PiR7c3RyfWBcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYoIXN0ciB8fCBzdHI9PSckMCcgfHwgc3RyPT0nPCQwPicpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfb3JpZ2luX3RleHQodGZpbGUpXHJcblx0XHR9XHJcblx0ICBcclxuXHRcdGxldCBtc3RyID0gc3RyLnJlcGxhY2UoL1xcPCguKz8pP1xcPi9nLCAobWF0Y2g6c3RyaW5nLCBmaWVsZDpzdHJpbmcpID0+IHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2l0ZW0odGZpbGUsZmllbGQpXHJcblx0XHR9KVxyXG5cdFx0bXN0ciA9IG1zdHJcclxuXHRcdGlmKG1zdHI9PScnKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X29yaWdpbl90ZXh0KHRmaWxlKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBtc3RyXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRfc2V0X2Rpc3BsYXlfdGV4dF8oaXRlbTphbnksdHh0OmFueSl7XHJcblx0XHRpZihpdGVtICYmIHR4dCl7XHJcblx0XHRcdGlmKHR5cGVvZih0eHQpPT0nc3RyaW5nJyl7XHJcblx0XHRcdFx0aXRlbS5pbm5lckVsLnNldFRleHQodHh0KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHNldF9kaXNwbGF5X3RleHQoKXtcclxuXHRcdGxldCBpdGVtcyA9ICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHRcdGZvcihsZXQga2V5IGluIGl0ZW1zKXtcclxuXHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdGxldCB0eHQgPSB0aGlzLmdldF9kaXNwbGF5X3RleHQoaXRlbS5maWxlKVxyXG5cdFx0XHR0aGlzLl9zZXRfZGlzcGxheV90ZXh0XyhpdGVtLHR4dClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGdldF9maWxlaXRlbV9zdHlsZSh0ZmlsZTpUQWJzdHJhY3RGaWxlKXtcclxuXHRcdGlmKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2JhY2tncm91bmRfY29sb3Ipe1xyXG5cdFx0XHRsZXQgc3R5bGUgPSB0aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyX2NvbmZpZyh0ZmlsZSx0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKVxyXG5cdFx0XHRpZih0eXBlb2Yoc3R5bGUpPT0nc3RyaW5nJyl7XHJcblx0XHRcdFx0bGV0IGZ1bmMgPSBhd2FpdCB0aGlzLnBsdWdpbi51dGlscy5nZXRfc3RyX2Z1bmModGhpcy5hcHAsc3R5bGUpXHJcblx0XHRcdFx0aWYoZnVuYyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gc3R5bGVcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsXHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfZmlsZWl0ZW1fc3R5bGUoKXtcclxuXHRcdGxldCBpdGVtcyA9ICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHRcdGZvcihsZXQga2V5IGluIGl0ZW1zKXtcclxuXHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdGxldCBzdHlsZSA9IGF3YWl0IHRoaXMuZ2V0X2ZpbGVpdGVtX3N0eWxlKGl0ZW0uZmlsZSlcclxuXHRcdFx0YXdhaXQgdGhpcy5zZXRfZmlsZWl0ZW1fc3R5bGVfb2ZfZmlsZShpdGVtLmZpbGUsc3R5bGUpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfZmlsZWl0ZW1fc3R5bGVfb2ZfZmlsZSh0ZmlsZTpUQWJzdHJhY3RGaWxlLHN0eWxlPW51bGwpe1xyXG5cdFx0aWYoIXRmaWxlKXtyZXR1cm59XHJcblx0XHRpZighc3R5bGUpe1xyXG5cdFx0XHRzdHlsZSA9IGF3YWl0IHRoaXMuZ2V0X2ZpbGVpdGVtX3N0eWxlKHRmaWxlKVxyXG5cdFx0fVxyXG5cdFx0bGV0IGl0ZW1zID0gKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtc1xyXG5cdFx0bGV0IGl0ZW0gPSBpdGVtc1t0ZmlsZS5wYXRoXVxyXG5cdFx0aWYoaXRlbSl7XHJcblx0XHRcdGlmKHR5cGVvZihzdHlsZSk9PSdmdW5jdGlvbicpe1xyXG5cdFx0XHRcdHN0eWxlID0gYXdhaXQgKHN0eWxlIGFzIGFueSkodGZpbGUpXHJcblx0XHRcdFx0aWYoIXN0eWxlKXtcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihzdHlsZT09bnVsbCl7XHJcblx0XHRcdFx0aXRlbS5lbC5zdHlsZS5iYWNrZ3JvdW5kID0gbnVsbFxyXG5cdFx0XHRcdGl0ZW0uZWwuc3R5bGUuYm9yZGVyID0gbnVsbFxyXG5cdFx0XHR9ZWxzZSBpZiAodHlwZW9mKHN0eWxlKT09J3N0cmluZycpe1xyXG5cdFx0XHRcdGl0ZW0uZWwuc3R5bGUuYmFja2dyb3VuZCA9IHN0eWxlXHJcblx0XHRcdH1lbHNlIGlmKHR5cGVvZihzdHlsZSk9PSdvYmplY3QnKXtcclxuXHRcdFx0XHRmb3IobGV0IGsgaW4gKHN0eWxlIGFzIGFueSkpe1xyXG5cdFx0XHRcdFx0KGl0ZW0gYXMgYW55KS5lbC5zdHlsZVtrXSA9IChzdHlsZSBhcyBhbnkpW2tdXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZSBpZih0eXBlb2Yoc3R5bGUpPT0nZnVuY3Rpb24nKXtcclxuXHRcdFx0XHRhd2FpdCAoc3R5bGUgYXMgYW55KSh0ZmlsZSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSIsICJcclxuXHJcbmV4cG9ydCBjbGFzcyBTdHJpbmdze1xyXG4gICAgbGFuZ3VhZ2U6c3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBsZXQgbGFuZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFuZ3VhZ2UnKTtcclxuICAgICAgICBpZihsYW5nKXtcclxuICAgICAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xyXG4gICAgICAgIH1cclxuXHR9XHJcblxyXG4gICAgZ2V0IGNtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZFx1OTRGRVx1NjNBNVx1NTM2MVx1NzI0NydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdNZXJtYWlkIG9mIGxpbmtlZCBub3Rlcyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfbWVybWFpZF9mbG93Y2hhcnRfZm9sZGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZFx1NzZFRVx1NUY1NVx1NTM2MVx1NzI0NydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdNZXJtYWlkIG9mIGZvbGRlciBub3Rlcyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0bygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWRcdTUzNjFcdTcyNDcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZCBvZiBub3Rlcyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgY21kX2ZpbGVfb3Blbl93aXRoX3N5c3RlbV9hcHAoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY1ODdcdTRFRjYgLSBcdTRGN0ZcdTc1MjhcdTdDRkJcdTdFREZcdTdBMEJcdTVFOEZcdTYyNTNcdTVGMDBcdUZGMDhcdTRFQzVcdTY4NENcdTk3NjJcdUZGMDknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnRmlsZSAtIG9wZW4gd2l0aCBzeXN0ZW0gYXBwIChkZXNrdG9wIG9ubHkpJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9maWxlX3Nob3dfaW5fc3lzdGVtX2V4cGxvcmVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2IC0gXHU1NzI4XHU3Q0ZCXHU3RURGXHU2RDRGXHU4OUM4XHU3Njg0XHU2N0U1XHU3NzBCXHVGRjA4XHU0RUM1XHU2ODRDXHU5NzYyXHVGRjA5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ZpbGUgLSBzaG93IGluIHN5c3RlbSBleHBsb3JlciAoZGVza3RvcCBvbmx5KSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfZmlsZV9yZW5hbWUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY1ODdcdTRFRjYgLSBcdTkxQ0RcdTU0N0RcdTU0MERcdTY1ODdcdTRFRjYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnRmlsZSAtIHJlbmFtZSBmaWxlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldCBjbWRfbG9uZ2Zvcm0ybm90ZWNoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2ODM5XHU2MzZFTG9uZ0Zvcm1cdTkxQ0RcdTdGNkVcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjEnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnUmVzZXQgbm90ZSBjaGFpbiBieSBsb25nZm9ybSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfbG9uZ2Zvcm00bm90ZWNoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2ODM5XHU2MzZFXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxXHVGRjBDXHU5MUNEXHU3RjZFTG9uZ0Zvcm1cdTU3M0FcdTY2NkYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlc2V0IGxvbmdmb3JtIHNjZW5lcyBieSBub3RlIGNoYWluXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfc29ydF9maWxlX2V4cGxvcmVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2ODM5XHU2MzZFXHU3QjE0XHU4QkIwXHU5NEZFXHU2MzkyXHU1RThGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJTb3J0IGZpbGUgZXhwbG9yZXIgYnkgbm90ZSBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX29wZW5fbm90ZXNfc21hcnRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjY3QVx1ODBGRFx1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBub3RlIHNtYXJ0ZXJcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX29wZW5fcHJldl9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJPcGVuIHByZXYgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hhaW5fbW92ZV91cF9ub2RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJNb3ZlIG5vZGUgdXBcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNoYWluX21vdmVfZG93bl9ub2RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJNb3ZlIG5vZGUgZG93blwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX29wZW5fbmV4dF9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJPcGVuIG5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX3JldmVhbF9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1QjlBXHU0RjREXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZXZlYWwgY3VycmVudCBmaWxlIGluIG5hdmlnYXRpb25cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX2FuZF9yZXZlYWxfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NUU3Nlx1NUI5QVx1NEY0RFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBhbmQgcmV2ZWFsIG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX3ByZXZfbm90ZV9vZl9yaWdodF9sZWFmKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1M0YzXHU0RkE3XHU5ODc1XHU5NzYyXHU2MjUzXHU1RjAwXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJPcGVuIHByZXYgbm90ZSBvZiByaWdodCBsZWFmXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9uZXh0X25vdGVfb2ZfcmlnaHRfbGVhZigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTNGM1x1NEZBN1x1OTg3NVx1OTc2Mlx1NjI1M1x1NUYwMFx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBuZXh0IG5vdGUgb2YgcmlnaHQgbGVhZlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2V4ZWN1dGVfdGVtcGxhdGVfbW9kYWwoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYyNjdcdTg4NENcdTgxMUFcdTY3MkNcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkV4ZWN1dGUgVGVtcGxhdGVyIG1vZGFsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfdG9vZ2xlX2Nzc19ibG9ja19pbl9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1NDJGXHU3NTI4L1x1NTE3M1x1OTVFRCBjc3MgXHU0RUUzXHU3ODAxXHU1NzU3J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJUb29nbGUgY3NzIGJsb2NrIGluIG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldCBjbWRfc2V0X2Zyb250bWF0dGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjQwXHU5MDA5XHU3QjE0XHU4QkIwXHU4QkJFXHU3RjZFXHU1QzVFXHU2MDI3J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJTZXQgZnJvbm1hdHRlciBmb3Igc2VsZWN0ZWQgbm90ZXNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9tb3ZlX25leHRfbGV2ZWwoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYzRDBcdTlBRDhcdTdGMjlcdThGREJcdTVDNDJcdTdFQTcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkluY3JlYXNlIHRoZSBpbmRlbnRhdGlvbiBsZXZlbFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX21vdmVfbm9uZV9sZXZlbCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTIyMFx1OTY2NFx1N0YyOVx1OEZEQlx1NUM0Mlx1N0VBNydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUmVtb3ZlIHRoZSBpbmRlbnRhdGlvbiBsZXZlbFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX21vdmVfcHJldl9sZXZlbCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OTY0RFx1NEY0RVx1N0YyOVx1OEZEQlx1NUM0Mlx1N0VBNydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRGVjcmVhc2UgdGhlIGluZGVudGF0aW9uIGxldmVsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgZmlsZW1lbnVfY3JlYXRlX25leHRfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTIxQlx1NUVGQVx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIG5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmlsZW1lbnVfbW92ZV9hc19uZXh0X25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTc5RkJcdTUyQThcdTRFM0FcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1vdmUgYXMgbmV4dCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZXMoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTc5RkJcdTUyQThcdTRFM0FcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjBcdUZGMDhcdTkwMDlcdTRFMkRcdTdCMTRcdThCQjBcdUZGMDknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1vdmUgYXMgbmV4dCBub3RlcyhzZWxlY3RlZClcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNsZWFyX2lubGlua3MoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTZFMDVcdTc0MDZcdTdCMTRcdThCQjBcdTUxNjVcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnQ2xlYXIgaW5saW5rcyBvZiBjdXJyZW50IGZpbGUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU3OUZCXHU1MkE4XHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJNb3ZlIGN1cnJlbnQgZmlsZSB0byBhbm90aGVyIGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVwbGFjZV9ub3Rlc193aXRoX3JlZ3goKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTZCNjNcdTUyMTlcdTg4NjhcdThGQkVcdTVGMEZcdTY2RkZcdTYzNjJcdTdCMTRcdThCQjBcdTUxODVcdTVCQjknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlcGxhY2UgYnkgcmVnZXhcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNoYWluX2luc2VydF9ub2RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2M0QyXHU1MTY1XHU4MjgyXHU3MEI5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnNlcnQgbm9kZSBvZiBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hhaW5fc2V0X3NlcV9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5MUNEXHU1ODUxXHU1RjUzXHU1MjREXHU2NTg3XHU0RUY2XHU1OTM5XHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWJ1aWxkIHRoZSBjaGFpbiBvZiBjdXJyZW50IGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JlYXRlX25ld19ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MjFCXHU1RUZBXHU2NUIwXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgbmV3IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfaXNTb3J0RmlsZUV4cGxvcmVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2ODM5XHU2MzZFXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxXHU2MzkyXHU1RThGXHU3NkVFXHU1RjU1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJTb3J0IGJ5IGNoYWluIGluIGZpbGUgZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX2lzRm9sZGVyRmlyc3QoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYzOTJcdTVFOEZcdTY1RjZcdTc2RUVcdTVGNTVcdTY1RjZcdTY1ODdcdTRFRjZcdTU5MzlcdTRGMThcdTUxNDhcdUZGMUYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlNvcnQgZm9sZGVyIGZpcnN0IGluIGZpbGUgZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX1ByZXZDaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMFx1NjU3MFx1OTFDRlx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTnVtYmVyIG9mIHByZXYgbm90ZXMgdG8gc2hvdz9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfTmV4dENoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwXHU2NTcwXHU5MUNGXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOdW1iZXIgb2YgbmV4dCBub3RlcyB0byBzaG93P1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19zdWdnZXN0ZXJOb3Rlc01vZGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuY2hhaW5faW5zZXJ0X25vZGV9XHVGRjFBXHU5RUQ4XHU4QkE0XHU2QTIxXHU1RjBGYFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5jaGFpbl9pbnNlcnRfbm9kZX06RGVmYXVsdCBtb2RlYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19hdXRvX25vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1ODFFQVx1NTJBOFx1OTFDRFx1NTg1MVx1NjU4N1x1NEVGNlx1NTkzOVx1N0IxNFx1OEJCMFx1OTRGRVx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQXV0byBidWlsZCBub3RlY2hhaW4gb2YgZm9sZGVyIHdoaWxlIG9wZW4gbmV3IGZpbGU/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3JlZnJlc2hEYXRhVmlldygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1NTIzN1x1NjVCMERhdGF2aWV3XHU4OUM2XHU1NkZFXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWZyZXNoIGRhdGF2aWV3IHdoaWxlIG9wZW4gbmV3IGZpbGU/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3JlZnJlc2hUYXNrcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NjU4N1x1NEVGNlx1NjVGNlx1RkYwQ1x1NTIzN1x1NjVCMFRhc2tzXHU4OUM2XHU1NkZFXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWZyZXNoIHRhc2tzIHdoaWxlIG9wZW4gbmV3IGZpbGU/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3dvcmRjb3V0KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU3RURGXHU4QkExXHU2QkNGXHU2NUU1XHU1QjU3XHU2NTcwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWdpc3RlciBkYWlseSB3b3JkIGNvdW50P1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0IHNldHRpbmdfYXZhdGEoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTU5MzRcdTUwQ0YnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkF2YXRhXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZ2V0IHNldHRpbmdfd29yZGNvdXRfeGZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OERGM1x1OEZDN1x1NEVFNVx1NEUwQlx1NzZFRVx1NUY1NSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiSWdub3JlIHRoZXNlIGZvbGRlcnNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfbm90aWNlX3doaWxlX21vZGlmeV9jaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NEZFRVx1NjUzOVx1N0IxNFx1OEJCMFx1OTRGRVx1NjVGNlx1NjYzRVx1NzkzQVx1OTAxQVx1NzdFNVx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTm90aWNlIHdoaWxlIG1vZGlmeSBub3RlIGNoYWluP1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IHNldHRpbmdfZmllbGRfb2ZfZGlzcGxheV90ZXh0KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU2NjNFXHU3OTNBXHU2NTg3XHU0RUY2XHU1NDBEJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJEaXNwbGF5IHRleHQgZm9yIG5vdGVzIGluIGZpbGUtZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NEY3Rlx1NzUyOENvbmZsdWVuY2VcdTdGMjlcdThGREJcdTY4M0NcdTVGMEYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlVzZSBjb25mbHVlbmNlIGluZGVudGF0aW9uIGZvcm1hdFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2XHU1MjE3XHU4ODY4XHU1MTQzXHU3RDIwXHU5OENFXHU2ODNDJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJGaWxlLWl0ZW0gc3R5bGUgZm9yIG5vdGVzIGluIGZpbGUtZXhwbG9yZXI/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfc3VnZ2VzdGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2M0QyXHU1MTY1XHU2QTIxXHU1RjBGXHVGRjA4XHU3NkY4XHU1QkY5XHU0RThFXHU5NTFBXHU3MEI5XHVGRjA5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnNlcnQgbW9kZShyZWxhdGUgdG8gYW5jaG9yKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X25vZGVfYWZ0ZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfbm9kZV9iZWZvcmUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUyNERcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlByZXYgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfbm9kZV9hc19oZWFkKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5NEZFXHU1OTM0J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJIZWFkIG9mIGNoYWluXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2luc2VydF9ub2RlX2FzX3RhaWwoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTk0RkVcdTVDM0UnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlRhaWwgb2YgdGhhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X2ZvbGRlcl9hZnRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjU4N1x1NEVGNlx1NTkzOVx1NTQwRVx1N0Y2RSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRm9sZGVyIGFzIG5leHRcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fZ2V0X2Jyb3RoZXJzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1NDBDXHU3RUE3XHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOb3RlcyBpbiBzYW1lIGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9zYW1lX2ZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQwQ1x1N0VBN1x1N0IxNFx1OEJCMCtcdTVCNTBcdTc2RUVcdTVGNTUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5vdGVzIGluIHNhbWUgZm9sZGVyKHJlY3Vyc2l2ZSlcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5saW5rc19vdXRsaW5rcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTFGQVx1OTRGRStcdTUxNjVcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm91dExpbmtzICsgaW5MaW5rc1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbmxpbnMoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUxNjVcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcImlubGlua3NcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fb3V0bGlua3MoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUxRkFcdTk0RkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIm91dGxpbmtzXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2FsbF9ub2VzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjQwXHU2NzA5XHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJBbGwgbm90ZXNcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fcmVjZW50KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU4RkQxXHU2NzFGXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZWNlbnRcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fdW5jbGVfbm90ZXMoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTRFMEFcdTdFQTdcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5vdGVzIGluIGdyYW5kcGEgZm9sZGVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX25vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTm90ZSBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jdXJyZW50bm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3VycmVudCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2NoYWluX2luc2VydF9ub2RlX2FmdGVyKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NkRGQlx1NTJBMFx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIG5leHQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hc190YWlsKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OTRGRVx1NUMzRVx1NkRGQlx1NTJBMFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIHRhaWwgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2REZCXHU1MkEwXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgcHJldiBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2NoYWluX2luc2VydF9ub2RlX2FzX2hlYWQoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5NEZFXHU1OTM0XHU2REZCXHU1MkEwXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgaGVhZCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2l0ZW1fY2hhaW5faW5zZXJ0X251bGwoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NUUwXHU5NEZFXHU2M0E1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgbm90ZSBub3QgaW4gY2hhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByb21wdF9ub3RlbmFtZSgpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdThGOTNcdTUxNjVcdTdCMTRcdThCQjBcdTU0MEQnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIklucHV0IG5vdGUgbmFtZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgbGV0IHN0cmluZ3MgPSBuZXcgU3RyaW5ncygpOyIsICJpbXBvcnQgeyB0aW1lIH0gZnJvbSAnY29uc29sZSc7XHJcbmltcG9ydCB7IFxyXG4gICAgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgXHJcbiAgICBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsXHJcbiAgICBURmlsZSwgVEZvbGRlciwgbW9tZW50LCBFZGl0b3JQb3NpdGlvbiwgRWRpdG9yU2VsZWN0aW9uXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcbmltcG9ydCAqIGFzIGludGVybmFsIGZyb20gJ3N0cmVhbSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFdvcmRDb3VudHtcclxuXHRhcHA6QXBwO1xyXG4gICAgcGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHRucmV0cnk6bnVtYmVyO1xyXG4gICAgdGltZXJJZDpOb2RlSlMuVGltZW91dDtcclxuICAgIGN1cnJfYWN0aXZlX2ZpbGU6VEZpbGU7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4sYXBwOkFwcCl7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmFwcCA9IGFwcDtcclxuXHRcdHRoaXMubnJldHJ5PTEwMDtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyKCk7XHJcblx0fVxyXG5cclxuICAgIGZpbHRlcih0ZmlsZTpURmlsZSl7XHJcbiAgICAgICAgaWYoIXRmaWxlKXtyZXR1cm4gZmFsc2U7fVxyXG4gICAgICAgIGlmKCh0ZmlsZSBhcyBhbnkpLmRlbGV0ZWQpe3JldHVybiBmYWxzZTt9XHJcbiAgICAgICAgaWYodGZpbGUuZXh0ZW5zaW9uIT0nbWQnKXtyZXR1cm4gZmFsc2U7fVxyXG4gICAgICAgIGxldCB4Zm9sZGVycyA9IHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRjb3VudHhmb2xkZXIuc3BsaXQoJ1xcbicpLmZpbHRlcih4PT54IT0nJyk7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIG9mIHhmb2xkZXJzKXtcclxuICAgICAgICAgICAgaWYodGZpbGUucGF0aC5zdGFydHNXaXRoKGl0ZW0pKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfWVsc2UgaWYoaXRlbT09Jy8nKXtcclxuICAgICAgICAgICAgICAgIGlmKHRmaWxlLnBhcmVudD8ucGF0aD09Jy8nKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gXHU3RURGXHU4QkExXHU1QjU3XHU2NTcwXHJcbiAgICBjb3VudF93b3JkcyhjdHg6c3RyaW5nLGlnbm9yZT0vW1xccyFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxdXl9ge3x9XHVGRjBDXHUzMDAyXHVGRjAxXHVGRjFGXHUzMDEwXHUzMDExXHUzMDAxXHVGRjFCXHVGRjFBXHUyMDFDXHUyMDFEXHUyMDE4XHUyMDE5XHUzMDBBXHUzMDBCXHVGRjA4XHVGRjA5XHVGRjNCXHVGRjNEXHUyMDE0XHUyMDI2XHVGRkU1XS9nKXtcclxuICAgICAgICBsZXQgTiA9IGN0eC5yZXBsYWNlKGlnbm9yZSwgJycpLmxlbmd0aDtcclxuICAgICAgICBsZXQgZW5yZWdleCA9IC9bYS16QS1aMC05LV0rL2c7XHJcbiAgICAgICAgbGV0IG1hdGNoZXMgPSBjdHgubWF0Y2goZW5yZWdleCk7XHJcbiAgICAgICAgaWYobWF0Y2hlcyl7XHJcbiAgICAgICAgICAgIGxldCBlbGVuPTA7XHJcbiAgICAgICAgICAgIG1hdGNoZXMuZm9yRWFjaCh4PT5lbGVuPWVsZW4reC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBOID0gTi1lbGVuK21hdGNoZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTjtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZXRfbXRpbWVfdmFsdWUodGZpbGU6VEZpbGUsa2V5OnN0cmluZyx2YWw6bnVtYmVyKXtcclxuXHJcbiAgICAgICAgbGV0IGFjdGl2ZVZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG4gICAgICAgIGxldCBlZGl0b3JTdGF0ZToge1xyXG4gICAgICAgICAgICBjdXJzb3I/OiBFZGl0b3JQb3NpdGlvbixcclxuICAgICAgICAgICAgc2VsZWN0aW9uPzogc3RyaW5nLFxyXG4gICAgICAgICAgICBzYW5jaG9yPzpFZGl0b3JQb3NpdGlvbixcclxuICAgICAgICAgICAgc2hlYWQ/OkVkaXRvclBvc2l0aW9uLFxyXG4gICAgICAgICAgICBzY3JvbGxJbmZvPzogeyBsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyIH1cclxuICAgICAgICB9ID0ge307XHJcbiAgICBcclxuICAgICAgICBpZiAoYWN0aXZlVmlldyAmJiBhY3RpdmVWaWV3LmZpbGUgPT09IHRmaWxlKSB7XHJcbiAgICAgICAgICAgIGxldCBlZGl0b3IgPSBhY3RpdmVWaWV3LmVkaXRvcjtcclxuICAgICAgICAgICAgaWYgKGVkaXRvcikge1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yU3RhdGUuY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yU3RhdGUuc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yU3RhdGUuc2FuY2hvciA9IGVkaXRvci5nZXRDdXJzb3IoJ2FuY2hvcicpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yU3RhdGUuc2hlYWQgPSBlZGl0b3IuZ2V0Q3Vyc29yKCdoZWFkJyk7XHJcbiAgICAgICAgICAgICAgICBlZGl0b3JTdGF0ZS5zY3JvbGxJbmZvID0gZWRpdG9yLmdldFNjcm9sbEluZm8oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYWxpbmUgPSBlZGl0b3JTdGF0ZT8uY3Vyc29yPy5saW5lICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyBhY3RpdmVWaWV3Py5lZGl0b3I/LmdldExpbmUoZWRpdG9yU3RhdGUuY3Vyc29yLmxpbmUpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmKGFsaW5lICYmIGFsaW5lLnN0YXJ0c1dpdGgoJ3wnKSAmJiBhbGluZS5lbmRzV2l0aCgnfCcpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIoXHJcbiAgICAgICAgICAgIHRmaWxlLFxyXG4gICAgICAgICAgICAoZm0pID0+e1xyXG4gICAgICAgICAgICAgICAgbGV0IHQgPSBtb21lbnQudW5peCh0ZmlsZS5zdGF0Lm10aW1lLzEwMDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IG10aW1lID0gdC5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuICAgICAgICAgICAgICAgIGlmKGZtW2tleV09PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm1ba2V5XSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtdGltZT09IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpICYmIG10aW1lIT1tb21lbnQudW5peCh0ZmlsZS5zdGF0LmN0aW1lLzEwMDApLmZvcm1hdCgnWVlZWS1NTS1ERCcpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtW2tleV1bdC5hZGQoLTEsJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKV0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm1ba2V5XVttdGltZV0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHMgPSBPYmplY3Qua2V5cyhmbVtrZXldKS5zb3J0KChiLGEpPT5hLmxvY2FsZUNvbXBhcmUoYikpLmZpbHRlcih4PT4hKHg9PW10aW1lKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHMubGVuZ3RoPT0wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsPjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm1ba2V5XVttdGltZV0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGZtW2tleV1bbXRpbWVdKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtW2tleV1bbXRpbWVdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCh2YWwtZm1ba2V5XVt0c1swXV0pIT0wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtW2tleV1bbXRpbWVdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihmbVtrZXldW210aW1lXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZm1ba2V5XVttdGltZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLy8gUmVzdG9yZSBlZGl0b3Igc3RhdGUgaWYgaXQgd2FzIHNhdmVkXHJcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXcgJiYgYWN0aXZlVmlldy5maWxlID09PSB0ZmlsZSkge1xyXG4gICAgICAgICAgICBsZXQgZWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JTdGF0ZS5zY3JvbGxJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNjcm9sbFRvKGVkaXRvclN0YXRlLnNjcm9sbEluZm8ubGVmdCwgZWRpdG9yU3RhdGUuc2Nyb2xsSW5mby50b3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvclN0YXRlLnNlbGVjdGlvbiAmJiBlZGl0b3JTdGF0ZS5zYW5jaG9yICYmIGVkaXRvclN0YXRlLnNoZWFkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNldFNlbGVjdGlvbihlZGl0b3JTdGF0ZS5zYW5jaG9yLGVkaXRvclN0YXRlLnNoZWFkKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBFcnJvciBzZXR0aW5nIHNlbGVjdGlvbjoke2Vycm9yfWAsMzAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKGVkaXRvclN0YXRlLmN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRDdXJzb3IoZWRpdG9yU3RhdGUuY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRfbmV3X3dvcmRzKHRmaWxlOlRGaWxlLGRheT1tb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSl7XHJcbiAgICAgICAgbGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcbiAgICAgICAgbGV0IHZhbHVlcyA9IG1ldGE/LmZyb250bWF0dGVyPy53b3JkcztcclxuICAgICAgICBpZih2YWx1ZXMpe1xyXG4gICAgICAgICAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlcykuc29ydCgoYSxiKT0+YS5sb2NhbGVDb21wYXJlKGIpKTtcclxuICAgICAgICAgICAgbGV0IGlkeCA9IGtleXMuaW5kZXhPZihkYXkpO1xyXG4gICAgICAgICAgICBpZihpZHg8MCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfWVsc2UgaWYoaWR4PT0wKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbZGF5XTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW2RheV0tdmFsdWVzW2tleXNbaWR4LTFdXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlX3dvcmRfY291bnQodGZpbGU6VEZpbGUpe1xyXG4gICAgICAgIGlmKCF0aGlzLmZpbHRlcih0ZmlsZSkpe3JldHVybjt9XHJcbiAgICAgICAgbGV0IGN0eCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG4gICAgICAgIGxldCBtY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSlcclxuICAgICAgICBpZihtY2FjaGU/LmZyb250bWF0dGVyUG9zaXRpb24pe1xyXG4gICAgICAgICAgICBjdHggPSBjdHguc2xpY2UobWNhY2hlLmZyb250bWF0dGVyUG9zaXRpb24uZW5kLm9mZnNldClcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IE4gPSB0aGlzLmNvdW50X3dvcmRzKGN0eCk7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRfbXRpbWVfdmFsdWUodGZpbGUsJ3dvcmRzJyxOKTtcclxuICAgIH1cclxuXHJcblx0Y2hlY2tfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa3Y6e1trZXk6c3RyaW5nXTphbnl9KTpib29sZWFue1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYoIXRmaWxlKXtyZXR1cm4gZmFsc2U7fVxyXG5cdFx0XHRsZXQgbWV0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdFx0aWYobWV0YT8uZnJvbnRtYXR0ZXIpe1xyXG5cdFx0XHRcdGZvcihsZXQgayBpbiBrdil7XHJcblx0XHRcdFx0XHRpZighKG1ldGEuZnJvbnRtYXR0ZXJba109PWt2W2tdKSl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgd2FpdF9mcm9udG1hdHRlcih0ZmlsZTpURmlsZSxrdjp7W2tleTpzdHJpbmddOmFueX0sbnJldHJ5PXRoaXMubnJldHJ5KTpQcm9taXNlPGJvb2xlYW4+e1xyXG5cdFx0bGV0IGZsYWcgPSB0aGlzLmNoZWNrX2Zyb250bWF0dGVyKHRmaWxlLGt2KTtcclxuXHRcdFxyXG5cdFx0d2hpbGUoIWZsYWcgJiYgbnJldHJ5PjApe1xyXG5cdFx0XHRhd2FpdCBzbGVlcCg1MCk7XHJcblx0XHRcdG5yZXRyeSA9IG5yZXRyeS0xO1xyXG5cdFx0XHRmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmxhZztcclxuXHR9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlX3dvcmRfY291bnRfb2ZfdmF1bHQoKXtcclxuICAgICAgICBsZXQgdGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpLmZpbHRlcigoeDpURmlsZSk9PnRoaXMuZmlsdGVyKHgpKTtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgZm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKGAke2l9LyR7dGZpbGVzLmxlbmd0aH06JHt0ZmlsZS5uYW1lfWAsMzAwMCk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlX3dvcmRfY291bnQodGZpbGUpO1xyXG4gICAgICAgICAgICBpID0gaSsxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWdpc3Rlcigpe1xyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZGNvdXQpe1xyXG5cdFx0XHR0aGlzLnJlZ2Vpc3Rlcl9lZGl0b3JfY2hhbmdlKCk7XHJcblx0XHRcdHRoaXMucmVnZWlzdGVyX2FjdGl2ZV9sZWFmX2NoYW5nZSgpO1xyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuICAgIHJlZ2Vpc3Rlcl9lZGl0b3JfY2hhbmdlKCl7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChcclxuICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdlZGl0b3ItY2hhbmdlJyxhc3luYyAoZWRpdG9yLGluZm8pPT57XHJcbiAgICAgICAgICAgICAgICBpZihpbmZvLmZpbGU/LmV4dGVuc2lvbiE9J21kJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy50aW1lcklkIT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpbmZvLmZpbGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVfd29yZF9jb3VudCgoaW5mbyBhcyBhbnkpLmZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZWdlaXN0ZXJfYWN0aXZlX2xlYWZfY2hhbmdlKCl7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChcclxuICAgICAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKCdhY3RpdmUtbGVhZi1jaGFuZ2UnLGFzeW5jIChsZWFmKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0ZmlsZSA9IChsZWFmPy52aWV3IGFzIGFueSkuZmlsZTtcclxuICAgICAgICAgICAgICAgIGlmKCFsZWFmPy52aWV3KXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZighKChsZWFmLnZpZXcgYXMgYW55KT8uZmlsZT8uZXh0ZW5zaW9uPT0nbWQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVfd29yZF9jb3VudCh0ZmlsZSk7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJfYWN0aXZlX2ZpbGU9PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vycl9hY3RpdmVfZmlsZSA9IHRmaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY3Vycl9hY3RpdmVfZmlsZSAhPSB0ZmlsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVfd29yZF9jb3VudCh0aGlzLmN1cnJfYWN0aXZlX2ZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vycl9hY3RpdmVfZmlsZSA9IHRmaWxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBnZXRfd29yZHNfb2ZfdGZpbGVzKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luLmNoYWluLmdldF9hbGxfdGZpbGVzKCkubWFwKFxyXG4gICAgICAgICAgICB4PT50aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHgsJ3dvcmRzJylcclxuICAgICAgICApLmZpbHRlcih4PT54KTtcclxuICAgIH1cclxuXHJcbiAgICBzdW1fd29yZHNfb2ZfdGlmbGVzKGZpbGVzOkFycmF5PGFueT4sIGJlZ3Q6bnVtYmVyfHN0cmluZywgZW5kdDpudW1iZXJ8c3RyaW5nKSB7XHJcbiAgICAgICAgaWYodHlwZW9mKGJlZ3QpPT0nbnVtYmVyJyl7XHJcbiAgICAgICAgICAgIGJlZ3QgPSBtb21lbnQoKS5hZGQoLWJlZ3QsJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0eXBlb2YoZW5kdCk9PSdudW1iZXInKXtcclxuICAgICAgICAgICAgZW5kdCA9IG1vbWVudCgpLmFkZCgtZW5kdCwnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBzdGFydERhdGUgPSBuZXcgRGF0ZShiZWd0KTtcclxuICAgICAgICBsZXQgZW5kRGF0ZSA9IG5ldyBEYXRlKGVuZHQpO1xyXG4gICAgICAgIGxldCBkYWlseVdvcmRDb3VudHM6e1trZXk6c3RyaW5nXTphbnl9ID0ge307XHJcbiAgICBcclxuICAgICAgICAvLyBJbml0aWFsaXplIGRhaWx5V29yZENvdW50cyB3aXRoIGFsbCBkYXRlcyBpbiB0aGUgcmFuZ2VcclxuICAgICAgICBmb3IgKGxldCBkYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTsgZGF0ZSA8PSBlbmREYXRlOyBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAxKSkge1xyXG4gICAgICAgICAgICBsZXQgZGF0ZVN0ciA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG4gICAgICAgICAgICBkYWlseVdvcmRDb3VudHNbZGF0ZVN0cl0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTdW0gdXAgdGhlIHdvcmQgY291bnRzIGZvciBlYWNoIGRhdGVcclxuICAgICAgICBmaWxlcy5mb3JFYWNoKChmaWxlOmFueSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbGFzdFdvcmRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBlYXJsaWVzdERhdGUgPSBuZXcgRGF0ZShPYmplY3Qua2V5cyhmaWxlKS5zb3J0KClbMF0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgbGFzdFdvcmRDb3VudCB3aXRoIHRoZSBlYXJsaWVzdCBkYXRlJ3Mgd29yZCBjb3VudCBpbiB0aGUgZmlsZVxyXG4gICAgICAgICAgICBpZiAoZWFybGllc3REYXRlIDwgc3RhcnREYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0V29yZENvdW50ID0gZmlsZVtlYXJsaWVzdERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgZGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7IGRhdGUgPD0gZW5kRGF0ZTsgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZS5oYXNPd25Qcm9wZXJ0eShkYXRlU3RyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RXb3JkQ291bnQgPSBmaWxlW2RhdGVTdHJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGFpbHlXb3JkQ291bnRzW2RhdGVTdHJdICs9IGxhc3RXb3JkQ291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZGFpbHlXb3JkQ291bnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGRpZmZfd29yZHNfb2ZfdGlmbGVzKGRhaWx5V29yZENvdW50czogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSwgZmlyc3RfYXNfemVybzogYm9vbGVhbiA9IHRydWUpOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcclxuICAgICAgICBsZXQgZGFpbHlOZXdXb3JkQ291bnRzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcbiAgICAgICAgbGV0IHByZXZpb3VzVG90YWwgPSAwO1xyXG4gICAgICAgIGxldCBmaXJzdCA9ICcnO1xyXG4gICAgXHJcbiAgICAgICAgZm9yIChsZXQgZGF0ZSBpbiBkYWlseVdvcmRDb3VudHMpIHtcclxuICAgICAgICAgICAgaWYgKGZpcnN0ID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZmlyc3QgPSBkYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50VG90YWwgPSBkYWlseVdvcmRDb3VudHNbZGF0ZV07XHJcbiAgICAgICAgICAgIGRhaWx5TmV3V29yZENvdW50c1tkYXRlXSA9IGN1cnJlbnRUb3RhbCAtIHByZXZpb3VzVG90YWw7XHJcbiAgICAgICAgICAgIHByZXZpb3VzVG90YWwgPSBjdXJyZW50VG90YWw7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGZpcnN0X2FzX3plcm8gJiYgZmlyc3QgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIGRhaWx5TmV3V29yZENvdW50c1tmaXJzdF0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIHJldHVybiBkYWlseU5ld1dvcmRDb3VudHM7XHJcbiAgICB9XHJcbn0iLCAiXHJcbmltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxtb21lbnQsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge05DRWRpdG9yfSBmcm9tICcuL05DRWRpdG9yJztcclxuaW1wb3J0IHtnZXRfdHBfZnVuY30gZnJvbSAnLi91dGlscydcclxuaW1wb3J0IHsgc3RyaW5ncyB9IGZyb20gJy4vc3RyaW5ncyc7XHJcbmltcG9ydCB7IG9mZiB9IGZyb20gJ3Byb2Nlc3MnO1xyXG5pbXBvcnQgeyBsaW5rIH0gZnJvbSAnZnMnO1xyXG5cclxuXHJcblxyXG5jbGFzcyBOb3RlTm9kZSB7XHJcblx0dGZpbGUgOiBURmlsZTtcclxuXHRub3RlMmlkIDoge1trZXk6c3RyaW5nXTphbnl9O1xyXG5cdGlkIDogbnVtYmVyO1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKHRmaWxlOlRGaWxlLHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pIHtcclxuXHRcdHRoaXMudGZpbGUgPSB0ZmlsZTtcclxuXHRcdHRoaXMubm90ZTJpZCA9IHt9O1xyXG5cdFx0dGhpcy5pZCA9IDA7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdC8vIFx1OEZENFx1NTZERSBJRFhYWFhcclxuXHRnZXRfaWQodGZpbGU6VEZpbGUpIHtcclxuXHRcdGlmICh0ZmlsZS5iYXNlbmFtZSBpbiB0aGlzLm5vdGUyaWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMubm90ZTJpZFt0ZmlsZS5iYXNlbmFtZV07XHJcblx0XHR9XHJcblx0XHRsZXQgbmV3SWQgPSBgSUQke3RoaXMuaWQudG9TdHJpbmcoKS5wYWRTdGFydCg0LCAnMCcpfWA7XHJcblx0XHR0aGlzLm5vdGUyaWRbdGZpbGUuYmFzZW5hbWVdID0gbmV3SWQ7XHJcblx0XHR0aGlzLmlkID0gdGhpcy5pZCsxO1xyXG5cdFx0cmV0dXJuIG5ld0lkO1xyXG5cclxuXHR9XHJcblxyXG5cdC8vIFx1OEZENFx1NTZERUlEWFhYWFtcInRmaWxlLmJhc2VuYW1lXCJdXHJcblx0Z2V0X25vZGUodGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IGlkID0gdGhpcy5nZXRfaWQodGZpbGUpO1xyXG5cdFx0cmV0dXJuIGAke2lkfShcIiR7dGZpbGUuYmFzZW5hbWV9XCIpYFxyXG5cdH1cclxuXHJcblx0Z2V0X21laHJtYWlkX25vZGUobm9kZTpzdHJpbmcsYXZhdGE9Jycpe1xyXG5cdFx0aWYgKG5vZGUgaW4gdGhpcy5ub3RlMmlkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLm5vdGUyaWRbbm9kZV07XHJcblx0XHR9XHJcblx0XHRpZihub2RlLnN0YXJ0c1dpdGgoJ3N1YmdyYXBoICcpKXtcclxuXHRcdFx0cmV0dXJuIG5vZGUuc2xpY2UoJ3N1YmdyYXBoICcubGVuZ3RoKVxyXG5cdFx0fVxyXG5cdFx0bGV0IG5ld0lkID0gYElEJHt0aGlzLmlkLnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgJzAnKX1gO1xyXG5cdFx0dGhpcy5ub3RlMmlkW25vZGVdID0gbmV3SWQ7XHJcblx0XHR0aGlzLmlkID0gdGhpcy5pZCsxO1xyXG5cdFx0bGV0IHRmaWxlID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKG5vZGUpO1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRpZihhdmF0YSA9PScnKXtcclxuXHRcdFx0XHRhdmF0YSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YXRhXHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLnBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGF2YXRhKTtcclxuXHRcdFx0aWYobWV0YSl7XHJcblx0XHRcdFx0aWYobWV0YS5zdGFydHNXaXRoKCcjJykpe1xyXG5cdFx0XHRcdFx0bm9kZSA9IGAhW1ske3RmaWxlLmJhc2VuYW1lfSR7bWV0YX18bm8taGVhZF1dYFxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0bm9kZSA9IG1ldGEucmVwbGFjZSgnU0VMRicsYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGAke25ld0lkfShcIiR7bm9kZX1cIilgO1xyXG5cdH1cclxuXHJcblx0Z2V0X2NhbnZhc19ub2RlKG5vZGU6c3RyaW5nKXtcclxuXHRcdGlmIChub2RlIGluIHRoaXMubm90ZTJpZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5ub3RlMmlkW25vZGVdO1xyXG5cdFx0fVxyXG5cdFx0bGV0IG5ld0lkID0gYElEJHt0aGlzLmlkLnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgJzAnKX1gO1xyXG5cdFx0dGhpcy5ub3RlMmlkW25vZGVdID0gbmV3SWQ7XHJcblx0XHR0aGlzLmlkID0gdGhpcy5pZCsxO1xyXG5cdFx0cmV0dXJuIG5ld0lkO1xyXG5cclxuXHR9XHJcblxyXG5cdG5vdGVzMmNsYXNzKCl7XHJcblx0XHRsZXQgbXNnID0gJ1xcbic7XHJcblx0XHRmb3IobGV0IHRmaWxlIGluIHRoaXMubm90ZTJpZCl7XHJcblx0XHRcdG1zZyA9IG1zZytgXFx0Y2xhc3MgJHt0aGlzLm5vdGUyaWRbdGZpbGVdfSBpbnRlcm5hbC1saW5rO1xcbmA7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbXNnXHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWVybWFpZEdyYXBoe1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRlZGl0b3I6TkNFZGl0b3I7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0dGhpcy5lZGl0b3IgPSBwbHVnaW4uZWRpdG9yO1xyXG5cdH1cclxuXHJcblx0Z2V0X25vdGVfbm9kZSh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgbm9kZSA9IG5ldyBOb3RlTm9kZSh0ZmlsZSx0aGlzLnBsdWdpbik7XHJcblx0XHRyZXR1cm4gbm9kZTtcclxuXHR9XHJcblxyXG5cdHN1YmdyYXBoX2NoYWluKG5vZGU6Tm90ZU5vZGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxsaW5lPSc8LS0+Jyl7XHJcblxyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUoaTxpdGVtcy5sZW5ndGgtMSl7XHJcblx0XHRcdGxldCBwcmV2ID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpXSk7XHJcblx0XHRcdGxldCBuZXh0ID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpKzFdKTtcclxuXHRcdFx0bXNnID0gbXNnK2Ake3N0YWJ9JHtwcmV2fSR7bGluZX0ke25leHR9XFxuYDtcclxuXHRcdFx0aSA9IGkrMTtcclxuXHRcdH1cclxuXHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9saW5rcyhub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nLS0+Jyx0ZmlsZXNfZmlyc3Q9ZmFsc2Upe1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblxyXG5cdFx0fVxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IHNpZCA9IG5vZGUuZ2V0X25vZGUobm9kZS50ZmlsZSk7XHJcblx0XHR3aGlsZShpPGl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdGxldCBpZCA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaV0pO1xyXG5cdFx0XHRpZih0ZmlsZXNfZmlyc3Qpe1xyXG5cdFx0XHRcdG1zZyA9IG1zZytgJHtzdGFifSR7aWR9JHtsaW5lfSR7c2lkfVxcbmA7XHJcblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRtc2cgPSBtc2crYCR7c3RhYn0ke3NpZH0ke2xpbmV9JHtpZH1cXG5gO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkgPSBpKzE7XHJcblx0XHR9XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHQvLyBbc3JjLGRzdCxpb11cclxuXHRlZGdlc19vZl90ZmlsZXModGZpbGVzOkFycmF5PFRGaWxlPixtZXJnZV9pbm91dD10cnVlKXtcclxuXHRcdGxldCBpbmxpbmtzOntba2V5OnN0cmluZ106QXJyYXk8VEZpbGU+fSA9IHt9XHJcblx0XHRsZXQgb3V0bGlua3M6e1trZXk6c3RyaW5nXTpBcnJheTxURmlsZT59ID0ge31cclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0b3V0bGlua3NbdGZpbGVzLmluZGV4T2YodGZpbGUpXSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9vdXRsaW5rcyh0ZmlsZSx0cnVlKTtcclxuXHRcdFx0aW5saW5rc1t0ZmlsZXMuaW5kZXhPZih0ZmlsZSldID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2lubGlua3ModGZpbGUsdHJ1ZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBlZGdlcyA9IFtdO1xyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRsZXQgaSA9IHRmaWxlcy5pbmRleE9mKHRmaWxlKTtcclxuXHRcdFx0Zm9yKGxldCBvdXRsaW5rIG9mIG91dGxpbmtzW2ldKXtcclxuXHRcdFx0XHRpZih0ZmlsZXMuY29udGFpbnMob3V0bGluaykpe1xyXG5cdFx0XHRcdFx0aWYodGZpbGVzLmluZGV4T2Yob3V0bGluayk8PWkpe2NvbnRpbnVlO31cclxuXHRcdFx0XHRcdGlmKG1lcmdlX2lub3V0KXtcclxuXHRcdFx0XHRcdFx0aWYoaW5saW5rc1tpXS5jb250YWlucyhvdXRsaW5rKSl7XHJcblx0XHRcdFx0XHRcdFx0ZWRnZXMucHVzaChbdGZpbGUsb3V0bGluayx0cnVlXSk7XHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW3RmaWxlLG91dGxpbmssZmFsc2VdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW3RmaWxlLG91dGxpbmssZmFsc2VdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZvcihsZXQgaW5saW5rIG9mIGlubGlua3NbaV0pe1xyXG5cdFx0XHRcdGlmKHRmaWxlcy5jb250YWlucyhpbmxpbmspKXtcclxuXHRcdFx0XHRcdGlmKHRmaWxlcy5pbmRleE9mKGlubGluayk8PWkpe2NvbnRpbnVlO31cclxuXHRcdFx0XHRcdGlmKG1lcmdlX2lub3V0KXtcclxuXHRcdFx0XHRcdFx0aWYoIW91dGxpbmtzW2ldLmNvbnRhaW5zKGlubGluaykpe1xyXG5cdFx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW2lubGluayx0ZmlsZSxmYWxzZV0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0ZWRnZXMucHVzaChbaW5saW5rLHRmaWxlLGZhbHNlXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZWRnZXM7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9jcm9zcyhub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nLS0+Jyx0ZmlsZXNfZmlyc3Q9ZmFsc2Upe1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgZWRnZXMgPSB0aGlzLmVkZ2VzX29mX3RmaWxlcyh0ZmlsZXMpO1xyXG5cdFx0Zm9yKGxldCBlZGdlIG9mIGVkZ2VzKXtcclxuXHRcdFx0bGV0IHNpZCA9IG5vZGUuZ2V0X25vZGUoZWRnZVswXSBhcyBhbnkpO1xyXG5cdFx0XHRsZXQgZGlkID0gbm9kZS5nZXRfbm9kZShlZGdlWzFdIGFzIGFueSk7XHJcblx0XHRcdGlmKGVkZ2VbMl0pe1xyXG5cdFx0XHRcdG1zZyA9IG1zZyArIGAke3N0YWJ9JHtzaWR9PC0uLT4ke2RpZH1cXG5gO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRtc2cgPSBtc2cgKyBgJHtzdGFifSR7c2lkfS0uLT4ke2RpZH1cXG5gO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZytcIlxcdGVuZFxcblwiO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGdldF9mbG93Y2hhcnQodGZpbGU6VEZpbGUsTj0yLGNfY2hhaW49JyNGMDU0NTQnLGNfaW5saW5rPScjNzc2QjVEJyxjX291dGxpbms9JyMyMjI4MzEnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGUsdGhpcy5wbHVnaW4pO1xyXG5cclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luO1xyXG5cclxuXHRcdGxldCBtc2cgPSBcIlxcYFxcYFxcYG1lcm1haWRcXG5mbG93Y2hhcnQgVERcXG5cIjtcclxuXHRcdGxldCBjaGFpbiA9IG5jLmNoYWluLmdldF9jaGFpbih0ZmlsZSxOLE4pXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2NoYWluKG5vZGUsY2hhaW4sJ1x1N0IxNFx1OEJCMFx1OTRGRScpO1xyXG5cclxuXHRcdGxldCBpbmxpbmtzID0gbmMuY2hhaW4uZ2V0X2lubGlua3ModGZpbGUsdHJ1ZSkuZmlsdGVyKCh4OlRGaWxlKT0+IWNoYWluLmNvbnRhaW5zKHgpKTtcclxuXHRcdGxldCBvdXRsaW5rcyA9IG5jLmNoYWluLmdldF9vdXRsaW5rcyh0ZmlsZSx0cnVlKS5maWx0ZXIoKHg6VEZpbGUpPT4hY2hhaW4uY29udGFpbnMoeCkpO1xyXG5cclxuXHRcdG1zZyA9IG1zZyArIHRoaXMuc3ViZ3JhcGhfbGlua3Mobm9kZSxpbmxpbmtzLCdcdTUxNjVcdTk0RkUnLCctLT4nLHRydWUpO1xyXG5cclxuXHRcdG1zZyA9IG1zZyArIHRoaXMuc3ViZ3JhcGhfbGlua3Mobm9kZSxvdXRsaW5rcywnXHU1MUZBXHU5NEZFJywnLS0+Jyk7XHJcblxyXG5cdFx0bXNnID0gbXNnICsgbm9kZS5ub3RlczJjbGFzcygpO1xyXG5cdFx0bXNnID0gbXNnICsgW1xyXG5cdFx0XHQnY2xhc3NEZWYgXHU3QjE0XHU4QkIwXHU5NEZFQyBmaWxsOicrY19jaGFpbixcclxuXHRcdFx0J2NsYXNzRGVmIFx1NTE2NVx1OTRGRUMgZmlsbDonK2NfaW5saW5rLFxyXG5cdFx0XHQnY2xhc3NEZWYgXHU1MUZBXHU5NEZFQyBmaWxsOicrY19vdXRsaW5rLFxyXG5cdFx0XHRgY2xhc3NEZWYgQW5jaG9yIGZpbGw6JHtjX2FuY2hvcn0sc3Rva2U6JHtjX2FuY2hvcn1gLFxyXG5cdFx0XHQnY2xhc3MgXHU3QjE0XHU4QkIwXHU5NEZFIFx1N0IxNFx1OEJCMFx1OTRGRUMnLFxyXG5cdFx0XHQnY2xhc3MgXHU1MTY1XHU5NEZFIFx1NTE2NVx1OTRGRUMnLFxyXG5cdFx0XHQnY2xhc3MgXHU1MUZBXHU5NEZFIFx1NTFGQVx1OTRGRUMnLFxyXG5cdFx0XHQnJ1xyXG5cdFx0XS5qb2luKCdcXG4nKVxyXG5cdFx0bXNnID0gbXNnK1wiXFxgXFxgXFxgXCI7XHJcblx0XHRtc2cgPSBtc2cucmVwbGFjZShcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBpbnRlcm5hbC1saW5rO2AsXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKHRmaWxlKX0gQW5jaG9yO2BcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0Zmxvd2NoYXJ0X2ZvbGRlcih0ZmlsZTpURmlsZSxzdWJncmFwaD0nRm9sZGVyJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGZpbGVzID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2Jyb3RoZXJzKHRmaWxlKTtcclxuXHRcdHJldHVybiB0aGlzLmZsb3djaGFydF9jcm9zcyh0ZmlsZSx0ZmlsZXMsc3ViZ3JhcGgsY29sb3IsY19hbmNob3IpO1xyXG5cdH1cclxuXHJcblx0Zmxvd2NoYXJ0X25vdGVjaGFpbih0ZmlsZTpURmlsZSxOPTEwLHN1YmdyYXBoPSdOb3RlQ2hhaW4nLGNvbG9yPScjRjA1NDU0JyxjX2FuY2hvcj0nIzQwQTU3OCcpe1xyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0bGV0IGxlYWYgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJ05vIEZpbGUuJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB0ZmlsZXMgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfY2hhaW4odGZpbGUsTixOKTtcclxuXHRcdHJldHVybiB0aGlzLmZsb3djaGFydF9jcm9zcyh0ZmlsZSx0ZmlsZXMsc3ViZ3JhcGgsY29sb3IsY19hbmNob3IpO1xyXG5cdH1cclxuXHJcblx0Zmxvd2NoYXJ0X2Nyb3NzKGFuY2hvcjpURmlsZSx0ZmlsZXM6QXJyYXk8VEZpbGU+LHN1YmdyYXBoPScnLGNvbG9yPScjRjA1NDU0JyxjX2FuY2hvcj0nIzQwQTU3OCcpe1xyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGVzWzBdLHRoaXMucGx1Z2luKTtcclxuXHRcdGxldCBtc2cgPSBcIlxcYFxcYFxcYG1lcm1haWRcXG5mbG93Y2hhcnQgVERcXG5cIjtcclxuXHRcdG1zZyA9IG1zZyArIHRoaXMuc3ViZ3JhcGhfY3Jvc3Mobm9kZSx0ZmlsZXMsc3ViZ3JhcGgpO1xyXG5cdFx0bXNnID0gbXNnICsgbm9kZS5ub3RlczJjbGFzcygpO1xyXG5cdFx0bXNnID0gbXNnICsgW1xyXG5cdFx0XHRgY2xhc3NEZWYgJHtzdWJncmFwaH1DIGZpbGw6JHtjb2xvcn1gLFxyXG5cdFx0XHRgY2xhc3NEZWYgQW5jaG9yIGZpbGw6JHtjX2FuY2hvcn0sc3Rva2U6JHtjX2FuY2hvcn1gLFxyXG5cdFx0XHRgY2xhc3MgJHtzdWJncmFwaH0gJHtzdWJncmFwaH1DYCxcclxuXHRcdFx0JydcclxuXHRcdF0uam9pbignXFxuJylcclxuXHRcdG1zZyA9IG1zZytcIlxcYFxcYFxcYFwiO1xyXG5cdFx0bXNnID0gbXNnLnJlcGxhY2UoXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKGFuY2hvcil9IGludGVybmFsLWxpbms7YCxcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQoYW5jaG9yKX0gQW5jaG9yO2BcclxuXHRcdCk7XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0Z2V0X3N1YmdyYWhfbmFtZXMoZ3JvdXBfbmFtZTpzdHJpbmcsdGZpbGVzOkFycmF5PFRGaWxlPixuYW1lPSdncm91cCcpe1xyXG5cdFx0bGV0IG5jID0gdGhpcy5wbHVnaW47XHJcblx0XHRsZXQgaXRlbXM6e1trZXk6c3RyaW5nXTpzdHJpbmd9ID0ge31cclxuXHRcdGZvcihsZXQgY2ZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0bGV0IGNncm91cCA9IG5jLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoY2ZpbGUsbmFtZSlcclxuXHRcdFx0aWYoY2dyb3VwICYmIEFycmF5LmlzQXJyYXkoY2dyb3VwKSl7XHJcblx0XHRcdFx0Zm9yKGxldCBjZyBvZiBjZ3JvdXApe1xyXG5cdFx0XHRcdFx0bGV0IHRtcCA9IGNnLnNwbGl0KCcvJyk7XHJcblx0XHRcdFx0XHRpZih0bXBbMF09PWdyb3VwX25hbWUpe1xyXG5cdFx0XHRcdFx0XHRpZih0bXAubGVuZ3RoPT0xKXtcclxuXHRcdFx0XHRcdFx0XHRpdGVtc1t0ZmlsZXMuaW5kZXhPZihjZmlsZSldID0gJyc7XHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGl0ZW1zW3RmaWxlcy5pbmRleE9mKGNmaWxlKV0gPSB0bXBbMV07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtc1xyXG5cdH1cclxuXHJcblx0Zmxvd2NoYXJ0X2dyb3VwcyhhbmNob3I6VEZpbGUsbmFtZT0nZ3JvdXAnKXtcclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luO1xyXG5cclxuXHRcdGxldCB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfYnJvdGhlcnMoYW5jaG9yKTtcclxuXHRcdHRmaWxlcyA9IG5jLmNoYWluLmdldF9ncm91cF9saW5rcyh0ZmlsZXMsMSlcclxuXHJcblx0XHRsZXQgbm9kZSA9IG5jLm1lcm1haWQuZ2V0X25vdGVfbm9kZShhbmNob3IpO1xyXG5cclxuXHRcdFxyXG5cdFx0bGV0IGdyb3VwID0gbmMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihhbmNob3IsbmFtZSk7XHJcblx0XHRpZighZ3JvdXB8fCFBcnJheS5pc0FycmF5KGdyb3VwKSl7cmV0dXJuIFtdO31cclxuXHRcdGxldCByZXM6QXJyYXk8c3RyaW5nPiA9IFtdO1xyXG5cdFx0Zm9yKGxldCBnIG9mIGdyb3VwKXtcclxuXHRcdFx0ZyA9IGcuc3BsaXQoJy8nKVswXVxyXG5cdFx0XHRsZXQgaXRlbXMgPSB0aGlzLmdldF9zdWJncmFoX25hbWVzKGcsdGZpbGVzLG5hbWUpO1xyXG5cdFx0XHRsZXQgc3VicyA9IG5ldyBTZXQoT2JqZWN0LnZhbHVlcyhpdGVtcykpXHJcblxyXG5cdFx0XHRsZXQgbXNnID0gYFxcYFxcYFxcYG1lcm1haWRcXG4tLS1cXG50aXRsZTogJHtnfVxcbi0tLVxcbmZsb3djaGFydCBURFxcbmA7XHJcblx0XHRcdGZvcihsZXQgc3ViIG9mIHN1YnMpe1xyXG5cdFx0XHRcdGlmKHN1Yj09Jycpe1xyXG5cdFx0XHRcdFx0Zm9yKGxldCBpZHggaW4gaXRlbXMpe1xyXG5cdFx0XHRcdFx0XHRpZihpdGVtc1tpZHhdPT1zdWIpe1xyXG5cdFx0XHRcdFx0XHRcdG1zZyA9IG1zZysnXFxuJytub2RlLmdldF9ub2RlKHRmaWxlc1tpZHhdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0bXNnID0gbXNnKydcXG5zdWJncmFwaCAnK3N1YisnXFxuJ1xyXG5cdFx0XHRcdFx0Zm9yKGxldCBpZHggaW4gaXRlbXMpe1xyXG5cdFx0XHRcdFx0XHRpZihpdGVtc1tpZHhdPT1zdWIpe1xyXG5cdFx0XHRcdFx0XHRcdG1zZyA9IG1zZysnXFxuXFx0Jytub2RlLmdldF9ub2RlKHRmaWxlc1tpZHhdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG1zZyA9IG1zZysnXFxuZW5kJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRtc2cgPSBtc2crJ1xcbicrdGhpcy5zdWJncmFwaF9jcm9zcyhub2RlLE9iamVjdC5rZXlzKGl0ZW1zKS5tYXAoeD0+dGZpbGVzW3hdKSk7XHJcblx0XHRcdG1zZyA9IG1zZysnXFxuJytub2RlLm5vdGVzMmNsYXNzKCk7XHJcblx0XHRcdG1zZyA9IG1zZytcIlxcblxcYFxcYFxcYFwiO1xyXG5cdFx0XHRyZXMucHVzaChtc2cpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9yZWxhdGlvbnNoaXBfZ3JhcGgodGZpbGU6VEZpbGUsIE49MSwga2V5PSdsaW5rJyxzaG93X2FsbF9ub2RlPXRydWUpIHtcclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luO1xyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGUsdGhpcy5wbHVnaW4pO1xyXG5cdFx0bGV0IG1zZyA9IFwiYGBgbWVybWFpZFxcbmZsb3djaGFydCBURFxcblwiO1xyXG5cclxuXHRcdC8vIFx1ODNCN1x1NTNENiBOIFx1NUM0Mlx1OTRGRVx1NjNBNVx1NzY4NFx1N0IxNFx1OEJCMFxyXG5cdFx0bGV0IHRmaWxlcyA9IG5jLmNoYWluLmdldF9ncm91cF9saW5rcyhbdGZpbGVdLCBOKTtcclxuXHRcdGlmKHNob3dfYWxsX25vZGUpe1xyXG5cdFx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdFx0bXNnICs9YCR7bm9kZS5nZXRfbm9kZSh0ZmlsZSl9XFxuYFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdC8vIFx1NzUyOFx1NEU4RVx1OERERlx1OEUyQVx1NURGMlx1NTkwNFx1NzQwNlx1NzY4NFx1N0IxNFx1OEJCMFxyXG5cdFx0bGV0IHByb2Nlc3NlZEZpbGVzID0gbmV3IFNldDxURmlsZT4oKTtcclxuXHJcblx0XHRmb3IgKGxldCBjdXJyZW50RmlsZSBvZiB0ZmlsZXMpIHtcclxuXHRcdFx0aWYgKHByb2Nlc3NlZEZpbGVzLmhhcyhjdXJyZW50RmlsZSkpIGNvbnRpbnVlOyAvLyBcdTU5ODJcdTY3OUNcdTVERjJcdTU5MDRcdTc0MDZcdUZGMENcdThERjNcdThGQzdcclxuXHRcdFx0cHJvY2Vzc2VkRmlsZXMuYWRkKGN1cnJlbnRGaWxlKTsgLy8gXHU2ODA3XHU4QkIwXHU0RTNBXHU1REYyXHU1OTA0XHU3NDA2XHJcblxyXG5cdFx0XHRsZXQgbGlua3MgPSBuYy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGN1cnJlbnRGaWxlLCBrZXkpO1xyXG5cdFx0XHRpZiAobGlua3MpIHtcclxuXHRcdFx0XHRmb3IgKGxldCBbcmVsYXRpb24sIGxpbmtlZE5vdGVdIG9mIE9iamVjdC5lbnRyaWVzKGxpbmtzKSkge1xyXG5cdFx0XHRcdFx0aWYobGlua2VkTm90ZSBpbnN0YW5jZW9mIEFycmF5KXtcclxuXHRcdFx0XHRcdFx0Zm9yKGxldCBpdGVtIG9mIGxpbmtlZE5vdGUpe1xyXG5cdFx0XHRcdFx0XHRcdGxldCBsaW5rZWRURmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZShpdGVtIGFzIHN0cmluZyk7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGxpbmtlZFRGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgXFx0JHtub2RlLmdldF9ub2RlKGN1cnJlbnRGaWxlKX0gLS0+fCR7cmVsYXRpb259fCAke25vZGUuZ2V0X25vZGUobGlua2VkVEZpbGUpfVxcbmA7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0bGV0IGxpbmtlZFRGaWxlID0gbmMuY2hhaW4uZ2V0X3RmaWxlKGxpbmtlZE5vdGUgYXMgc3RyaW5nKTtcclxuXHRcdFx0XHRcdFx0aWYgKGxpbmtlZFRGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRtc2cgKz0gYFxcdCR7bm9kZS5nZXRfbm9kZShjdXJyZW50RmlsZSl9IC0tPnwke3JlbGF0aW9ufXwgJHtub2RlLmdldF9ub2RlKGxpbmtlZFRGaWxlKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRtc2cgPSBtc2cgKyBub2RlLm5vdGVzMmNsYXNzKCk7XHJcblx0XHRtc2cgKz0gXCJgYGBcIjtcclxuXHRcdGxldCBjX2FuY2hvcj0nIzQwQTU3OCdcclxuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IGludGVybmFsLWxpbms7YCxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9XFxuY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGdldF9tZWhybWFpZF9ncmFwaCh0ZmlsZTpURmlsZSwgTj0xLCBrZXk9J21lcm1haWQnLGNfYW5jaG9yPScjZDRjNGI3JyxmaWVsZD0nYXZhdGEnKSB7XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0bGV0IGxlYWYgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJ05vIEZpbGUuJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luO1xyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGUsdGhpcy5wbHVnaW4pO1xyXG5cdFx0bGV0IG1zZyA9IFwiYGBgbWVocm1haWRcXG5mbG93Y2hhcnQgVERcXG5cIjtcclxuXHJcblx0XHQvLyBcdTgzQjdcdTUzRDYgTiBcdTVDNDJcdTk0RkVcdTYzQTVcdTc2ODRcdTdCMTRcdThCQjBcclxuXHRcdGxldCB0ZmlsZXM7XHJcblx0XHRpZihOPT0tMSl7XHJcblx0XHRcdHRmaWxlcyA9IG5jLmNoYWluLmdldF9icm90aGVycyh0ZmlsZSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGZpbGVzID0gbmMuY2hhaW4uZ2V0X2dyb3VwX2xpbmtzKFt0ZmlsZV0sIE4pO1xyXG5cdFx0fVxyXG5cdFx0dGZpbGVzID0gbmMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzKSBhcyBURmlsZVtdO1xyXG5cclxuXHRcdGZvciAobGV0IGN1cnJlbnRGaWxlIG9mIHRmaWxlcykge1xyXG5cdFx0XHRsZXQgc3JjID0gYFtbJHtjdXJyZW50RmlsZS5iYXNlbmFtZX1dXWBcclxuXHRcdFx0bGV0IGxpbmtzID0gbmMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihjdXJyZW50RmlsZSwga2V5KTtcclxuXHRcdFx0aWYgKGxpbmtzICYmIEFycmF5LmlzQXJyYXkobGlua3MpKSB7XHJcblx0XHRcdFx0Zm9yKGxldCBsaW5rIG9mIGxpbmtzKXtcclxuXHRcdFx0XHRcdGlmKGxpbmtbJ2VkZ2UnXSE9bnVsbCAmJiBsaW5rWydub2RlJ10hPW51bGwpe1xyXG5cdFx0XHRcdFx0XHRsZXQgY2VkZ2UgPSBsaW5rWydlZGdlJ107XHJcblx0XHRcdFx0XHRcdGxldCBjbm9kZSA9IGxpbmtbJ25vZGUnXTtcclxuXHRcdFx0XHRcdFx0aWYoY2VkZ2U9PScnKXtcclxuXHRcdFx0XHRcdFx0XHRjZWRnZSA9ICcnXHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGNlZGdlID0gYHxcIiR7Y2VkZ2V9XCJ8YFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGxldCBsaW5lID0gJy0tPic7XHJcblx0XHRcdFx0XHRcdGlmKGxpbmtbJ2xpbmUnXSl7XHJcblx0XHRcdFx0XHRcdFx0bGluZSA9IGxpbmtbJ2xpbmUnXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmKGxpbmVbMF09PSc8JyAmJiBsaW5lW2xpbmUubGVuZ3RoLTFdIT0nPicpe1xyXG5cdFx0XHRcdFx0XHRcdGxpbmUgPSBsaW5lLnNsaWNlKDEpKyc+J1xyXG5cdFx0XHRcdFx0XHRcdGlmKGNub2RlIGluc3RhbmNlb2YgQXJyYXkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Zm9yKGxldCBpdGVtIG9mIGNub2RlKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bXNnICs9IGAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoaXRlbSxmaWVsZCl9ICR7bGluZX0gJHtjZWRnZX0gJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyxmaWVsZCl9XFxuYDtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKGNub2RlLGZpZWxkKX0gJHtsaW5lfSAke2NlZGdlfSAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoc3JjLGZpZWxkKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0aWYoY25vZGUgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0XHRcdFx0XHRmb3IobGV0IGl0ZW0gb2YgY25vZGUpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRtc2cgKz0gYCR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShzcmMsZmllbGQpfSAke2xpbmV9ICR7Y2VkZ2V9ICR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShpdGVtLGZpZWxkKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdFx0bXNnICs9IGAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoc3JjLGZpZWxkKX0gJHtsaW5lfSAke2NlZGdlfSAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoY25vZGUsZmllbGQpfVxcbmA7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0aWYobGlua1snZ3JvdXAnXSl7XHJcblx0XHRcdFx0XHRcdFx0bXNnICs9IGBzdWJncmFwaCAke2xpbmtbJ2dyb3VwJ119XFxuXFx0JHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyxmaWVsZCl9XFxuZW5kXFxuYFxyXG5cdFx0XHRcdFx0XHRcdGlmKGxpbmtbJ2NvbG9yJ10pe1xyXG5cdFx0XHRcdFx0XHRcdFx0bXNnICs9IGBjbGFzc0RlZiAke2xpbmtbJ2dyb3VwJ119Q2xhc3MgZmlsbDoke2xpbmtbJ2NvbG9yJ119XFxuYFxyXG5cdFx0XHRcdFx0XHRcdFx0bXNnICs9IGBjbGFzcyAke2xpbmtbJ2dyb3VwJ119ICR7bGlua1snZ3JvdXAnXX1DbGFzc1xcbmBcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGxldCBzcmMgPSBgW1ske3RmaWxlLmJhc2VuYW1lfV1dYFxyXG5cdFx0bXNnICs9IGAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoc3JjKX1cXG5gXHJcblx0XHRpZihjX2FuY2hvcil7XHJcblx0XHRcdG1zZyArPSBgY2xhc3NEZWYgQW5jaG9yIGZpbGw6JHtjX2FuY2hvcn0sc3Rva2U6JHtjX2FuY2hvcn1cXG5jbGFzcyAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoc3JjKX0gQW5jaG9yO1xcbmBcclxuXHRcdH1cclxuXHRcdG1zZyArPSBcImBgYFwiO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRWNoYXJ0R3JhcGh7XHJcblx0cGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHRhcHA6QXBwO1xyXG5cdGVkaXRvcjpOQ0VkaXRvcjtcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbikge1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmFwcCA9IHBsdWdpbi5hcHA7XHJcblx0XHR0aGlzLmVkaXRvciA9IHBsdWdpbi5lZGl0b3I7XHJcblx0fVxyXG5cclxuXHJcblx0c3ViZ3JhcGhfY2hhaW4obm9kZTpOb3RlTm9kZSx0ZmlsZXM6QXJyYXk8VEZpbGU+LHN1YmdyYXBoPScnLGxpbmU9JzwtLT4nKXtcclxuXHJcblx0XHRsZXQgbXNnID0gJyc7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKHg9PngpO1xyXG5cdFx0bGV0IHN0YWIgPSAnXFx0JztcclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZyArIGBcXG5cXHRzdWJncmFwaCAke3N1YmdyYXBofVxcbmA7XHJcblx0XHRcdHN0YWIgPSAnXFx0XFx0JztcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHR3aGlsZShpPGl0ZW1zLmxlbmd0aC0xKXtcclxuXHRcdFx0bGV0IHByZXYgPSBub2RlLmdldF9ub2RlKGl0ZW1zW2ldKTtcclxuXHRcdFx0bGV0IG5leHQgPSBub2RlLmdldF9ub2RlKGl0ZW1zW2krMV0pO1xyXG5cdFx0XHRtc2cgPSBtc2crYCR7c3RhYn0ke3ByZXZ9JHtsaW5lfSR7bmV4dH1cXG5gO1xyXG5cdFx0XHRpID0gaSsxO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZytcIlxcdGVuZFxcblwiO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdHN1YmdyYXBoX2xpbmtzKG5vZGU6Tm90ZU5vZGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxsaW5lPSctLT4nLHRmaWxlc19maXJzdD1mYWxzZSl7XHJcblx0XHRsZXQgbXNnID0gJyc7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKHg9PngpO1xyXG5cdFx0bGV0IHN0YWIgPSAnXFx0JztcclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZyArIGBcXG5cXHRzdWJncmFwaCAke3N1YmdyYXBofVxcbmA7XHJcblx0XHRcdHN0YWIgPSAnXFx0XFx0JztcclxuXHJcblx0XHR9XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHRsZXQgc2lkID0gbm9kZS5nZXRfbm9kZShub2RlLnRmaWxlKTtcclxuXHRcdHdoaWxlKGk8aXRlbXMubGVuZ3RoKXtcclxuXHRcdFx0bGV0IGlkID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpXSk7XHJcblx0XHRcdGlmKHRmaWxlc19maXJzdCl7XHJcblx0XHRcdFx0bXNnID0gbXNnK2Ake3N0YWJ9JHtpZH0ke2xpbmV9JHtzaWR9XFxuYDtcclxuXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdG1zZyA9IG1zZytgJHtzdGFifSR7c2lkfSR7bGluZX0ke2lkfVxcbmA7XHJcblx0XHRcdH1cclxuXHRcdFx0aSA9IGkrMTtcclxuXHRcdH1cclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZytcIlxcdGVuZFxcblwiO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdHN1YmdyYXBoX2Nyb3NzKG5vZGU6Tm90ZU5vZGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxsaW5lPSctLT4nLHRmaWxlc19maXJzdD1mYWxzZSl7XHJcblx0XHRsZXQgbXNnID0gJyc7XHJcblx0XHRsZXQgaXRlbXMgPSB0ZmlsZXMubWFwKHg9PngpO1xyXG5cdFx0bGV0IHN0YWIgPSAnXFx0JztcclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZyArIGBcXG5cXHRzdWJncmFwaCAke3N1YmdyYXBofVxcbmA7XHJcblx0XHRcdHN0YWIgPSAnXFx0XFx0JztcclxuXHJcblx0XHR9XHJcblx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdGxldCBzaWQgPSBub2RlLmdldF9ub2RlKHRmaWxlKTtcclxuXHRcdFx0bGV0IG9saW5rcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9vdXRsaW5rcyh0ZmlsZSx0cnVlKTtcclxuXHRcdFx0Zm9yKGxldCBvbGluayBvZiBvbGlua3Mpe1xyXG5cdFx0XHRcdGlmKG9saW5rPT10ZmlsZSl7Y29udGludWV9XHJcblx0XHRcdFx0aWYodGZpbGVzLmNvbnRhaW5zKG9saW5rKSl7XHJcblx0XHRcdFx0XHRsZXQgaWQgPSBub2RlLmdldF9ub2RlKG9saW5rKTtcclxuXHRcdFx0XHRcdG1zZyA9IG1zZyArIGAke3N0YWJ9JHtzaWR9JHtsaW5lfSR7aWR9XFxuYDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnK1wiXFx0ZW5kXFxuXCI7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0Z2V0X2Zsb3djaGFydCh0ZmlsZTpURmlsZSxOPTIsY19jaGFpbj0nI0YwNTQ1NCcsY19pbmxpbms9JyM3NzZCNUQnLGNfb3V0bGluaz0nIzIyMjgzMScsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHRcdFxyXG5cclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHJcblx0XHRsZXQgbXNnID0gXCJcXGBcXGBcXGBtZXJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblx0XHRsZXQgY2hhaW4gPSBuYy5jaGFpbi5nZXRfY2hhaW4odGZpbGUsTixOKVxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9jaGFpbihub2RlLGNoYWluLCdcdTdCMTRcdThCQjBcdTk0RkUnKTtcclxuXHJcblx0XHRsZXQgaW5saW5rcyA9IG5jLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlLHRydWUpLmZpbHRlcigoeDpURmlsZSk9PiFjaGFpbi5jb250YWlucyh4KSk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSBuYy5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSkuZmlsdGVyKCh4OlRGaWxlKT0+IWNoYWluLmNvbnRhaW5zKHgpKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2xpbmtzKG5vZGUsaW5saW5rcywnXHU1MTY1XHU5NEZFJywnLS0+Jyx0cnVlKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2xpbmtzKG5vZGUsb3V0bGlua3MsJ1x1NTFGQVx1OTRGRScsJy0tPicpO1xyXG5cclxuXHRcdG1zZyA9IG1zZyArIG5vZGUubm90ZXMyY2xhc3MoKTtcclxuXHRcdG1zZyA9IG1zZyArIFtcclxuXHRcdFx0J2NsYXNzRGVmIFx1N0IxNFx1OEJCMFx1OTRGRUMgZmlsbDonK2NfY2hhaW4sXHJcblx0XHRcdCdjbGFzc0RlZiBcdTUxNjVcdTk0RkVDIGZpbGw6JytjX2lubGluayxcclxuXHRcdFx0J2NsYXNzRGVmIFx1NTFGQVx1OTRGRUMgZmlsbDonK2Nfb3V0bGluayxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9YCxcclxuXHRcdFx0J2NsYXNzIFx1N0IxNFx1OEJCMFx1OTRGRSBcdTdCMTRcdThCQjBcdTk0RkVDJyxcclxuXHRcdFx0J2NsYXNzIFx1NTE2NVx1OTRGRSBcdTUxNjVcdTk0RkVDJyxcclxuXHRcdFx0J2NsYXNzIFx1NTFGQVx1OTRGRSBcdTUxRkFcdTk0RkVDJyxcclxuXHRcdFx0JydcclxuXHRcdF0uam9pbignXFxuJylcclxuXHRcdG1zZyA9IG1zZytcIlxcYFxcYFxcYFwiO1xyXG5cdFx0bXNnID0gbXNnLnJlcGxhY2UoXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKHRmaWxlKX0gaW50ZXJuYWwtbGluaztgLFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9mb2xkZXIodGZpbGU6VEZpbGUsc3ViZ3JhcGg9J0ZvbGRlcicsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHRmaWxlcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9icm90aGVycyh0ZmlsZSk7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG93Y2hhcnRfY3Jvc3ModGZpbGUsdGZpbGVzLHN1YmdyYXBoLGNvbG9yLGNfYW5jaG9yKTtcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9ub3RlY2hhaW4odGZpbGU6VEZpbGUsTj0xMCxzdWJncmFwaD0nTm90ZUNoYWluJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGZpbGVzID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2NoYWluKHRmaWxlLE4sTik7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG93Y2hhcnRfY3Jvc3ModGZpbGUsdGZpbGVzLHN1YmdyYXBoLGNvbG9yLGNfYW5jaG9yKTtcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9jcm9zcyhhbmNob3I6VEZpbGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlc1swXSx0aGlzLnBsdWdpbik7XHJcblx0XHRsZXQgbXNnID0gXCJcXGBcXGBcXGBtZXJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2Nyb3NzKG5vZGUsdGZpbGVzLHN1YmdyYXBoKTtcclxuXHRcdG1zZyA9IG1zZyArIG5vZGUubm90ZXMyY2xhc3MoKTtcclxuXHRcdG1zZyA9IG1zZyArIFtcclxuXHRcdFx0YGNsYXNzRGVmICR7c3ViZ3JhcGh9QyBmaWxsOiR7Y29sb3J9YCxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9YCxcclxuXHRcdFx0YGNsYXNzICR7c3ViZ3JhcGh9ICR7c3ViZ3JhcGh9Q2AsXHJcblx0XHRcdCcnXHJcblx0XHRdLmpvaW4oJ1xcbicpXHJcblx0XHRtc2cgPSBtc2crXCJcXGBcXGBcXGBcIjtcclxuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZChhbmNob3IpfSBpbnRlcm5hbC1saW5rO2AsXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKGFuY2hvcil9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW52YXNHcmFwaHtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0ZWRpdG9yOk5DRWRpdG9yO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMuZWRpdG9yID0gcGx1Z2luLmVkaXRvcjtcclxuXHR9XHJcblxyXG5cdGdlbl9yYW5kb21fc3RyaW5nKGxlbmd0aDpudW1iZXIpIHtcclxuXHRcdGxldCBjaGFyYWN0ZXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcclxuXHRcdGxldCByYW5kb21TdHJpbmcgPSAnJztcclxuXHRcdFxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0ICBsZXQgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzLmxlbmd0aCk7XHJcblx0XHQgIHJhbmRvbVN0cmluZyArPSBjaGFyYWN0ZXJzLmNoYXJBdChyYW5kb21JbmRleCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiByYW5kb21TdHJpbmc7XHJcblx0ICB9XHJcblxyXG5cdG5ld19ub3RlX25vZGUodGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGUsdGhpcy5wbHVnaW4pO1xyXG5cdFx0cmV0dXJuIG5vZGU7XHJcblx0fVxyXG5cclxuXHRnZW5fbm9kZShOTjpOb3RlTm9kZSx0ZmlsZTpUQWJzdHJhY3RGaWxlfHN0cmluZyx4PTAseT0wLHdpZHRoPTQwMCxoZWlnaHQ9NDAwKXtcclxuXHRcdGxldCByc3A6e1trZXk6c3RyaW5nXTphbnl9ID0ge307XHJcblx0XHRpZih0eXBlb2YodGZpbGUpID09ICdzdHJpbmcnKXtcclxuXHRcdFx0cnNwWyd0eXBlJ10gPSAndGV4dCc7XHJcblx0XHRcdHJzcFsndGV4dCddID0gdGZpbGU7XHJcblx0XHRcdHJzcFsnaWQnXSA9IE5OLmdldF9jYW52YXNfbm9kZShyc3BbJ3RleHQnXSk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cnNwWyd0eXBlJ10gPSAnZmlsZSc7XHJcblx0XHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZvbGRlcil7XHJcblx0XHRcdFx0cnNwWydmaWxlJ10gPSB0ZmlsZS5wYXRoKycvJyt0ZmlsZS5uYW1lKycubWQnO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyc3BbJ2ZpbGUnXSA9IHRmaWxlLnBhdGg7XHJcblx0XHRcdH1cclxuXHRcdFx0cnNwWydpZCddID0gTk4uZ2V0X2NhbnZhc19ub2RlKHJzcFsnZmlsZSddKTtcclxuXHRcdH1cclxuXHJcblx0XHRyc3BbJ3gnXSA9IHg7XHJcblx0XHRyc3BbJ3knXSA9IHk7XHJcblx0XHRyc3BbJ2hlaWdodCddID0gaGVpZ2h0O1xyXG5cdFx0cnNwWyd3aWR0aCddID0gd2lkdGg7XHJcblxyXG5cdFx0cmV0dXJuIHJzcDtcclxuXHR9XHJcblxyXG5cdHJjX29mX3NlcXVlbmNlKGk6bnVtYmVyLHI6bnVtYmVyLGM6bnVtYmVyKXtcclxuXHRcdC8qXHJcblx0XHRcdTU5ODIgciBcdTg4NEMgYyBcdTUyMTdcdTYzOTJcdTVFOEZcdUZGMENcdTdCMkMgaSBcdTRFMkFcdTUzNjFcdTcyNDdcdTVCRjlcdTVFOTRcdTc2ODRcdTg4NENcdTUyMTdcdTUzRjdcdTY2MkZcdTU5MUFcdTVDMTFcclxuXHRcdCovXHJcblx0XHRsZXQgcm93ID0gTWF0aC5mbG9vcigoaSAtIDEpIC8gYykgKyAxO1xyXG5cdFx0bGV0IGNvbCA9IHJvdyAlIDIgPT09IDEgPyAoaSAtIDEpICUgYyArIDEgOiBjIC0gKChpIC0gMSkgJSBjKTtcclxuXHRcdHJldHVybiBbcm93LCBjb2xdO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbm90ZV90b19jYW52YXModGZpbGU6VEZpbGUsbnJvdz0xLG5jb2w9MSx3aWR0aD00MDAsaGVpZ2h0PTQwMCx3bWFyaW49MTAwLGhtYXJnaW49MTAwLHdyaXRlPXRydWUpe1xyXG5cdFx0bGV0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZCh0ZmlsZSk7XHJcblx0XHRsZXQgdGl0bGVzID0gWy4uLmNvbnRlbnQubWF0Y2hBbGwoL14oIyspXFxzKyguKykvZ20pXTsgLy8gXHU1MzM5XHU5MTREXHU2MjQwXHU2NzA5XHU2ODA3XHU5ODk4XHJcblxyXG5cdFx0aWYobnJvdypuY29sPHRpdGxlcy5sZW5ndGgpe1xyXG5cdFx0XHRuY29sID0gTWF0aC5jZWlsKHRpdGxlcy5sZW5ndGgvbnJvdyk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IG5vZGVzID0gW107XHJcblx0XHRsZXQgaSA9IDA7XHJcblx0XHRsZXQgTk4gPSB0aGlzLm5ld19ub3RlX25vZGUodGZpbGUpO1xyXG5cdFx0Zm9yKGxldCBtYXRjaCBvZiB0aXRsZXMpe1xyXG5cdFx0XHRpID0gaSsxO1xyXG5cdFx0XHRsZXQgdGl0bGUgPSBgIVtbJHt0ZmlsZS5iYXNlbmFtZX0jJHttYXRjaFsyXX1dXWA7XHJcblx0XHRcdGxldCBwb3MgPSB0aGlzLnJjX29mX3NlcXVlbmNlKGksIG5yb3csIG5jb2wpO1xyXG5cdFx0XHRsZXQgbm9kZSA9IHRoaXMuZ2VuX25vZGUoXHJcblx0XHRcdFx0Tk49Tk4sXHJcblx0XHRcdFx0dGl0bGUsXHJcblx0XHRcdFx0cG9zWzFdKih3aWR0aCt3bWFyaW4pLFxyXG5cdFx0XHRcdHBvc1swXSooaGVpZ2h0K2htYXJnaW4pLFxyXG5cdFx0XHRcdHdpZHRoPXdpZHRoLFxyXG5cdFx0XHRcdGhlaWdodD1oZWlnaHRcclxuXHRcdFx0KVxyXG5cdFx0XHRub2Rlcy5wdXNoKG5vZGUpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IHtcclxuXHRcdFx0XCJub2Rlc1wiOm5vZGVzLFxyXG5cdFx0XHRcImVkZ2VzXCI6W11cclxuXHRcdH1cclxuXHRcdGlmKHdyaXRlKXtcclxuXHRcdFx0bGV0IHBhdGggPSB0aGlzLnBhdGhfbWQyY2FudmFzKHRmaWxlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy53cml0ZV9jYW52YXNfZmlsZShyZXMscGF0aCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgd3JpdGVfY2FudmFzX2ZpbGUoY2FudmFzOnt9LHBhdGg6c3RyaW5nKXtcclxuXHRcdGxldCBtc2cgPSBKU09OLnN0cmluZ2lmeShjYW52YXMpO1xyXG5cdFx0bGV0IGNhbnZhc0ZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xyXG5cdFx0aWYgKGNhbnZhc0ZpbGUpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShjYW52YXNGaWxlIGFzIFRGaWxlLCBtc2cpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU3NTNCXHU1RTAzXHU2NTg3XHU0RUY2XHU0RTBEXHU1QjU4XHU1NzI4XHVGRjBDXHU1MjFCXHU1RUZBXHU2NUIwXHU2NTg3XHU0RUY2XHU1RTc2XHU1MTk5XHU1MTY1XHU1MTg1XHU1QkI5XHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jcmVhdGUocGF0aCwgbXNnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHBhdGhfbWQyY2FudmFzKHRmaWxlOlRGaWxlKXtcclxuXHRcdHJldHVybiB0ZmlsZS5wYXRoLnJlcGxhY2UoJy5tZCcsJy5jYW52YXMnKVxyXG5cdH1cclxufSIsICJpbXBvcnQgeyBcclxuXHRBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsUGx1Z2luXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tICcuLi9tYWluJztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5DU2V0dGluZ3Mge1xyXG5cdGZpZWxkX29mX2Rpc3BsYXlfdGV4dDpzdHJpbmc7XHJcblx0ZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0OnN0cmluZztcclxuXHRmaWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yOnN0cmluZztcclxuXHRQcmV2Q2hhaW46c3RyaW5nO1xyXG5cdE5leHRDaGFpbjpzdHJpbmc7XHJcblx0YXV0b19ub3RlY2hhaW46Ym9vbGVhbjtcclxuXHRub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluOmJvb2xlYW47XHJcblx0cmVmcmVzaERhdGFWaWV3OmJvb2xlYW47XHJcblx0cmVmcmVzaFRhc2tzOmJvb2xlYW4sXHJcblx0aXNTb3J0RmlsZUV4cGxvcmVyOmJvb2xlYW4sXHJcblx0aXNGb2xkZXJGaXJzdDpib29sZWFuLFxyXG5cdHN1Z2dlc3Rlck5vdGVzTW9kZTpzdHJpbmcsXHJcblx0d29yZGNvdXQ6Ym9vbGVhbixcclxuXHR3b3JkY291bnR4Zm9sZGVyOnN0cmluZyxcclxuXHRtb2RhbF9kZWZhdWx0X3dpZHRoOiBudW1iZXIsXHJcbiAgICBtb2RhbF9kZWZhdWx0X2hlaWdodDogbnVtYmVyLFxyXG5cdGF2YXRhOnN0cmluZyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE5DU2V0dGluZ3MgPSB7XHJcblx0UHJldkNoYWluIDogXCIxMFwiLFxyXG5cdE5leHRDaGFpbiA6IFwiMTBcIixcclxuXHRmaWVsZF9vZl9kaXNwbGF5X3RleHQ6ICdub3RlY2hhaW4uZGlzcGxheScsXHJcblx0ZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0OiAnbm90ZWNoYWluLmxldmVsJyxcclxuXHRmaWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yOidub3RlY2hhaW4uc3R5bGUnLFxyXG5cdGF1dG9fbm90ZWNoYWluIDogZmFsc2UsXHJcblx0bm90aWNlX3doaWxlX21vZGlmeV9jaGFpbjpmYWxzZSxcclxuXHRyZWZyZXNoRGF0YVZpZXcgOiB0cnVlLFxyXG5cdHJlZnJlc2hUYXNrcyA6IHRydWUsXHJcblx0aXNTb3J0RmlsZUV4cGxvcmVyIDogdHJ1ZSxcclxuXHRpc0ZvbGRlckZpcnN0IDogdHJ1ZSxcclxuXHRzdWdnZXN0ZXJOb3Rlc01vZGU6JycsXHJcblx0d29yZGNvdXQ6dHJ1ZSxcclxuXHR3b3JkY291bnR4Zm9sZGVyOicnLFxyXG5cdG1vZGFsX2RlZmF1bHRfd2lkdGg6IDgwMCxcclxuICAgIG1vZGFsX2RlZmF1bHRfaGVpZ2h0OiA2MDAsXHJcblx0YXZhdGE6J2F2YXRhJyxcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBOQ1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IE5vdGVDaGFpblBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19pc1NvcnRGaWxlRXhwbG9yZXIpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1NvcnRGaWxlRXhwbG9yZXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzU29ydEZpbGVFeHBsb3JlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19pc0ZvbGRlckZpcnN0KVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNGb2xkZXJGaXJzdClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNGb2xkZXJGaXJzdCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19QcmV2Q2hhaW4pXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5QcmV2Q2hhaW4pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19zdWdnZXN0ZXJOb3Rlc01vZGUpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fZ2V0X2Jyb3RoZXJzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fZ2V0X2Jyb3RoZXJzKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fdW5jbGVfbm90ZXMnLHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV91bmNsZV9ub3RlcylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX25vdGVjaGFpbicsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX25vdGVjaGFpbilcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX3NhbWVfZm9sZGVyJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fc2FtZV9mb2xkZXIpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9pbmxpbmtzX291dGxpbmtzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1faW5saW5rc19vdXRsaW5rcylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX2lubGlucycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlucylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX291dGxpbmtzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fb3V0bGlua3MpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9hbGxfbm9lcycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2FsbF9ub2VzKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fcmVjZW50Jyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fcmVjZW50KVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJycsJycpXHJcblxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdWdnZXN0ZXJOb3Rlc01vZGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VnZ2VzdGVyTm90ZXNNb2RlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19OZXh0Q2hhaW4pXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5OZXh0Q2hhaW4pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKSAgXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX2F1dG9fbm90ZWNoYWluKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b19ub3RlY2hhaW4pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9fbm90ZWNoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19maWVsZF9vZl9kaXNwbGF5X3RleHQpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9kaXNwbGF5X3RleHQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc2V0X2Rpc3BsYXlfdGV4dCgpXHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19jb25mbHVlbmNlX3RhYl9mb3JtYXQpXHJcblx0XHRcdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdClcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLnNldF9kaXNwbGF5X3RleHQoKVxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcilcclxuXHRcdFx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcilcclxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2JhY2tncm91bmRfY29sb3IgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5leHBsb3Jlci5zZXRfZmlsZWl0ZW1fc3R5bGUoKVxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR9KSk7XHJcblxyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKSAgXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX25vdGljZV93aGlsZV9tb2RpZnlfY2hhaW4pXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKSAgXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3JlZnJlc2hEYXRhVmlldylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaERhdGFWaWV3ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3JlZnJlc2hUYXNrcylcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlZnJlc2hUYXNrcylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaFRhc2tzID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ193b3JkY291dClcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRjb3V0KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JkY291dCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3dvcmRjb3V0X3hmb2xkZXIpXHJcblx0XHRcdFx0LmFkZFRleHRBcmVhKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRjb3VudHhmb2xkZXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRjb3VudHhmb2xkZXIgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX2F2YXRhKVxyXG5cdFx0XHRcdC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmF0YSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXZhdGEgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBcclxuXHROb3RpY2UsIFRGaWxlXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tICcuLi9tYWluJztcclxuXHJcblxyXG5jb25zdCBjbWRfbG9uZ2Zvcm0ybm90ZWNoYWluID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6IFwibG9uZ2Zvcm0ybm90ZWNoYWluXCIsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbG9uZ2Zvcm0ybm90ZWNoYWluLFxyXG5cdGljb246J2dpdC1wdWxsLXJlcXVlc3QtY3JlYXRlLWFycm93JyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IGN1cnIgPSBwbHVnaW4uY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYoY3VyciA9PSBudWxsKXtyZXR1cm47fVxyXG5cdFx0cGx1Z2luLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIoXHJcblx0XHRcdGN1cnIsXHJcblx0XHRcdGFzeW5jIChmbSkgPT57XHJcblx0XHRcdFx0aWYoY3Vycj09bnVsbCl7cmV0dXJuO31cclxuXHRcdFx0XHRpZihmbVsnbG9uZ2Zvcm0nXT09bnVsbCl7cmV0dXJuO31cclxuXHRcdFx0XHRsZXQgc2NlbmVzID0gcGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShmbS5sb25nZm9ybS5zY2VuZXMpO1xyXG5cdFx0XHRcdGxldCBpZ25vcmVkRmlsZXMgPSBwbHVnaW4udXRpbHMuY29uY2F0X2FycmF5KGZtLmxvbmdmb3JtLmlnbm9yZWRGaWxlcyk7XHJcblx0XHRcdFx0aWdub3JlZEZpbGVzID0gaWdub3JlZEZpbGVzLmZpbHRlcigoZjpzdHJpbmcpPT4hc2NlbmVzLmNvbnRhaW5zKGYpKTtcclxuXHRcdFx0XHRsZXQgbm90ZXMgPSBwbHVnaW4udXRpbHMuY29uY2F0X2FycmF5KFtzY2VuZXMsaWdub3JlZEZpbGVzXSk7XHJcblx0XHRcdFx0bm90ZXMgPSBub3Rlcy5tYXAoKGY6c3RyaW5nKT0+cGx1Z2luLmNoYWluLmdldF90ZmlsZShmKSk7XHJcblx0XHRcdFx0aWYoY3Vyci5wYXJlbnQ9PW51bGwpe3JldHVybn07XHJcblx0XHRcdFx0bGV0IHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5nZXRfdGZpbGVzX29mX2ZvbGRlcihjdXJyLnBhcmVudCkuZmlsdGVyKChmOmFueSk9PiFub3Rlcy5jb250YWlucyhmKSk7XHJcblx0XHRcdFx0bm90ZXMgPSBwbHVnaW4udXRpbHMuY29uY2F0X2FycmF5KFt0ZmlsZXMsbm90ZXNdKTtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5fY29uY2F0X3RmaWxlcyhub3Rlcyk7XHJcblx0XHRcdFx0cGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfbG9uZ2Zvcm00bm90ZWNoYWluID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6IFwibG9uZ2Zvcm00bm90ZWNoYWluXCIsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbG9uZ2Zvcm00bm90ZWNoYWluLFxyXG5cdGljb246J2dpdC1wdWxsLXJlcXVlc3QtZHJhZnQnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRsZXQgY3VyciA9IHBsdWdpbi5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihjdXJyPT1udWxsIHx8IGN1cnIucGFyZW50PT1udWxsKXtyZXR1cm47fVxyXG5cclxuXHRcdGxldCBwYXRoID0gY3Vyci5wYXJlbnQucGF0aCsnLycrY3Vyci5wYXJlbnQubmFtZSsnLm1kJztcclxuXHRcdGxldCBkc3QgPSBhd2FpdCBuYy5jaGFpbi5nZXRfdGZpbGUocGF0aCk7XHJcblx0XHRpZihkc3Q9PW51bGwpe1xyXG5cdFx0XHRkc3QgPSBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShcclxuXHRcdFx0XHRjdXJyLnBhcmVudC5wYXRoKycvJytjdXJyLnBhcmVudC5uYW1lKycubWQnLCBcclxuXHRcdFx0XHQnJ1xyXG5cdFx0XHQpXHJcblx0XHR9XHJcblxyXG5cdFx0YXdhaXQgbmMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuXHRcdFx0ZHN0LFxyXG5cdFx0XHRmbSA9PntcclxuXHRcdFx0XHRpZihmbVsnbG9uZ2Zvcm0nXT09bnVsbCl7XHJcblx0XHRcdFx0XHRmbVsnbG9uZ2Zvcm0nXSA9IHtcclxuXHRcdFx0XHRcdFx0J2Zvcm1hdCc6J3NjZW5lcycsXHJcblx0XHRcdFx0XHRcdCd0aXRsZSc6ZHN0LnBhcmVudC5uYW1lLFxyXG5cdFx0XHRcdFx0XHQnd29ya2Zsb3cnOidEZWZhdWx0IFdvcmtmbG93JyxcclxuXHRcdFx0XHRcdFx0J3NjZW5lRm9sZGVyJzonLycsXHJcblx0XHRcdFx0XHRcdCdzY2VuZXMnOltdLFxyXG5cdFx0XHRcdFx0XHQnaWdub3JlZEZpbGVzJzpbXSxcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0XHRcclxuXHRcdGF3YWl0IHBsdWdpbi5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKFxyXG5cdFx0XHRkc3QsXHJcblx0XHRcdGZtID0+e1xyXG5cdFx0XHRcdGlmKGRzdD09bnVsbCl7cmV0dXJuO31cclxuXHRcdFx0XHRpZihkc3QucGFyZW50PT1udWxsKXtyZXR1cm59O1xyXG5cclxuXHRcdFx0XHRpZihmbVsnbG9uZ2Zvcm0nXT09bnVsbCl7cmV0dXJuO31cclxuXHRcdFx0XHRsZXQgbm90ZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoZHN0LnBhcmVudCk7XHJcblx0XHRcdFx0bm90ZXMgPSBwbHVnaW4uY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4obm90ZXMpO1xyXG5cdFx0XHRcdGZtLmxvbmdmb3JtLnNjZW5lcyA9IG5vdGVzLm1hcCgoZjpURmlsZSk9PmYuYmFzZW5hbWUpO1xyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0XHRhd2FpdCBuYy5jaGFpbi5vcGVuX25vdGUoZHN0KTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGNtZF9zb3J0X2ZpbGVfZXhwbG9yZXIgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogXCJzb3J0X2ZpbGVfZXhwbG9yZXJcIixcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9zb3J0X2ZpbGVfZXhwbG9yZXIsXHJcblx0aWNvbjonYXJyb3ctZG93bi13aWRlLW5hcnJvdycsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGF3YWl0IHBsdWdpbi5leHBsb3Jlci5zb3J0KDAsdHJ1ZSk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9vcGVuX25vdGVzX3NtYXJ0ZXIgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ29wZW5fbm90ZXNfc21hcnRlcicsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fbm90ZXNfc21hcnRlcixcclxuXHRpY29uOidiaW5vY3VsYXJzJyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLm9wZW5fbm90ZV9zbWFydGVyKCk7XHJcblx0fVxyXG59KVxyXG5cclxuY29uc3QgY21kX29wZW5fbm90ZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnc3VnZ2VzdG9yX29wZW5fbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fbm90ZSxcclxuXHRpY29sOiAnc3F1YXJlLWFycm93LW91dC11cC1yaWdodCcsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5zdWdndXN0ZXJfb3Blbl9ub3RlKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9vcGVuX3ByZXZfbm90ZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnb3Blbl9wcmV2X25vdGVzJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9wcmV2X25vdGUsXHJcblx0aWNvbjogJ2ZpbGUtb3V0cHV0JyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNoYWluLm9wZW5fcHJldl9ub3RlcygpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfb3Blbl9uZXh0X25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ29wZW5fbmV4dF9ub3RlcycsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fbmV4dF9ub3RlLFxyXG5cdGljb246ICdmaWxlLWlucHV0JyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNoYWluLm9wZW5fbmV4dF9ub3RlcygpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3QgY2xlYXJfaW5saW5rcyA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY2xlYXJfaW5saW5rcycsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY2xlYXJfaW5saW5rcyxcclxuXHRpY29uOid1bmxpbmsnLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4uY2xlYXJfaW5saW5rcygpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ21vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcicsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MubW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyLFxyXG5cdGljb246J2ZvbGRlci10cmVlJyxcclxuXHRjYWxsYmFjazogKCkgPT4ge1xyXG5cdFx0cGx1Z2luLmNoYWluLmNtZF9tb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgcmVwbGFjZV9ub3Rlc193aXRoX3JlZ3ggPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ3JlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4JyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5yZXBsYWNlX25vdGVzX3dpdGhfcmVneCxcclxuXHRpY29uOidyZWdleCcsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5yZXBsYWNlX25vdGVzX3dpdGhfcmVneCgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFpbl9pbnNlcnRfbm9kZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY2hhaW5faW5zZXJ0X25vZGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNoYWluX2luc2VydF9ub2RlLFxyXG5cdGljb246ICdnaXQtYnJhbmNoLXBsdXMnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uY21kX2NoYWluX2luc2VydF9ub2RlKCk7XHJcblx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCg1MDApO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFpbl9zZXRfc2VxX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX3NldF9zZXFfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY2hhaW5fc2V0X3NlcV9ub3RlLFxyXG5cdGljb246J3dpbmQtYXJyb3ctZG93bicsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGF3YWl0IHBsdWdpbi5jaGFpbi5jaGFpbl9zdWdnZXN0ZXJfdGZpbGVzKCk7XHJcblx0XHRwbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFpbl9tb3ZlX3VwX25vZGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX21vdmVfdXBfbm9kZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY2hhaW5fbW92ZV91cF9ub2RlLFxyXG5cdGljb246ICdhcnJvdy11cC1mcm9tLWxpbmUnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgdGZpbGUgPSBwbHVnaW4uY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRsZXQgYW5jaG9yID0gcGx1Z2luLmNoYWluLmdldF9wcmV2X25vdGUodGZpbGUpO1xyXG5cdFx0XHRpZihhbmNob3Ipe1xyXG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUoXHJcblx0XHRcdFx0XHR0ZmlsZSxhbmNob3JcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY2hhaW5fbW92ZV9kb3duX25vZGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX21vdmVfZG9ud19ub2RlJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jaGFpbl9tb3ZlX2Rvd25fbm9kZSxcclxuXHRpY29uOiAnYXJyb3ctZG93bi1mcm9tLWxpbmUnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgdGZpbGUgPSBwbHVnaW4uY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRsZXQgYW5jaG9yID0gcGx1Z2luLmNoYWluLmdldF9uZXh0X25vdGUodGZpbGUpO1xyXG5cdFx0XHRpZihhbmNob3Ipe1xyXG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcihcclxuXHRcdFx0XHRcdHRmaWxlLGFuY2hvclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjcmVhdGVfbmV3X25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NyZWF0ZV9uZXdfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY3JlYXRlX25ld19ub3RlLFxyXG5cdGljb246ICdmaWxlLXBsdXMnLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgdGFyZ2V0cyA6e1trZXk6c3RyaW5nXTpzdHJpbmd9ID0ge31cclxuXHRcdHRhcmdldHNbcGx1Z2luLnN0cmluZ3MuaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcl0gPSAnY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXInO1xyXG5cdFx0dGFyZ2V0c1twbHVnaW4uc3RyaW5ncy5pdGVtX2NoYWluX2luc2VydF9ub2RlX2FzX3RhaWxdID0gJ2NoYWluX2luc2VydF9ub2RlX2FzX3RhaWwnO1xyXG5cdFx0dGFyZ2V0c1twbHVnaW4uc3RyaW5ncy5pdGVtX2NoYWluX2luc2VydF9ub2RlX2JlZm9yZV0gPSAnY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlJztcclxuXHRcdHRhcmdldHNbcGx1Z2luLnN0cmluZ3MuaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hc19oZWFkXSA9ICdjaGFpbl9pbnNlcnRfbm9kZV9hc19oZWFkJztcclxuXHRcdHRhcmdldHNbcGx1Z2luLnN0cmluZ3MuaXRlbV9pdGVtX2NoYWluX2luc2VydF9udWxsXSA9ICdudWxsJztcclxuXHJcblx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRwbHVnaW4udXRpbHMuYXJyYXlfcHJlZml4X2lkKE9iamVjdC5rZXlzKHRhcmdldHMpKSwgXHJcblx0XHRcdE9iamVjdC52YWx1ZXModGFyZ2V0cyksIFxyXG5cdFx0XHR0cnVlXHJcblx0XHQpO1xyXG5cdFx0aWYoIXRhcmdldCl7cmV0dXJuO31cclxuXHRcdGxldCBuYW1lID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19wcm9tcHQocGx1Z2luLnN0cmluZ3MucHJvbXB0X25vdGVuYW1lKTtcclxuXHRcdGlmKG5hbWUpe1xyXG5cdFx0XHRsZXQgY3VyciA9IHBsdWdpbi5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRcdGlmKGN1cnIgJiYgY3Vyci5wYXJlbnQpe1xyXG5cdFx0XHRcdGxldCBwYXRoID0gY3Vyci5wYXJlbnQucGF0aCsnLycrbmFtZSsnLm1kJztcclxuXHRcdFx0XHRsZXQgZHN0ID0gYXdhaXQgcGx1Z2luLmNoYWluLmdldF90ZmlsZShwYXRoKTtcclxuXHRcdFx0XHRpZihkc3Q9PW51bGwpe1xyXG5cdFx0XHRcdFx0ZHN0ID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5jcmVhdGUoXHJcblx0XHRcdFx0XHRcdGN1cnIucGFyZW50LnBhdGgrJy8nK25hbWUrJy5tZCcsXHJcblx0XHRcdFx0XHRcdCcnXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRpZighKHRhcmdldD09PSdudWxsJykpe1xyXG5cdFx0XHRcdFx0XHRhd2FpdCAocGx1Z2luLmNoYWluIGFzIGFueSlbdGFyZ2V0XShkc3QsY3Vycik7XHJcblx0XHRcdFx0XHRcdGlmKHRhcmdldD09J2NoYWluX2luc2VydF9ub2RlX2FmdGVyJ3x8dGFyZ2V0PT0nY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlJyl7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyX2FsaWduX2ZpbGUoXHJcblx0XHRcdFx0XHRcdFx0XHRjdXJyLGRzdCxwbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0XHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uY2hhaW4ub3Blbl9ub3RlKGRzdCk7XHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVx0XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9yZXZlYWxfbm90ZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX3JldmVhbF9ub3RlJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfcmV2ZWFsX25vdGUsXHJcblx0aWNvbjogJ2xvY2F0ZScsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGxldCBub3RlID0gbmMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYobm90ZSl7XHJcblx0XHRcdGF3YWl0IChwbHVnaW4uYXBwIGFzIGFueSkuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKCdmaWxlLWV4cGxvcmVyOm9wZW4nKVxyXG5cdFx0XHRhd2FpdCAobmMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnRyZWUuc2V0Q29sbGFwc2VBbGwodHJ1ZSk7XHJcblx0XHRcdGF3YWl0IChuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkucmV2ZWFsSW5Gb2xkZXIobm90ZSk7XHJcblx0XHRcdGF3YWl0IHNsZWVwKDEwMCk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgY29udGFpbmVyRWwgPSBuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyLmNvbnRhaW5lckVsO1xyXG5cdFx0XHRsZXQgcGFuZWwgPSBjb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcubmF2LWZpbGVzLWNvbnRhaW5lcicpO1xyXG5cdFx0XHRsZXQgaXRlbUVsPWNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBhdGg9XCIke25vdGUucGF0aH1cIl1gKTtcclxuXHRcdFx0aWYocGFuZWwgJiYgaXRlbUVsICYmIChpdGVtRWwgYXMgYW55KS5vZmZzZXRUb3Ape1xyXG5cdFx0XHRcdGxldCB4dG9wID0gcGFuZWwuc2Nyb2xsVG9wKygoaXRlbUVsIGFzIGFueSkub2Zmc2V0VG9wLShwYW5lbC5zY3JvbGxUb3ArcGFuZWwuY2xpZW50SGVpZ2h0LzIpKVxyXG5cdFx0XHRcdHBhbmVsLnNjcm9sbFRvKHsgdG9wOiB4dG9wLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGNtZF9vcGVuX2FuZF9yZXZlYWxfbm90ZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX29wZW5fYW5kX3JldmVhbF9ub3RlJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9hbmRfcmV2ZWFsX25vdGUsXHJcblx0aWNvbjonbWFwLXBpbi1ob3VzZScsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGxldCBub3RlID0gYXdhaXQgbmMuY2hhaW4uc3VnZ3VzdGVyX25vdGUoKTtcclxuXHRcdGlmKG5vdGUpe1xyXG5cdFx0XHRhd2FpdCBuYy5jaGFpbi5vcGVuX25vdGUobm90ZSk7XHJcblx0XHRcdGF3YWl0IChuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkudHJlZS5zZXRDb2xsYXBzZUFsbCh0cnVlKTtcclxuXHRcdFx0YXdhaXQgKG5jLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5yZXZlYWxJbkZvbGRlcihub3RlKTtcclxuXHRcdFx0YXdhaXQgc2xlZXAoMTAwKTtcclxuXHRcdFx0XHJcblx0XHRcdGxldCBjb250YWluZXJFbCA9IG5jLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIuY29udGFpbmVyRWw7XHJcblx0XHRcdGxldCBwYW5lbCA9IGNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtZmlsZXMtY29udGFpbmVyJyk7XHJcblx0XHRcdGxldCBpdGVtRWw9Y29udGFpbmVyRWwucXVlcnlTZWxlY3RvcihgW2RhdGEtcGF0aD1cIiR7bm90ZS5wYXRofVwiXWApO1xyXG5cdFx0XHRpZihwYW5lbCAmJiBpdGVtRWwgJiYgKGl0ZW1FbCBhcyBhbnkpLm9mZnNldFRvcCl7XHJcblx0XHRcdFx0bGV0IHh0b3AgPSBwYW5lbC5zY3JvbGxUb3ArKChpdGVtRWwgYXMgYW55KS5vZmZzZXRUb3AtKHBhbmVsLnNjcm9sbFRvcCtwYW5lbC5jbGllbnRIZWlnaHQvMikpXHJcblx0XHRcdFx0cGFuZWwuc2Nyb2xsVG8oeyB0b3A6IHh0b3AsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfb3Blbl9wcmV2X25vdGVfb2ZfcmlnaHRfbGVhZiA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX29wZW5fcHJldl9ub3RlX29mX3JpZ2h0X2xlYWYnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9vcGVuX3ByZXZfbm90ZV9vZl9yaWdodF9sZWFmLFxyXG5cdGljb246ICdmaWxlLW91dHB1dCcsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGxldCBsZWFmID0gbmMuY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0aWYobGVhZil7XHJcblx0XHRcdGxldCBwcmV2ID0gbmMuY2hhaW4uZ2V0X3ByZXZfbm90ZSgobGVhZi52aWV3IGFzIGFueSkuZmlsZSk7XHJcblx0XHRcdGlmKHByZXYpe1xyXG5cdFx0XHRcdGF3YWl0IGxlYWYub3BlbkZpbGUocHJldix7YWN0aXZlOmZhbHNlfSk7XHJcblx0XHRcdFx0YXdhaXQgbmMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdmaWxlLW9wZW4nLCBsZWFmKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfb3Blbl9uZXh0X25vdGVfb2ZfcmlnaHRfbGVhZiA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9vcGVuX25leHRfbm90ZV9vZl9yaWdodF9sZWFmLFxyXG5cdGljb246ICdmaWxlLWlucHV0JyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0bGV0IGxlYWYgPSBuYy5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRpZihsZWFmKXtcclxuXHRcdFx0bGV0IG5leHQgPSBuYy5jaGFpbi5nZXRfbmV4dF9ub3RlKChsZWFmLnZpZXcgYXMgYW55KS5maWxlKTtcclxuXHRcdFx0aWYobmV4dCl7XHJcblx0XHRcdFx0YXdhaXQgbGVhZi5vcGVuRmlsZShuZXh0LHthY3RpdmU6ZmFsc2V9KTtcclxuXHRcdFx0XHRhd2FpdCBuYy5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ2ZpbGUtb3BlbicsIGxlYWYpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjbWRfZmlsZV9vcGVuX3dpdGhfc3lzdGVtX2FwcCcsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2ZpbGVfb3Blbl93aXRoX3N5c3RlbV9hcHAsXHJcblx0aWNvbjonYm9vay1vcGVuJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0aWYoKG5jLmFwcCBhcyBhbnkpLmlzTW9iaWxlKXtyZXR1cm47fVxyXG5cdFx0bGV0IHRmaWxlID0gbmMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRsZXQgaXRlbXMgPSBhd2FpdCBuYy5jaGFpbi5nZXRfZmlsZV9saW5rcyh0ZmlsZSk7XHJcblxyXG5cdFx0XHRsZXQga2V5cyA9IE9iamVjdC5rZXlzKGl0ZW1zKTtcclxuXHRcdFx0bGV0IGtleSA9IGF3YWl0IG5jLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdG5jLnV0aWxzLmFycmF5X3ByZWZpeF9pZChrZXlzKSxcclxuXHRcdFx0XHRrZXlzXHJcblx0XHRcdClcclxuXHRcdFx0XHJcblx0XHRcdGlmKGtleSl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldO1xyXG5cdFx0XHRcdGxldCBlbGVjdHJvbiA9IHJlcXVpcmUoJ2VsZWN0cm9uJylcclxuXHRcdFx0XHRlbGVjdHJvbi5yZW1vdGUuc2hlbGwub3BlblBhdGgoaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX2ZpbGVfc2hvd19pbl9zeXN0ZW1fZXhwbG9yZXIgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9maWxlX3Nob3dfaW5fc3lzdGVtX2V4cGxvcmVyJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZmlsZV9zaG93X2luX3N5c3RlbV9leHBsb3JlcixcclxuXHRpY29uOidib29rLW9wZW4tdGV4dCcsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGlmKChuYy5hcHAgYXMgYW55KS5pc01vYmlsZSl7cmV0dXJuO31cclxuXHRcdGxldCB0ZmlsZSA9IG5jLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IGl0ZW1zID0gYXdhaXQgbmMuY2hhaW4uZ2V0X2ZpbGVfbGlua3ModGZpbGUpO1xyXG5cdFx0XHRsZXQga2V5cyA9IE9iamVjdC5rZXlzKGl0ZW1zKTtcclxuXHRcdFx0bGV0IGtleSA9IGF3YWl0IG5jLmRpYWxvZ19zdWdnZXN0KFxyXG5cdFx0XHRcdG5jLnV0aWxzLmFycmF5X3ByZWZpeF9pZChrZXlzKSxcclxuXHRcdFx0XHRrZXlzXHJcblx0XHRcdClcclxuXHRcdFx0XHJcblx0XHRcdGlmKGtleSl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdFx0bGV0IGVsZWN0cm9uID0gcmVxdWlyZSgnZWxlY3Ryb24nKVxyXG5cdFx0XHRcdGVsZWN0cm9uLnJlbW90ZS5zaGVsbC5zaG93SXRlbUluRm9sZGVyKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9maWxlX3JlbmFtZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX2ZpbGVfcmVuYW1lJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZmlsZV9yZW5hbWUsXHJcblx0aWNvbjogJ3Blbi1saW5lJyxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0aWYoKG5jLmFwcCBhcyBhbnkpLmlzTW9iaWxlKXtyZXR1cm47fVxyXG5cdFx0bGV0IHRmaWxlID0gbmMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IGl0ZW1zOntba2V5OnN0cmluZ106YW55fSA9IHt9XHJcblx0XHRcdGxldCBsaW5rcyA9IG5jLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlLGZhbHNlKTtcclxuXHRcdFx0Zm9yKGxldCBpIG9mIGxpbmtzKXtcclxuXHRcdFx0XHRpZihpLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1MjEzOVx1RkUwRiAnK2kuYmFzZW5hbWVdID0gaTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLm5hbWVdID0gaTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0bGlua3MgPSBuYy5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsZmFsc2UpO1xyXG5cdFx0XHRmb3IobGV0IGkgb2YgbGlua3Mpe1xyXG5cdFx0XHRcdGlmKGkuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERDdFXHVGRTBGICcraS5iYXNlbmFtZV0gPSBpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REQ3RVx1RkUwRiAnK2kubmFtZV0gPSBpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhpdGVtcyk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQga2V5ID0gYXdhaXQgbmMuZGlhbG9nX3N1Z2dlc3QoXHJcblx0XHRcdFx0bmMudXRpbHMuYXJyYXlfcHJlZml4X2lkKGtleXMpLFxyXG5cdFx0XHRcdGtleXMsXHJcblx0XHRcdClcclxuXHJcblx0XHRcdGlmKGtleSl7XHJcblx0XHRcdFx0bGV0IG5vdGUgPSBpdGVtc1trZXldO1xyXG5cdFx0XHRcdGxldCByZXMgPSBhd2FpdCBuYy5kaWFsb2dfcHJvbXB0KCdOZXcgTmFtZScsJycsbm90ZS5iYXNlbmFtZSk7XHJcblx0XHRcdFx0aWYocmVzICYmICEocmVzPT09bm90ZS5iYXNlbmFtZSkgJiYgIShyZXM9PT0nJykpe1xyXG5cdFx0XHRcdFx0bGV0IG5wYXRoID0gbm90ZS5wYXJlbnQucGF0aCsnLycrcmVzKycuJytub3RlLmV4dGVuc2lvbjtcclxuXHRcdFx0XHRcdGxldCBkc3QgPSBuYy5jaGFpbi5nZXRfdGZpbGUocmVzKycuJytub3RlLmV4dGVuc2lvbik7XHJcblx0XHRcdFx0XHRpZihkc3Qpe1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdFeGlzdDonK3Jlcytub3RlLmV4dGVuc2lvbiwzMDAwKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRuYy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZShub3RlLG5wYXRoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21lcm1haWRfZmxvd2NoYXJ0X2xpbmsgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rJyxcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rLFxyXG5cdGljb246J2ZpbGUtaGVhcnQnLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gXCJgYGBkYXRhdmlld2pzXFxubGV0IG5jPWFwcC5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xcbmxldCBtc2cgPW5jLm1lcm1haWQuZ2V0X2Zsb3djaGFydChudWxsLDIpO1xcbmR2LnNwYW4obXNnKVxcbmBgYFwiO1xyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5jaGFpbi5vcGVuX25vdGVfaW5fbW9kYWwoY29udGVudCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlciA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcicsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbWVybWFpZF9mbG93Y2hhcnRfZm9sZGVyLFxyXG5cdGljb246J2ZvbGRlci1oZWFydCcsXHJcbiAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBcImBgYGRhdGF2aWV3anNcXG5sZXQgbmM9YXBwLnBsdWdpbnMuZ2V0UGx1Z2luKCdub3RlLWNoYWluJyk7XFxubGV0IG1zZyA9bmMubWVybWFpZC5mbG93Y2hhcnRfZm9sZGVyKG51bGwsJ0ZvbGRlcicpO1xcbmR2LnNwYW4obXNnKVxcbmBgYFwiO1xyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5jaGFpbi5vcGVuX25vdGVfaW5fbW9kYWwoY29udGVudCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21lcm1haWRfZmxvd2NoYXJ0X2F1dG8gPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF9tZXJtYWlkX2Zsb3djaGFydF9hdXRvJyxcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9tZXJtYWlkX2Zsb3djaGFydF9hdXRvLFxyXG5cdGljb246J2hlYXJ0JyxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IFwiYGBgZGF0YXZpZXdqc1xcbmxldCBuYz1hcHAucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcXG5sZXQgbXNnID1uYy5tZXJtYWlkLmdldF9tZWhybWFpZF9ncmFwaChudWxsLDQsJ21lcm1haWQnKTtcXG5kdi5zcGFuKG1zZylcXG5gYGBcIjtcclxuICAgICAgICBhd2FpdCBwbHVnaW4uY2hhaW4ub3Blbl9ub3RlX2luX21vZGFsKGNvbnRlbnQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9leGVjdXRlX3RlbXBsYXRlX21vZGFsID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdjbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCcsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCxcclxuXHRpY29uOidmaWxlLXRlcm1pbmFsJyxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgdHBsID0gKHBsdWdpbi5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbJ3RlbXBsYXRlci1vYnNpZGlhbiddXHJcblx0XHRpZighdHBsKXtyZXR1cm59XHJcblxyXG5cdFx0bGV0IGZvbGRlciA9IHBsdWdpbi5hcHAudmF1bHQuZ2V0Rm9sZGVyQnlQYXRoKHRwbC5zZXR0aW5ncy50ZW1wbGF0ZXNfZm9sZGVyKTtcclxuXHRcdGxldCBzbGljZSA9IDBcclxuXHRcdGxldCB0ZmlsZXM7XHJcblx0XHRpZihmb2xkZXIpe1xyXG5cdFx0XHRzbGljZSA9IGZvbGRlci5wYXRoLmxlbmd0aCsxXHJcblx0XHRcdHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5nZXRfdGZpbGVzX29mX2ZvbGRlcihmb2xkZXIsdHJ1ZSlcclxuXHRcdFx0dGZpbGVzID0gcGx1Z2luLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlcylcclxuXHRcdH1lbHNle1xyXG5cdFx0XHR0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X2FsbF90ZmlsZXMoKVxyXG5cdFx0fVxyXG5cdFx0bGV0IHRmaWxlID0gYXdhaXQgcGx1Z2luLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKHRmaWxlcyBhcyBhbnksc2xpY2UpXHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCByZXMgPSBhd2FpdCBwbHVnaW4udXRpbHMucGFyc2VfdGVtcGxhdGVyKHBsdWdpbi5hcHAsdGZpbGUuYmFzZW5hbWUpO1xyXG5cdFx0XHRsZXQgdHh0ID0gcmVzLmpvaW4oJ1xcbicpLnRyaW0oKVxyXG5cdFx0XHRsZXQgdmlldyA9IChwbHVnaW4uYXBwLndvcmtzcGFjZSBhcyBhbnkpLmdldEFjdGl2ZUZpbGVWaWV3KClcclxuXHRcdFx0aWYodmlldyl7XHJcblx0XHRcdFx0dmlldy5lZGl0b3IucmVwbGFjZVNlbGVjdGlvbih0eHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZSA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnY21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZScsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfdG9vZ2xlX2Nzc19ibG9ja19pbl9ub3RlLFxyXG5cdGljb246J2F0b20nLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGF3YWl0IHBsdWdpbi51dGlscy50b29nbGVfbm90ZV9jc3MocGx1Z2luLmFwcCxkb2N1bWVudCwnLycpXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX3NldF9mcm9udG1hdHRlciA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnY21kX3NldF9mcm9udG1hdHRlcicsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfc2V0X2Zyb250bWF0dGVyLFxyXG5cdGljb246ICdkYXRhYmFzZScsXHJcbiAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IGZpbGVzID0gcGx1Z2luLmNoYWluLmdldF9zZWxlY3RlZF9maWxlcyh0cnVlKVxyXG5cdFx0aWYoZmlsZXMubGVuZ3RoPT0wKXtyZXR1cm59XHJcblx0XHRsZXQgZmllbGQgPSBhd2FpdCBwbHVnaW4uZGlhbG9nX3Byb21wdCgnRnJvbnRtYXR0ZXIgbmFtZScpXHJcblx0XHRpZighZmllbGQpe3JldHVybn1cclxuXHRcdGxldCBwcmV2ID0gcGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZmlsZXNbMF0sZmllbGQpXHJcblx0XHRpZihwcmV2KXtcclxuXHRcdFx0aWYoQXJyYXkuaXNBcnJheShwcmV2KSl7XHJcblx0XHRcdFx0cHJldiA9IHByZXYubWFwKHg9PngudG9TdHJpbmcoKSkuam9pbignXFxuJylcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cHJldiA9IHByZXYudG9TdHJpbmcoKVxyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cHJldiA9ICcnXHJcblx0XHR9XHJcblx0XHRsZXQgdmFsdWUgPSBhd2FpdCBwbHVnaW4uZGlhbG9nX3Byb21wdCgnRnJvbnRtYXR0ZXIgdmFsdWUnLCcnLHByZXYpXHJcblx0XHR2YWx1ZSA9IHZhbHVlLnRyaW0oKVxyXG5cdFx0aWYoIXZhbHVlKXtyZXR1cm59XHJcblx0XHR2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcXFxuL2csJ1xcbicpLnJlcGxhY2UoL1xcXFx0L2csJ1xcdCcpXHJcblx0XHR2YWx1ZSA9IHZhbHVlLnNwbGl0KCdcXG4nKVxyXG5cdFx0dmFsdWUgPSB2YWx1ZS5tYXAoKHg6c3RyaW5nKT0+e1xyXG5cdFx0XHRpZih4Lm1hdGNoKC9eLT9cXGQrJC8pKXtcclxuXHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoeClcclxuXHRcdFx0fWVsc2UgaWYoeC5tYXRjaCgvXi0/XFxkKyhcXC5cXGQqKT8kLykpe1xyXG5cdFx0XHRcdHJldHVybiBwYXJzZUZsb2F0KHgpXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJldHVybiB4XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHRpZih2YWx1ZS5sZW5ndGg9PTEpe1xyXG5cdFx0XHR2YWx1ZSA9IHZhbHVlWzBdXHJcblx0XHR9XHJcblx0XHRmb3IobGV0IHRmaWxlIG9mIGZpbGVzKXtcclxuXHRcdFx0YXdhaXQgcGx1Z2luLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsZmllbGQsdmFsdWUsMSlcclxuXHRcdH1cclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfbW92ZV9uZXh0X2xldmVsID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdtb3ZlX25leHRfbGV2ZWwnLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX21vdmVfbmV4dF9sZXZlbCxcclxuXHRob3RrZXlzOiBbeyBtb2RpZmllcnM6IFsnTW9kJywgJ1NoaWZ0J10sIGtleTogJ0wnIH1dLFxyXG5cdGljb246ICdhcnJvdy1yaWdodC1mcm9tLWxpbmUnLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBrZXkgPSBwbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfY29uZmx1ZW5jZV90YWJfZm9ybWF0XHJcblx0XHRpZigha2V5KXtyZXR1cm59XHJcblx0XHRsZXQgdGZpbGVzID0gcGx1Z2luLmNoYWluLmdldF9zZWxlY3RlZF9maWxlcygpXHJcblx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdGxldCBsZXZlbCA9IHBsdWdpbi5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGtleSlcclxuXHRcdFx0aWYoIWxldmVsKXtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uZWRpdG9yLnNldF9mcm9udG1hdHRlcih0ZmlsZSxrZXksXCJcXHRcIiwxKVxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uZWRpdG9yLnNldF9mcm9udG1hdHRlcih0ZmlsZSxrZXksbGV2ZWwrXCJcXHRcIiwxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21vdmVfbm9uZV9sZXZlbCA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnbW92ZV9ub25lX2xldmVsJyxcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9tb3ZlX25vbmVfbGV2ZWwsXHJcblx0aG90a2V5czogW3sgbW9kaWZpZXJzOiBbJ01vZCcsICdTaGlmdCddLCBrZXk6ICdLJyB9XSxcclxuXHRpY29uOidhbGlnbi1qdXN0aWZ5JyxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQga2V5ID0gcGx1Z2luLnNldHRpbmdzLmZpZWxkX29mX2NvbmZsdWVuY2VfdGFiX2Zvcm1hdFxyXG5cdFx0aWYoIWtleSl7cmV0dXJufVxyXG5cdFx0bGV0IHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5nZXRfc2VsZWN0ZWRfZmlsZXMoKVxyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRsZXQgbGV2ZWwgPSBwbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSxrZXkpXHJcblx0XHRcdGlmKGxldmVsKXtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uZWRpdG9yLnNldF9mcm9udG1hdHRlcih0ZmlsZSxrZXksXCJcIiwxKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21vdmVfcHJldl9sZXZlbCA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnbW92ZV9wcmV2X2xldmVsJyxcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9tb3ZlX3ByZXZfbGV2ZWwsXHJcblx0aG90a2V5czogW3sgbW9kaWZpZXJzOiBbJ01vZCcsICdTaGlmdCddLCBrZXk6ICdKJyB9XSxcclxuXHRpY29uOidhcnJvdy1sZWZ0LWZyb20tbGluZScsXHJcbiAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IGtleSA9IHBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9jb25mbHVlbmNlX3RhYl9mb3JtYXRcclxuXHRcdGlmKCFrZXkpe3JldHVybn1cclxuXHRcdGxldCB0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X3NlbGVjdGVkX2ZpbGVzKClcclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0bGV0IGxldmVsID0gcGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5KVxyXG5cdFx0XHRpZihsZXZlbCl7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmVkaXRvci5zZXRfZnJvbnRtYXR0ZXIodGZpbGUsa2V5LGxldmVsLnNsaWNlKDEpLDEpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBjb21tYW5kQnVpbGRlcnMgPSBbXHJcblx0Y21kX29wZW5fbm90ZSxcclxuXHRjbWRfcmV2ZWFsX25vdGUsXHJcblx0Y21kX29wZW5fYW5kX3JldmVhbF9ub3RlLFxyXG5cdGNtZF9vcGVuX3ByZXZfbm90ZSxcclxuXHRjbWRfb3Blbl9uZXh0X25vdGUsXHJcblx0Y21kX29wZW5fcHJldl9ub3RlX29mX3JpZ2h0X2xlYWYsXHJcblx0Y21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYsXHJcblx0Y21kX29wZW5fbm90ZXNfc21hcnRlcixcclxuXHRjbWRfbG9uZ2Zvcm0ybm90ZWNoYWluLFxyXG5cdGNtZF9sb25nZm9ybTRub3RlY2hhaW4sXHJcblx0Y21kX3NvcnRfZmlsZV9leHBsb3JlcixcclxuXHRjbGVhcl9pbmxpbmtzLFxyXG5cdHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4LFxyXG5cdG1vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcixcclxuXHRjaGFpbl9pbnNlcnRfbm9kZSxcclxuXHRjaGFpbl9zZXRfc2VxX25vdGUsXHJcblx0Y3JlYXRlX25ld19ub3RlLFxyXG5cdGNoYWluX21vdmVfdXBfbm9kZSxcclxuXHRjaGFpbl9tb3ZlX2Rvd25fbm9kZSxcclxuXHRjbWRfZmlsZV9yZW5hbWUsXHJcblx0Y21kX21lcm1haWRfZmxvd2NoYXJ0X2xpbmssXHJcblx0Y21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcixcclxuXHRjbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0byxcclxuXHRjbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCxcclxuXHRjbWRfdG9vZ2xlX2Nzc19ibG9ja19pbl9ub3RlLFxyXG5cdGNtZF9zZXRfZnJvbnRtYXR0ZXIsXHJcblx0Y21kX21vdmVfbmV4dF9sZXZlbCxcclxuXHRjbWRfbW92ZV9ub25lX2xldmVsLFxyXG5cdGNtZF9tb3ZlX3ByZXZfbGV2ZWwsXHJcbl07XHJcblxyXG5jb25zdCBjb21tYW5kQnVpbGRlcnNEZXNrdG9wID0gW1xyXG5cdGNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwLFxyXG5cdGNtZF9maWxlX3Nob3dfaW5fc3lzdGVtX2V4cGxvcmVyLFxyXG5cclxuXVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1hbmRzKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pIHtcclxuICAgIGNvbW1hbmRCdWlsZGVycy5mb3JFYWNoKChjKSA9PiB7XHJcbiAgICAgICAgcGx1Z2luLmFkZENvbW1hbmQoYyhwbHVnaW4pKTtcclxuICAgIH0pO1xyXG5cdGlmKChwbHVnaW4uYXBwIGFzIGFueSkuaXNNb2JpbGU9PWZhbHNlKXtcclxuXHRcdGNvbW1hbmRCdWlsZGVyc0Rlc2t0b3AuZm9yRWFjaCgoYykgPT4ge1xyXG5cdFx0XHRwbHVnaW4uYWRkQ29tbWFuZChjKHBsdWdpbikpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBGdXp6eVN1Z2dlc3RNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgdHlwZSB7IEZ1enp5TWF0Y2ggLCBBcHB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuLy8gXHU2REZCXHU1MkEwXHU3QzdCXHU1NzhCXHU1OEYwXHU2NjBFXHJcbmludGVyZmFjZSBTdWdnZXN0ZXJDaG9vc2VyIHtcclxuXHR2YWx1ZXM6IHtcclxuXHRcdGl0ZW06IHN0cmluZztcclxuXHRcdG1hdGNoOiB7IHNjb3JlOiBudW1iZXI7IG1hdGNoZXM6IHVua25vd25bXSB9O1xyXG5cdH1bXTtcclxuXHRzZWxlY3RlZEl0ZW06IG51bWJlcjtcclxuXHRba2V5OiBzdHJpbmddOiB1bmtub3duO1xyXG59XHJcblxyXG4vLyBcdTYyNjlcdTVDNTVGdXp6eVN1Z2dlc3RNb2RhbFx1NzY4NFx1N0M3Qlx1NTc4QlxyXG5pbnRlcmZhY2UgRXh0ZW5kZWRGdXp6eVN1Z2dlc3RNb2RhbCBleHRlbmRzIEZ1enp5U3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG5cdGNob29zZXI6IFN1Z2dlc3RlckNob29zZXI7XHJcbn1cclxuXHJcbnR5cGUgT3B0aW9ucyA9IHtcclxuXHRsaW1pdDogRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPltcImxpbWl0XCJdO1xyXG5cdGVtcHR5U3RhdGVUZXh0OiBGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+W1wiZW1wdHlTdGF0ZVRleHRcIl07XHJcblx0cGxhY2Vob2xkZXI6IFBhcmFtZXRlcnM8XHJcblx0XHRGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+W1wic2V0UGxhY2Vob2xkZXJcIl1cclxuXHQ+WzBdIGV4dGVuZHMgc3RyaW5nXHJcblx0XHQ/IHN0cmluZ1xyXG5cdFx0OiBuZXZlcjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb3B5IGZyb20gUXVpY2tBZGRcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0U3VnZ2VzdGVyIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcblx0cHJpdmF0ZSByZXNvbHZlUHJvbWlzZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSByZWplY3RQcm9taXNlOiAocmVhc29uPzogdW5rbm93bikgPT4gdm9pZDtcclxuXHRwdWJsaWMgcHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+O1xyXG5cdHByaXZhdGUgcmVzb2x2ZWQ6IGJvb2xlYW47XHJcblx0cHVibGljIG5ld192YWx1ZTogYm9vbGVhbjtcclxuXHRpbnB1dEVsOiBhbnk7XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU3VnZ2VzdChcclxuXHRcdGFwcDogQXBwLFxyXG5cdFx0ZGlzcGxheUl0ZW1zOiBzdHJpbmdbXSxcclxuXHRcdGl0ZW1zOiBzdHJpbmdbXSxcclxuXHRcdG9wdGlvbnM6IFBhcnRpYWw8T3B0aW9ucz4gPSB7fSxcclxuXHRcdG5ld192YWx1ZTpib29sZWFuPWZhbHNlXHJcblx0KSB7XHJcblx0XHRjb25zdCBuZXdTdWdnZXN0ZXIgPSBuZXcgSW5wdXRTdWdnZXN0ZXIoXHJcblx0XHRcdGFwcCxcclxuXHRcdFx0ZGlzcGxheUl0ZW1zLFxyXG5cdFx0XHRpdGVtcyxcclxuXHRcdFx0b3B0aW9ucyxcclxuXHRcdFx0bmV3X3ZhbHVlXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG5ld1N1Z2dlc3Rlci5wcm9taXNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRwcml2YXRlIGRpc3BsYXlJdGVtczogc3RyaW5nW10sXHJcblx0XHRwcml2YXRlIGl0ZW1zOiBzdHJpbmdbXSxcclxuXHRcdG9wdGlvbnM6IFBhcnRpYWw8T3B0aW9ucz4gPSB7fSxcclxuXHRcdG5ld192YWx1ZTogYm9vbGVhbiA9IGZhbHNlXHJcblx0KSB7XHJcblx0XHRzdXBlcihhcHApO1xyXG5cdFx0dGhpcy5uZXdfdmFsdWUgPSBuZXdfdmFsdWVcclxuXHJcblx0XHR0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpcy5yZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XHJcblx0XHRcdHRoaXMucmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuXHRcdFx0aWYgKGV2ZW50LmNvZGUgIT09IFwiVGFiXCIpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFx1NEY3Rlx1NzUyOFx1N0M3Qlx1NTc4Qlx1NjVBRFx1OEEwMFx1Njc2NVx1OEJCRlx1OTVFRWNob29zZXJcclxuXHRcdFx0Y29uc3Qgc2VsZiA9IHRoaXMgYXMgdW5rbm93biBhcyBFeHRlbmRlZEZ1enp5U3VnZ2VzdE1vZGFsO1xyXG5cdFx0XHRjb25zdCB7IHZhbHVlcywgc2VsZWN0ZWRJdGVtIH0gPSBzZWxmLmNob29zZXI7XHJcblxyXG5cdFx0XHRjb25zdCB7IHZhbHVlIH0gPSB0aGlzLmlucHV0RWw7XHJcblx0XHRcdHRoaXMuaW5wdXRFbC52YWx1ZSA9IHZhbHVlc1tzZWxlY3RlZEl0ZW1dLml0ZW0gPz8gdmFsdWU7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAob3B0aW9ucy5wbGFjZWhvbGRlcikgdGhpcy5zZXRQbGFjZWhvbGRlcihvcHRpb25zLnBsYWNlaG9sZGVyKTtcclxuXHRcdGlmIChvcHRpb25zLmxpbWl0KSB0aGlzLmxpbWl0ID0gb3B0aW9ucy5saW1pdDtcclxuXHRcdGlmIChvcHRpb25zLmVtcHR5U3RhdGVUZXh0KVxyXG5cdFx0XHR0aGlzLmVtcHR5U3RhdGVUZXh0ID0gb3B0aW9ucy5lbXB0eVN0YXRlVGV4dDtcclxuXHJcblx0XHR0aGlzLm9wZW4oKTtcclxuXHR9XHJcblxyXG5cdGdldEl0ZW1UZXh0KGl0ZW06IHN0cmluZyk6IHN0cmluZyB7XHJcblx0XHRpZiAoaXRlbSA9PT0gdGhpcy5pbnB1dEVsLnZhbHVlKSByZXR1cm4gaXRlbTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5kaXNwbGF5SXRlbXNbdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pXTtcclxuXHR9XHJcblxyXG5cdGdldEl0ZW1zKCk6IHN0cmluZ1tdIHtcclxuXHRcdGlmICh0aGlzLmlucHV0RWwudmFsdWUgPT09IFwiXCJ8fCF0aGlzLm5ld192YWx1ZSkgcmV0dXJuIHRoaXMuaXRlbXM7XHJcblx0XHRyZXR1cm4gWy4uLnRoaXMuaXRlbXMsdGhpcy5pbnB1dEVsLnZhbHVlXTtcclxuXHR9XHJcblxyXG5cdHNlbGVjdFN1Z2dlc3Rpb24oXHJcblx0XHR2YWx1ZTogRnV6enlNYXRjaDxzdHJpbmc+LFxyXG5cdFx0ZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudFxyXG5cdCkge1xyXG5cdFx0dGhpcy5yZXNvbHZlZCA9IHRydWU7XHJcblx0XHRzdXBlci5zZWxlY3RTdWdnZXN0aW9uKHZhbHVlLCBldnQpO1xyXG5cdH1cclxuXHJcblx0b25DaG9vc2VJdGVtKGl0ZW06IHN0cmluZywgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG5cdFx0dGhpcy5yZXNvbHZlZCA9IHRydWU7XHJcblx0XHR0aGlzLnJlc29sdmVQcm9taXNlKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdHN1cGVyLm9uQ2xvc2UoKTtcclxuXHRcdGlmICghdGhpcy5yZXNvbHZlZCkgdGhpcy5yZWplY3RQcm9taXNlKFwibm8gaW5wdXQgZ2l2ZW4uXCIpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpYWxvZ19zdWdnZXN0KGRpc3BsYXlJdGVtczpBcnJheTxzdHJpbmc+LGl0ZW1zOkFycmF5PGFueT4scGxhY2Vob2xkZXI9JycsbmV3X3ZhbHVlPWZhbHNlKSB7XHJcblx0dHJ5e1xyXG5cdFx0cmV0dXJuIGF3YWl0IElucHV0U3VnZ2VzdGVyLlN1Z2dlc3QoXHJcblx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRkaXNwbGF5SXRlbXMsXHJcblx0XHRcdGl0ZW1zLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRuZXdfdmFsdWVcclxuXHRcdClcclxuXHR9Y2F0Y2goZXJyb3Ipe1xyXG5cdFx0XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cdH1cclxuXHRcclxufVxyXG4iLCAiaW1wb3J0IHR5cGUgeyBBcHB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBCdXR0b25Db21wb25lbnQsIE1vZGFsLCBUZXh0Q29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG4vKipcclxuICogQ29weSBmcm9tIFF1aWNrQWRkXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRQcm9tcHQgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cHVibGljIHdhaXRGb3JDbG9zZTogUHJvbWlzZTxzdHJpbmc+O1xyXG5cclxuXHRwcml2YXRlIHJlc29sdmVQcm9taXNlOiAoaW5wdXQ6IHN0cmluZykgPT4gdm9pZDtcclxuXHRwcml2YXRlIHJlamVjdFByb21pc2U6IChyZWFzb24/OiB1bmtub3duKSA9PiB2b2lkO1xyXG5cdHByaXZhdGUgZGlkU3VibWl0ID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBpbnB1dENvbXBvbmVudDogVGV4dENvbXBvbmVudDtcclxuXHRwcml2YXRlIGlucHV0OiBzdHJpbmc7XHJcblx0cHJpdmF0ZSByZWFkb25seSBwbGFjZWhvbGRlcjogc3RyaW5nO1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIFByb21wdChcclxuXHRcdGFwcDogQXBwLFxyXG5cdFx0aGVhZGVyOiBzdHJpbmcsXHJcblx0XHRwbGFjZWhvbGRlcj86IHN0cmluZyxcclxuXHRcdHZhbHVlPzogc3RyaW5nXHJcblx0KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdGNvbnN0IG5ld1Byb21wdE1vZGFsID0gbmV3IElucHV0UHJvbXB0KFxyXG5cdFx0XHRhcHAsXHJcblx0XHRcdGhlYWRlcixcclxuXHRcdFx0cGxhY2Vob2xkZXIsXHJcblx0XHRcdHZhbHVlXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG5ld1Byb21wdE1vZGFsLndhaXRGb3JDbG9zZTtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcclxuXHRcdGFwcDogQXBwLFxyXG5cdFx0cHJpdmF0ZSBoZWFkZXI6IHN0cmluZyxcclxuXHRcdHBsYWNlaG9sZGVyPzogc3RyaW5nLFxyXG5cdFx0dmFsdWU/OiBzdHJpbmdcclxuXHQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXIgPz8gXCJcIjtcclxuXHRcdHRoaXMuaW5wdXQgPSB2YWx1ZSA/PyBcIlwiO1xyXG5cclxuXHRcdHRoaXMud2FpdEZvckNsb3NlID0gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRoaXMucmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xyXG5cdFx0XHR0aGlzLnJlamVjdFByb21pc2UgPSByZWplY3Q7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdHRoaXMub3BlbigpO1xyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGlzcGxheSgpIHtcclxuXHRcdHRoaXMuY29udGFpbmVyRWwuYWRkQ2xhc3MoXCJxdWlja0FkZE1vZGFsXCIsIFwicWFJbnB1dFByb21wdFwiKTtcclxuXHRcdHRoaXMuY29udGVudEVsLmVtcHR5KCk7XHJcblx0XHR0aGlzLnRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLmhlYWRlcjtcclxuXHJcblx0XHRjb25zdCBtYWluQ29udGVudENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcclxuXHRcdHRoaXMuaW5wdXRDb21wb25lbnQgPSB0aGlzLmNyZWF0ZUlucHV0RmllbGQoXHJcblx0XHRcdG1haW5Db250ZW50Q29udGFpbmVyLFxyXG5cdFx0XHR0aGlzLnBsYWNlaG9sZGVyLFxyXG5cdFx0XHR0aGlzLmlucHV0XHJcblx0XHQpO1xyXG5cdFx0dGhpcy5jcmVhdGVCdXR0b25CYXIobWFpbkNvbnRlbnRDb250YWluZXIpO1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNyZWF0ZUlucHV0RmllbGQoXHJcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxyXG5cdFx0cGxhY2Vob2xkZXI/OiBzdHJpbmcsXHJcblx0XHR2YWx1ZT86IHN0cmluZ1xyXG5cdCkge1xyXG5cdFx0Y29uc3QgdGV4dENvbXBvbmVudCA9IG5ldyBUZXh0Q29tcG9uZW50KGNvbnRhaW5lcik7XHJcblxyXG5cdFx0KHRleHRDb21wb25lbnQgYXMgYW55KS5pbnB1dEVsLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcblx0XHQodGV4dENvbXBvbmVudCBhcyBhbnkpXHJcblx0XHRcdC5zZXRQbGFjZWhvbGRlcihwbGFjZWhvbGRlciA/PyBcIlwiKVxyXG5cdFx0XHQuc2V0VmFsdWUodmFsdWUgPz8gXCJcIilcclxuXHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTpzdHJpbmcpID0+ICh0aGlzLmlucHV0ID0gdmFsdWUpKVxyXG5cdFx0XHQuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLnN1Ym1pdEVudGVyQ2FsbGJhY2spO1xyXG5cclxuXHRcdHJldHVybiB0ZXh0Q29tcG9uZW50O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVCdXR0b24oXHJcblx0XHRjb250YWluZXI6IEhUTUxFbGVtZW50LFxyXG5cdFx0dGV4dDogc3RyaW5nLFxyXG5cdFx0Y2FsbGJhY2s6IChldnQ6IE1vdXNlRXZlbnQpID0+IHVua25vd25cclxuXHQpIHtcclxuXHRcdGNvbnN0IGJ0biA9IG5ldyBCdXR0b25Db21wb25lbnQoY29udGFpbmVyKTtcclxuXHRcdGJ0bi5zZXRCdXR0b25UZXh0KHRleHQpLm9uQ2xpY2soY2FsbGJhY2spO1xyXG5cclxuXHRcdHJldHVybiBidG47XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUJ1dHRvbkJhcihtYWluQ29udGVudENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGJ1dHRvbkJhckNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPVxyXG5cdFx0XHRtYWluQ29udGVudENvbnRhaW5lci5jcmVhdGVEaXYoKTtcclxuXHRcdHRoaXMuY3JlYXRlQnV0dG9uKFxyXG5cdFx0XHRidXR0b25CYXJDb250YWluZXIsXHJcblx0XHRcdFwiT2tcIixcclxuXHRcdFx0dGhpcy5zdWJtaXRDbGlja0NhbGxiYWNrXHJcblx0XHQpLnNldEN0YSgpLmJ1dHRvbkVsLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCI7XHJcblx0XHR0aGlzLmNyZWF0ZUJ1dHRvbihcclxuXHRcdFx0YnV0dG9uQmFyQ29udGFpbmVyLFxyXG5cdFx0XHRcIkNhbmNlbFwiLFxyXG5cdFx0XHR0aGlzLmNhbmNlbENsaWNrQ2FsbGJhY2tcclxuXHRcdCk7XHJcblxyXG5cdFx0YnV0dG9uQmFyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHRcdGJ1dHRvbkJhckNvbnRhaW5lci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJyb3ctcmV2ZXJzZVwiO1xyXG5cdFx0YnV0dG9uQmFyQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJmbGV4LXN0YXJ0XCI7XHJcblx0XHRidXR0b25CYXJDb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gXCIxcmVtXCI7XHJcblx0XHRidXR0b25CYXJDb250YWluZXIuc3R5bGUuZ2FwID0gXCIwLjVyZW1cIjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3VibWl0Q2xpY2tDYWxsYmFjayA9IChldnQ6IE1vdXNlRXZlbnQpID0+IHRoaXMuc3VibWl0KCk7XHJcblx0cHJpdmF0ZSBjYW5jZWxDbGlja0NhbGxiYWNrID0gKGV2dDogTW91c2VFdmVudCkgPT4gdGhpcy5jYW5jZWwoKTtcclxuXHJcblx0cHJpdmF0ZSBzdWJtaXRFbnRlckNhbGxiYWNrID0gKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG5cdFx0aWYgKCFldnQuaXNDb21wb3NpbmcgJiYgZXZ0LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR0aGlzLnN1Ym1pdCgpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHByaXZhdGUgc3VibWl0KCkge1xyXG5cdFx0dGhpcy5kaWRTdWJtaXQgPSB0cnVlO1xyXG5cclxuXHRcdHRoaXMuY2xvc2UoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY2FuY2VsKCkge1xyXG5cdFx0dGhpcy5jbG9zZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZXNvbHZlSW5wdXQoKSB7XHJcblx0XHRpZiAoIXRoaXMuZGlkU3VibWl0KSB0aGlzLnJlamVjdFByb21pc2UoXCJObyBpbnB1dCBnaXZlbi5cIik7XHJcblx0XHRlbHNlIHRoaXMucmVzb2x2ZVByb21pc2UodGhpcy5pbnB1dCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHJlbW92ZUlucHV0TGlzdGVuZXIoKSB7XHJcblx0XHR0aGlzLmlucHV0Q29tcG9uZW50LmlucHV0RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XCJrZXlkb3duXCIsXHJcblx0XHRcdHRoaXMuc3VibWl0RW50ZXJDYWxsYmFja1xyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdHN1cGVyLm9uT3BlbigpO1xyXG5cclxuXHRcdHRoaXMuaW5wdXRDb21wb25lbnQuaW5wdXRFbC5mb2N1cygpO1xyXG5cdFx0dGhpcy5pbnB1dENvbXBvbmVudC5pbnB1dEVsLnNlbGVjdCgpO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdHN1cGVyLm9uQ2xvc2UoKTtcclxuXHRcdHRoaXMucmVzb2x2ZUlucHV0KCk7XHJcblx0XHR0aGlzLnJlbW92ZUlucHV0TGlzdGVuZXIoKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlhbG9nX3Byb21wdChoZWFkZXI6IHN0cmluZz0nSW5wdXQnLCBwbGFjZWhvbGRlcjogc3RyaW5nPScnLHZhbHVlOnN0cmluZz0nJykge1xyXG5cdHRyeXtcclxuXHRcdHJldHVybiBhd2FpdCBJbnB1dFByb21wdC5Qcm9tcHQoXHJcblx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRoZWFkZXIsXHJcblx0XHRcdHBsYWNlaG9sZGVyLFxyXG4gICAgICAgICAgICB2YWx1ZVxyXG5cdFx0KVxyXG5cdH1jYXRjaHtcclxuXHRcdHJldHVybiBudWxsXHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVTyxTQUFTLFlBQVksS0FBUSxNQUFZO0FBRWhEO0FBRU8sU0FBUyxnQkFBZ0IsT0FBaUIsU0FBTyxHQUFFO0FBQ3RELE1BQUksTUFB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QUFLLFFBQVEsd0JBQXVCO0FBQ25ELFlBQU0sS0FBSyxNQUFNLHdCQUF3QixNQUFLLElBQUk7QUFBQSxJQUNuRCxXQUFTLFNBQU8sS0FBSyxRQUFRLDBCQUF5QjtBQUNyRCxZQUFNLEtBQUssTUFBTSwwQkFBMEIsTUFBSyxJQUFJO0FBQUEsSUFDckQsT0FBSztBQUNKO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGdCQUFnQixPQUFZLFFBQXFCLEtBQVc7QUFDM0QsUUFBSSxRQUFRLElBQUksTUFBTTtBQUN0QixRQUFHLFNBQU8sS0FBSyxNQUFNLGNBQWE7QUFDakMsWUFBTSxLQUFLLGNBQU8sTUFBTSxRQUFRO0FBQUEsSUFDakMsT0FBSztBQUNKLFlBQU0sS0FBSyxNQUFNLFFBQVE7QUFBQSxJQUMxQjtBQUVBLGFBQVEsU0FBUyxRQUFPO0FBQ3ZCLFVBQUc7QUFDRixjQUFNLEtBQUssS0FBSyxPQUFPLGdCQUFnQixPQUFNLEtBQUssQ0FBQztBQUFBLE1BQ3BELFNBQU8sT0FBTjtBQUNBLGNBQU0sS0FBSyxHQUFHO0FBQUEsTUFDZjtBQUFBLElBQ0Q7QUFDQSxXQUFPLE1BQU0sS0FBSyxHQUFHO0FBQUEsRUFDdEI7QUFBQSxFQUVBLE1BQU0sb0JBQW1CO0FBRXhCLFFBQUksT0FBTyxLQUFLLE1BQU07QUFDdEIsUUFBSSxRQUFRLE1BQU0sS0FBSyxNQUFNLGdCQUFnQixNQUFLLEtBQUs7QUFFdkQsWUFBUSxLQUFLLE1BQU0sWUFBWSxPQUFNLENBQUMsU0FBUSxHQUFHLENBQUM7QUFDbEQsWUFBUSxLQUFLLE1BQU0scUJBQXFCLEtBQUs7QUFDN0MsUUFBRyxNQUFNLFNBQU8sR0FBRTtBQUNqQixVQUFJLE9BQU8sTUFBTSxLQUFLO0FBQUEsUUFDckIsS0FBSyxNQUFNO0FBQUEsVUFDVixNQUFNLElBQUksQ0FBQyxTQUFlLEtBQUssTUFBTSxnQkFBZ0IsSUFBSSxDQUFDO0FBQUEsUUFDM0Q7QUFBQSxRQUNBO0FBQUEsTUFDRDtBQUNBLFVBQUcsTUFBSztBQUNQLGNBQU0sS0FBSyxNQUFNLFVBQVUsSUFBSTtBQUFBLE1BQ2hDO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDsiLAogICJuYW1lcyI6IFsiZG9jdW1lbnQiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJrdiIsICJrIiwgInNlY3Rpb24iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJmIiwgInJlY2VudCIsICJsZWFmIiwgInRmaWxlIiwgInByZXYiLCAiaW1wb3J0X29ic2lkaWFuIiwgImUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJ0ZmlsZSIsICJzcmMiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInZhbHVlIiwgInR4dCIsICJzdHlsZSIsICJub3RlcyJdCn0K
