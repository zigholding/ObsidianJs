/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteSyncPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian6 = require("obsidian");

// src/fseditor.ts
var import_obsidian = require("obsidian");
var FsEditor = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.fs = plugin.app.vault.adapter.fs;
    this.path = plugin.app.vault.adapter.path;
  }
  get root() {
    let a = this.plugin.app.vault.adapter;
    return a.basePath.replace(/\\/g, "/");
  }
  get_tfile(path, only_first = true) {
    try {
      path = path.split("|")[0].replace("[[", "").replace("]]", "");
      let tfile = this.app.vault.getFileByPath(path);
      if (tfile) {
        return tfile;
      }
      let tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase());
      if (!tfiles) {
        tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase() + ".md");
        if (!tfiles) {
          return null;
        } else {
          path = path + ".md";
        }
      }
      let ctfiles = tfiles.filter((x) => x.name == path);
      if (ctfiles.length > 0) {
        if (only_first) {
          return ctfiles[0];
        } else {
          return ctfiles;
        }
      }
      if (tfiles.length > 0) {
        if (only_first) {
          return tfiles[0];
        } else {
          return tfiles;
        }
      }
      return null;
    } catch (e) {
      return null;
    }
  }
  get_inlinks(tfile, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let res = [];
    let inlinks = this.app.metadataCache.getBacklinksForFile(tfile);
    for (let [k, v] of inlinks.data) {
      let curr = this.app.vault.getFileByPath(k);
      if (curr) {
        res.push(curr);
      }
    }
    return res;
  }
  get_outlinks(tfile, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (!mcache) {
      return [];
    }
    let res = [];
    if (mcache.links) {
      for (let link of mcache.links) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (mcache.frontmatterLinks) {
      for (let link of mcache.frontmatterLinks) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (!only_md && mcache.embeds) {
      for (let link of mcache.embeds) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2)) {
          res.push(tfile2);
        }
      }
    }
    return res;
  }
  abspath(tfile) {
    if (tfile) {
      return (this.root + "/" + tfile.path).replace(/\\/g, "/");
    } else {
      return null;
    }
  }
  isfile(path) {
    return this.fs.existsSync(path) && this.fs.statSync(path).isFile();
  }
  isdir(path) {
    return this.fs.existsSync(path) && this.fs.statSync(path).isDirectory();
  }
  list_dir(path, as_fullpath = true) {
    if (!this.isdir(path)) {
      return [];
    }
    let items = this.fs.readdirSync(path);
    if (as_fullpath) {
      items = items.map(
        (x) => {
          return path + "/" + x;
        }
      );
    }
    return items;
  }
  first_valid_dir(paths) {
    if (typeof paths == "string") {
      if (this.isdir(paths)) {
        return paths;
      } else {
        return null;
      }
    }
    for (let path of paths) {
      if (this.isdir(path)) {
        return path;
      }
    }
    return null;
  }
  async select_valid_dir(paths, prompt_if_null = false) {
    let xpaths = paths.filter((p) => this.isdir(p));
    let path = null;
    if (xpaths.length > 0) {
      path = await this.plugin.dialog_suggest(xpaths, xpaths);
    }
    if (!path && prompt_if_null) {
      path = await this.plugin.dialog_prompt("Root of vault");
      if (!this.isdir(path)) {
        path = null;
      }
    }
    return path;
  }
  mkdir_recursive(path) {
    if (this.isdir(path)) {
      return true;
    }
    let parent = this.path.dirname(path);
    if (!this.isdir(parent)) {
      this.mkdir_recursive(parent);
    }
    this.fs.mkdirSync(path);
  }
  /**
  * 附件 src 到 dst，不在 vault 中，需要绝对路径
  * overwrite，复盖；mtime，新文件；
  */
  copy_file(src, dst, mode = "pass>overwrite>mtime") {
    let fs = this.fs;
    mode = mode.split(">")[0];
    if (!fs.existsSync(src)) {
      return false;
    }
    if (fs.existsSync(dst)) {
      if (mode === "overwrite") {
        fs.unlinkSync(dst);
        fs.copyFileSync(src, dst);
        return true;
      } else if (mode === "mtime") {
        if (fs.statSync(dst).mtimeMs < fs.statSync(src).mtimeMs) {
          fs.unlinkSync(dst);
          fs.copyFileSync(src, dst);
          return true;
        }
      }
    } else {
      fs.copyFileSync(src, dst);
      return true;
    }
    return false;
  }
  copy_tfile(tfile, dst, mode = "mtime") {
    if (tfile) {
      let src = this.abspath(tfile);
      return src && this.copy_file(src, dst, mode);
    }
    return false;
  }
  sync_tfile(tfile, vault_root, mode = "mtime", attachment = true, outlink = false) {
    if (tfile) {
      vault_root = vault_root.replace(/\\/g, "/");
      let src = this.root + "/" + tfile.path;
      let dst = vault_root + "/" + tfile.path;
      this.mkdir_recursive(this.path.dirname(dst));
      this.copy_file(src, dst, mode);
      if (attachment) {
        let tfiles = this.get_outlinks(tfile, false);
        for (let t of tfiles) {
          if (!(t.extension === "md")) {
            this.sync_tfile(t, vault_root, mode, false);
          } else if (outlink) {
            this.sync_tfile(t, vault_root, mode, false);
          }
        }
      }
    }
  }
  sync_tfolder(tfolder, vault_root, mode = "mtime", attachment = true, outlink = false, strict = false) {
    if (tfolder) {
      for (let t of tfolder.children) {
        if (t instanceof import_obsidian.TFolder) {
          this.sync_tfolder(t, vault_root, mode, attachment, outlink);
        } else if (t instanceof import_obsidian.TFile) {
          this.sync_tfile(t, vault_root, mode, attachment, outlink);
        }
      }
      if (strict) {
        let dst = vault_root + "/" + tfolder.path;
        let src = this.abspath(tfolder);
        if (src && dst) {
          this.remove_files_not_in_src(src, dst);
        }
      }
    }
  }
  delete_file_or_dir(path) {
    if (this.isfile(path)) {
      this.fs.unlinkSync(path);
    } else if (this.isdir(path)) {
      let items = this.list_dir(path, true);
      for (let item of items) {
        this.delete_file_or_dir(item);
      }
      this.fs.rmdirSync(path);
    }
  }
  remove_files_not_in_src(src, dst) {
    if (!this.isdir(src) || !this.isdir(dst)) {
      return;
    }
    let items = this.list_dir(dst, false);
    for (let item of items) {
      let adst = dst + "/" + item;
      let asrc = src + "/" + item;
      if (this.isfile(adst)) {
        if (!this.isfile(asrc)) {
          this.fs.unlinkSync(adst);
        }
      } else if (this.isdir(adst)) {
        if (!this.isdir(asrc)) {
          this.delete_file_or_dir(adst);
        } else {
          this.remove_files_not_in_src(asrc, adst);
        }
      }
    }
  }
  sync_folder(src, dst, mode = "mtime", strict = false) {
    if (!this.isdir(src)) {
      return;
    }
    this.mkdir_recursive(dst);
    if (!this.isdir(dst)) {
      return;
    }
    let items = this.list_dir(src, false);
    for (let item of items) {
      let asrc = this.path.join(src, item);
      let adst = this.path.join(dst, item);
      if (this.isfile(asrc)) {
        this.copy_file(asrc, adst, mode);
      } else if (this.isdir(asrc)) {
        this.sync_folder(asrc, adst, mode, strict);
      }
    }
    if (strict) {
      this.remove_files_not_in_src(src, dst);
    }
  }
  modify(path, callback, encoding = "utf8") {
    let fs = this.fs;
    if (!fs.existsSync(path)) {
      return;
    }
    ;
    fs.readFile(
      path,
      encoding,
      (err, data) => {
        if (err) {
          return;
        }
        let rs = callback(path, data);
        fs.writeFile(path, rs, encoding, (err2) => {
          return;
        });
      }
    );
  }
};

// src/strings.ts
var Strings = class {
  constructor() {
    let lang = window.localStorage.getItem("language");
    if (lang) {
      this.language = lang;
    } else {
      this.language = "en";
    }
  }
  get cmd_export_current_note() {
    if (this.language == "zh") {
      return "\u5BFC\u51FA\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Export current note";
    }
  }
  get cmd_set_vexporter() {
    if (this.language == "zh") {
      return "\u8BBE\u7F6E\u5BFC\u51FA\u7B14\u8BB0\u9009\u9879";
    } else {
      return "Set config to export note";
    }
  }
  get cmd_export_plugin() {
    if (this.language == "zh") {
      return "\u5BFC\u51FA\u63D2\u4EF6";
    } else {
      return "Export plugin";
    }
  }
  get prompt_path_of_folder() {
    if (this.language == "zh") {
      return "\u8F93\u5165\u6587\u4EF6\u5939\u8DEF\u5F84";
    } else {
      return "Input path of folder";
    }
  }
  get notice_output() {
    if (this.language == "zh") {
      return "\u5BFC\u51FA\uFF1A";
    } else {
      return "Output:";
    }
  }
  get notice_nosuchdir() {
    if (this.language == "zh") {
      return "\u65E0\u6548\u76EE\u5F55";
    } else {
      return "Invaid path.";
    }
  }
  get setting_vault_dir() {
    if (this.language == "zh") {
      return "\u5E93\u76EE\u5F55";
    } else {
      return "Root dir of vault";
    }
  }
  get setting_strict_mode() {
    if (this.language == "zh") {
      return "\u4E25\u683C\u6A21\u5F0F?";
    } else {
      return "Strict mode?";
    }
  }
  get setting_strict_mode_desc() {
    if (this.language == "zh") {
      return "\u5371\u9669\uFF01\u540C\u6B65\u65F6\u5220\u9664\u76EE\u6807\u5E93\u4E2D\u591A\u51FA\u7684\u6587\u4EF6";
    } else {
      return "Danger! Delet files or folders in target vault but not in current vault.";
    }
  }
  get item_copy_data_json() {
    if (this.language == "zh") {
      return "\u590D\u5236 data.json";
    } else {
      return "Copy data.json";
    }
  }
  get item_skip_data_json() {
    if (this.language == "zh") {
      return "\u8DF3\u8FC7 data.json";
    } else {
      return "Skip data.json";
    }
  }
  get item_sync_vault() {
    if (this.language == "zh") {
      return "\u540C\u6B65\u5230\u5176\u5B83\u5E93";
    } else {
      return "Sync to other vault";
    }
  }
};
var strings = new Strings();

// src/setting.ts
var import_obsidian2 = require("obsidian");
var DEFAULT_SETTINGS = {
  strict_mode: false,
  vaultDir: ""
};
var MySettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  getSettingValue(field) {
    return this.plugin.settings[field];
  }
  add_toggle(name, desc, field) {
    let { containerEl } = this;
    let value = this.plugin.settings[field];
    let item = new import_obsidian2.Setting(containerEl).setName(name).setDesc(desc).addToggle(
      (text) => text.setValue(value).onChange(async (value2) => {
        this.plugin.settings[field] = value2;
        await this.plugin.saveSettings();
      })
    );
    return item;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian2.Setting(containerEl).setName(this.plugin.strings.setting_vault_dir).addTextArea((text) => text.setValue(this.plugin.settings.vaultDir).onChange(async (value) => {
      this.plugin.settings.vaultDir = value;
      await this.plugin.saveSettings();
    }));
    this.add_toggle(
      this.plugin.strings.setting_strict_mode,
      this.plugin.strings.setting_strict_mode_desc,
      "strict_mode"
    );
  }
};

// src/commands.ts
var import_obsidian3 = require("obsidian");
var cmd_export_current_note = (plugin) => ({
  id: "cmd_export_current_note",
  name: plugin.strings.cmd_export_current_note,
  callback: async () => {
    let tfile = plugin.app.workspace.getActiveFile();
    await plugin.export_readme(tfile, null);
  }
});
var cmd_set_vexporter = (plugin) => ({
  id: "cmd_set_vexporter",
  name: plugin.strings.cmd_set_vexporter,
  callback: async () => {
    let tfile = plugin.app.workspace.getActiveFile();
    if (!tfile) {
      return;
    }
    let dir = await plugin.dialog_prompt(plugin.strings.prompt_path_of_folder);
    let item = {};
    if (plugin.fsEditor.fs.existsSync(dir)) {
      item["Dir"] = dir;
    }
    item["Name"] = "readMe";
    item["Assets"] = "./assets";
    item["RemoveMeta"] = true;
    item["UseGitLink"] = true;
    await plugin.app.fileManager.processFrontMatter(
      tfile,
      async (fm) => {
        fm[plugin.yaml] = item;
      }
    );
  }
});
var cmd_export_plugin = (plugin) => ({
  id: "cmd_export_plugin",
  name: plugin.strings.cmd_export_plugin,
  callback: async () => {
    let plugins = Object.keys(plugin.app.plugins.plugins);
    let p = await plugin.dialog_suggest(plugins, plugins);
    let eplugin = plugin.app.plugins.getPlugin(p);
    if (eplugin) {
      let paths = plugin.settings.vaultDir.split("\n");
      let target = await plugin.fsEditor.select_valid_dir(
        paths
      );
      if (target) {
        let items2 = plugin.fsEditor.list_dir(target, false);
        items2 = items2.filter((x) => x.startsWith(".") && x != ".git").filter(
          (x) => {
            let path = plugin.fsEditor.path.join(target, x);
            if (!plugin.fsEditor.isdir(path)) {
              return false;
            }
            let items3 = plugin.fsEditor.list_dir(path, false);
            return items3.contains("plugins");
          }
        );
        if (items2.length == 1) {
          target = plugin.fsEditor.path.join(target, items2[0], "plugins");
        } else if (items2.length > 1) {
          let item = await plugin.dialog_suggest(
            items2,
            items2,
            "config"
          );
          if (item) {
            target = plugin.fsEditor.path.join(target, item, "plugins");
          }
        }
      }
      if (!plugin.fsEditor.fs.existsSync(target) || plugin.fsEditor.path.basename(target) != "plugins") {
        target = await plugin.dialog_prompt(plugin.strings.prompt_path_of_folder);
      }
      target = target.replace(/\\/g, "/");
      if (!target.endsWith("/" + p)) {
        target = target + "/" + p;
      }
      if (!plugin.fsEditor.fs.existsSync(target)) {
        plugin.fsEditor.fs.mkdirSync(target);
      }
      let items = ["main.js", "manifest.json", "styles.css"];
      let dj = await plugin.dialog_suggest(
        [plugin.strings.item_skip_data_json, plugin.strings.item_copy_data_json],
        [false, true],
        ""
      );
      if (dj) {
        items.push("data.json");
      }
      for (let item of items) {
        let src = `${plugin.fsEditor.root}/${eplugin.manifest.dir}/${item}`;
        let dst = `${target}/${item}`;
        let flag = plugin.fsEditor.copy_file(src, dst, "overwrite");
        if (flag) {
          new import_obsidian3.Notice(`Copy ${item} to ${target}`, 5e3);
        }
      }
    }
  }
});
var commandBuilders = [
  cmd_export_current_note,
  cmd_set_vexporter,
  cmd_export_plugin
];
var commandBuildersDesktop = [];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
  if (plugin.app.isMobile == false) {
    commandBuildersDesktop.forEach((c) => {
      plugin.addCommand(c(plugin));
    });
  }
}

// src/gui/inputSuggester.ts
var import_obsidian4 = require("obsidian");
var InputSuggester = class extends import_obsidian4.FuzzySuggestModal {
  constructor(app, displayItems, items, options = {}) {
    super(app);
    this.displayItems = displayItems;
    this.items = items;
    this.promise = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.inputEl.addEventListener("keydown", (event) => {
      var _a;
      if (event.code !== "Tab") {
        return;
      }
      const self = this;
      const { values, selectedItem } = self.chooser;
      const { value } = this.inputEl;
      this.inputEl.value = (_a = values[selectedItem].item) != null ? _a : value;
    });
    if (options.placeholder)
      this.setPlaceholder(options.placeholder);
    if (options.limit)
      this.limit = options.limit;
    if (options.emptyStateText)
      this.emptyStateText = options.emptyStateText;
    this.open();
  }
  static Suggest(app, displayItems, items, options = {}) {
    const newSuggester = new InputSuggester(
      app,
      displayItems,
      items,
      options
    );
    return newSuggester.promise;
  }
  getItemText(item) {
    if (item === this.inputEl.value)
      return item;
    return this.displayItems[this.items.indexOf(item)];
  }
  getItems() {
    if (this.inputEl.value === "")
      return this.items;
    return [this.inputEl.value, ...this.items];
  }
  selectSuggestion(value, evt) {
    this.resolved = true;
    super.selectSuggestion(value, evt);
  }
  onChooseItem(item, evt) {
    this.resolved = true;
    this.resolvePromise(item);
  }
  onClose() {
    super.onClose();
    if (!this.resolved)
      this.rejectPromise("no input given.");
  }
};
async function dialog_suggest(displayItems, items, placeholder = "") {
  try {
    return await InputSuggester.Suggest(
      this.app,
      displayItems,
      items,
      {
        placeholder
      }
    );
  } catch (error) {
    return null;
  }
}

// src/gui/inputPrompt.ts
var import_obsidian5 = require("obsidian");
var InputPrompt = class extends import_obsidian5.Modal {
  constructor(app, header, placeholder, value) {
    super(app);
    this.header = header;
    this.didSubmit = false;
    this.submitClickCallback = (evt) => this.submit();
    this.cancelClickCallback = (evt) => this.cancel();
    this.submitEnterCallback = (evt) => {
      if (!evt.isComposing && evt.key === "Enter") {
        evt.preventDefault();
        this.submit();
      }
    };
    this.placeholder = placeholder != null ? placeholder : "";
    this.input = value != null ? value : "";
    this.waitForClose = new Promise((resolve, reject) => {
      this.resolvePromise = resolve;
      this.rejectPromise = reject;
    });
    this.display();
    this.open();
  }
  static Prompt(app, header, placeholder, value) {
    const newPromptModal = new InputPrompt(
      app,
      header,
      placeholder,
      value
    );
    return newPromptModal.waitForClose;
  }
  display() {
    this.containerEl.addClass("quickAddModal", "qaInputPrompt");
    this.contentEl.empty();
    this.titleEl.textContent = this.header;
    const mainContentContainer = this.contentEl.createDiv();
    this.inputComponent = this.createInputField(
      mainContentContainer,
      this.placeholder,
      this.input
    );
    this.createButtonBar(mainContentContainer);
  }
  createInputField(container, placeholder, value) {
    const textComponent = new import_obsidian5.TextComponent(container);
    textComponent.inputEl.style.width = "100%";
    textComponent.setPlaceholder(placeholder != null ? placeholder : "").setValue(value != null ? value : "").onChange((value2) => this.input = value2).inputEl.addEventListener("keydown", this.submitEnterCallback);
    return textComponent;
  }
  createButton(container, text, callback) {
    const btn = new import_obsidian5.ButtonComponent(container);
    btn.setButtonText(text).onClick(callback);
    return btn;
  }
  createButtonBar(mainContentContainer) {
    const buttonBarContainer = mainContentContainer.createDiv();
    this.createButton(
      buttonBarContainer,
      "Ok",
      this.submitClickCallback
    ).setCta().buttonEl.style.marginRight = "0";
    this.createButton(
      buttonBarContainer,
      "Cancel",
      this.cancelClickCallback
    );
    buttonBarContainer.style.display = "flex";
    buttonBarContainer.style.flexDirection = "row-reverse";
    buttonBarContainer.style.justifyContent = "flex-start";
    buttonBarContainer.style.marginTop = "1rem";
    buttonBarContainer.style.gap = "0.5rem";
  }
  submit() {
    this.didSubmit = true;
    this.close();
  }
  cancel() {
    this.close();
  }
  resolveInput() {
    if (!this.didSubmit)
      this.rejectPromise("No input given.");
    else
      this.resolvePromise(this.input);
  }
  removeInputListener() {
    this.inputComponent.inputEl.removeEventListener(
      "keydown",
      this.submitEnterCallback
    );
  }
  onOpen() {
    super.onOpen();
    this.inputComponent.inputEl.focus();
    this.inputComponent.inputEl.select();
  }
  onClose() {
    super.onClose();
    this.resolveInput();
    this.removeInputListener();
  }
};
async function dialog_prompt(header = "Input", placeholder = "", value = "") {
  try {
    return await InputPrompt.Prompt(
      this.app,
      header,
      placeholder,
      value
    );
  } catch (e) {
    return null;
  }
}

// main.ts
var NoteSyncPlugin = class extends import_obsidian6.Plugin {
  async onload() {
    this.dialog_suggest = dialog_suggest;
    this.dialog_prompt = dialog_prompt;
    this.app.workspace.onLayoutReady(
      async () => {
        await this._onload_();
      }
    );
  }
  async _onload_() {
    this.yaml = "note-sync";
    this.strings = new Strings();
    await this.loadSettings();
    this.fsEditor = new FsEditor(this);
    this.addSettingTab(new MySettingTab(this.app, this));
    addCommands(this);
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        menu.addItem((item) => {
          item.setTitle(this.strings.item_sync_vault).setIcon("document").onClick(async () => {
            let dst = await this.fsEditor.select_valid_dir(
              this.settings.vaultDir.split("\n")
            );
            if (!dst) {
              dst = await this.dialog_prompt("Root of vault");
              if (!this.fsEditor.isdir(dst)) {
                new import_obsidian6.Notice("Invalid root: " + dst);
                return;
              }
            }
            if (file instanceof import_obsidian6.TFile) {
              this.fsEditor.sync_tfile(file, dst, "mtime", true, false);
            } else if (file instanceof import_obsidian6.TFolder) {
              this.fsEditor.sync_tfolder(file, dst, "mtime", true, false);
            }
          });
        });
      })
    );
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async export_readme(tfile, dst) {
    if (!tfile) {
      tfile = this.app.workspace.getActiveFile();
    }
    if (!tfile) {
      return;
    }
    await this.app.fileManager.processFrontMatter(
      tfile,
      async (fm) => {
        var _a, _b, _c, _d, _e;
        if (!tfile) {
          return;
        }
        if (!dst) {
          dst = (_a = fm[this.yaml]) == null ? void 0 : _a.Dir;
          if (!dst) {
            dst = await this.dialog_prompt("Path of LocalGitProject");
          }
        }
        if (!dst || !this.fsEditor.isdir(dst)) {
          new import_obsidian6.Notice(this.strings.notice_nosuchdir, 3e3);
          return;
        }
        dst = dst.replace(/\\/g, "/");
        let target;
        let name = (_b = fm[this.yaml]) == null ? void 0 : _b.Name;
        if (name && !(name == "")) {
          target = dst + "/" + name + ".md";
        } else {
          target = dst + "/" + tfile.basename + ".md";
        }
        let data = await this.app.vault.cachedRead(tfile);
        if ((_c = fm[this.yaml]) == null ? void 0 : _c.RemoveMeta) {
          data = data.replace(
            /---[\n(\r\n)][\s\S]*?---[\n(\r\n)]/,
            ""
          );
        }
        let assets = (_d = fm[this.yaml]) == null ? void 0 : _d.Assets;
        if (((_e = fm[this.yaml]) == null ? void 0 : _e.UseGitLink) && assets) {
          data = data.replace(
            /\!\[\[(.*?)\]\]/g,
            (match, name2) => {
              return `![${name2}](${assets}/${name2.replace(/ /g, "%20")})`;
            }
          );
        }
        await this.fsEditor.fs.writeFile(
          target,
          data,
          "utf-8",
          (err) => {
            return;
          }
        );
        new import_obsidian6.Notice(`Export to ${target}`, 5e3);
        if (assets) {
          let olinks = this.fsEditor.get_outlinks(tfile, false);
          let adir = this.fsEditor.path.join(dst, assets);
          this.fsEditor.mkdir_recursive(adir);
          for (let f of olinks) {
            if (!(f.extension === "md")) {
              let flag = this.fsEditor.copy_tfile(f, adir + "/" + f.basename + "." + f.extension);
              if (flag) {
                new import_obsidian6.Notice(`Copy ${f.name}`, 5e3);
              }
            }
          }
        }
      }
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvZnNlZGl0b3IudHMiLCAic3JjL3N0cmluZ3MudHMiLCAic3JjL3NldHRpbmcudHMiLCAic3JjL2NvbW1hbmRzLnRzIiwgInNyYy9ndWkvaW5wdXRTdWdnZXN0ZXIudHMiLCAic3JjL2d1aS9pbnB1dFByb21wdC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtOb3RpY2UsIFBsdWdpbiwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgeyBGc0VkaXRvciB9IGZyb20gJ3NyYy9mc2VkaXRvcic7XHJcbmltcG9ydCB7IFN0cmluZ3MgfSBmcm9tICdzcmMvc3RyaW5ncyc7XHJcbmltcG9ydCB7TXlTZXR0aW5ncyxNeVNldHRpbmdUYWIsREVGQVVMVF9TRVRUSU5HU30gZnJvbSAnc3JjL3NldHRpbmcnXHJcblxyXG5pbXBvcnQgeyBhZGRDb21tYW5kcyB9IGZyb20gJ3NyYy9jb21tYW5kcyc7XHJcblxyXG5pbXBvcnQge2RpYWxvZ19zdWdnZXN0fSBmcm9tICdzcmMvZ3VpL2lucHV0U3VnZ2VzdGVyJ1xyXG5pbXBvcnQge2RpYWxvZ19wcm9tcHR9IGZyb20gJ3NyYy9ndWkvaW5wdXRQcm9tcHQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlU3luY1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcblx0c3RyaW5ncyA6IFN0cmluZ3M7XHJcblx0c2V0dGluZ3M6IE15U2V0dGluZ3M7XHJcblx0ZnNFZGl0b3IgOiBGc0VkaXRvcjtcclxuXHR5YW1sOiBzdHJpbmc7XHJcblx0ZGlhbG9nX3N1Z2dlc3Q6IEZ1bmN0aW9uXHJcblx0ZGlhbG9nX3Byb21wdDogRnVuY3Rpb25cclxuXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHRoaXMuZGlhbG9nX3N1Z2dlc3QgPSBkaWFsb2dfc3VnZ2VzdFxyXG5cdFx0dGhpcy5kaWFsb2dfcHJvbXB0ID0gZGlhbG9nX3Byb21wdFxyXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoXHJcblx0XHRcdGFzeW5jKCk9PntcclxuXHRcdFx0XHRhd2FpdCB0aGlzLl9vbmxvYWRfKClcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdH1cclxuXHJcblx0YXN5bmMgX29ubG9hZF8oKSB7XHJcblx0XHR0aGlzLnlhbWwgPSAnbm90ZS1zeW5jJ1xyXG5cdFx0dGhpcy5zdHJpbmdzID0gbmV3IFN0cmluZ3MoKTtcclxuXHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5mc0VkaXRvciA9IG5ldyBGc0VkaXRvcih0aGlzKTtcclxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IE15U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdFx0YWRkQ29tbWFuZHModGhpcyk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW1lbnVcIiwgKG1lbnUsIGZpbGUpID0+IHtcclxuXHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdC5zZXRUaXRsZSh0aGlzLnN0cmluZ3MuaXRlbV9zeW5jX3ZhdWx0KVxyXG5cdFx0XHRcdFx0LnNldEljb24oXCJkb2N1bWVudFwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRsZXQgZHN0ID0gYXdhaXQgdGhpcy5mc0VkaXRvci5zZWxlY3RfdmFsaWRfZGlyKFxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MudmF1bHREaXIuc3BsaXQoXCJcXG5cIilcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0aWYoIWRzdCl7XHJcblx0XHRcdFx0XHRcdFx0ZHN0ID0gYXdhaXQgdGhpcy5kaWFsb2dfcHJvbXB0KFwiUm9vdCBvZiB2YXVsdFwiKTtcclxuXHRcdFx0XHRcdFx0XHRpZighdGhpcy5mc0VkaXRvci5pc2Rpcihkc3QpKXtcclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJJbnZhbGlkIHJvb3Q6IFwiICsgZHN0KTtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0aWYoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmZzRWRpdG9yLnN5bmNfdGZpbGUoZmlsZSxkc3QsJ210aW1lJyx0cnVlLGZhbHNlKTtcclxuXHJcblx0XHRcdFx0XHRcdH1lbHNlIGlmKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKXtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmZzRWRpdG9yLnN5bmNfdGZvbGRlcihmaWxlLGRzdCwnbXRpbWUnLHRydWUsZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHtcclxuXHRcdFxyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHRcclxuXHRhc3luYyBleHBvcnRfcmVhZG1lKHRmaWxlOlRGaWxlfG51bGwsZHN0OnN0cmluZ3xudWxsKXtcclxuXHRcdGlmKCF0ZmlsZSl7dGZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO31cclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJufVxyXG5cclxuXHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnByb2Nlc3NGcm9udE1hdHRlcihcclxuXHRcdFx0dGZpbGUsXHJcblx0XHRcdGFzeW5jKGZtKSA9PntcclxuXHRcdFx0XHRpZighdGZpbGUpe3JldHVybn1cclxuXHRcdFx0XHQvLyBzZXQgb3V0cHV0IGRpci9cdThCQkVcdTdGNkVcdThGOTNcdTUxRkFcdTc2RUVcdTVGNTVcclxuXHRcdFx0XHRpZighZHN0KXtcclxuXHRcdFx0XHRcdGRzdCA9IGZtW3RoaXMueWFtbF0/LkRpclxyXG5cdFx0XHRcdFx0aWYoIWRzdCl7XHJcblx0XHRcdFx0XHRcdGRzdCA9IGF3YWl0IHRoaXMuZGlhbG9nX3Byb21wdCgnUGF0aCBvZiBMb2NhbEdpdFByb2plY3QnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYoIWRzdCB8fCAhdGhpcy5mc0VkaXRvci5pc2Rpcihkc3QpKXtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UodGhpcy5zdHJpbmdzLm5vdGljZV9ub3N1Y2hkaXIsMzAwMCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGRzdCA9IGRzdC5yZXBsYWNlKC9cXFxcL2csJy8nKTtcclxuXHJcblx0XHRcdFx0Ly8gc2V0IHRhcmdldCBmaWxlbmFtZS9cdTY1ODdcdTRFRjZcdTU0MERcclxuXHRcdFx0XHRsZXQgdGFyZ2V0O1xyXG5cdFx0XHRcdGxldCBuYW1lID0gZm1bdGhpcy55YW1sXT8uTmFtZTtcclxuXHRcdFx0XHRpZihuYW1lICYmICEobmFtZT09JycpKXtcclxuXHRcdFx0XHRcdHRhcmdldCA9IGRzdCsnLycrbmFtZSsnLm1kJztcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHRhcmdldCA9IGRzdCsnLycrdGZpbGUuYmFzZW5hbWUrJy5tZCc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGxldCBkYXRhID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSlcclxuXHRcdFx0XHRpZihmbVt0aGlzLnlhbWxdPy5SZW1vdmVNZXRhKXtcclxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhLnJlcGxhY2UoXHJcblx0XHRcdFx0XHRcdC8tLS1bXFxuKFxcclxcbildW1xcc1xcU10qPy0tLVtcXG4oXFxyXFxuKV0vLFxyXG5cdFx0XHRcdFx0XHQnJ1xyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQgYXNzZXRzID0gZm1bdGhpcy55YW1sXT8uQXNzZXRzXHJcblxyXG5cdFx0XHRcdGlmKGZtW3RoaXMueWFtbF0/LlVzZUdpdExpbmsgJiYgYXNzZXRzKXtcclxuXHRcdFx0XHRcdGRhdGEgPSBkYXRhLnJlcGxhY2UoXHJcblx0XHRcdFx0XHRcdC9cXCFcXFtcXFsoLio/KVxcXVxcXS9nLFxyXG5cdFx0XHRcdFx0XHQobWF0Y2g6YW55LCBuYW1lOnN0cmluZykgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBgIVske25hbWV9XSgke2Fzc2V0c30vJHtuYW1lLnJlcGxhY2UoLyAvZywnJTIwJyl9KWA7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5mc0VkaXRvci5mcy53cml0ZUZpbGUoXHJcblx0XHRcdFx0XHR0YXJnZXQsIGRhdGEsICd1dGYtOCcsIFxyXG5cdFx0XHRcdFx0KGVycjpFcnJvcikgPT4ge3JldHVybjt9XHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdG5ldyBOb3RpY2UoYEV4cG9ydCB0byAke3RhcmdldH1gLDUwMDApXHJcblx0XHRcdFx0aWYoYXNzZXRzKXtcclxuXHRcdFx0XHRcdGxldCBvbGlua3MgPSB0aGlzLmZzRWRpdG9yLmdldF9vdXRsaW5rcyh0ZmlsZSxmYWxzZSk7XHJcblx0XHRcdFx0XHRsZXQgYWRpciA9IHRoaXMuZnNFZGl0b3IucGF0aC5qb2luKGRzdCxhc3NldHMpO1xyXG5cdFx0XHRcdFx0dGhpcy5mc0VkaXRvci5ta2Rpcl9yZWN1cnNpdmUoYWRpcik7XHJcblx0XHRcdFx0XHRmb3IobGV0IGYgb2Ygb2xpbmtzKXtcclxuXHRcdFx0XHRcdFx0aWYoIShmLmV4dGVuc2lvbj09PSdtZCcpKXtcclxuXHRcdFx0XHRcdFx0XHRsZXQgZmxhZyA9IHRoaXMuZnNFZGl0b3IuY29weV90ZmlsZShmLGFkaXIrJy8nK2YuYmFzZW5hbWUrJy4nK2YuZXh0ZW5zaW9uKTtcclxuXHRcdFx0XHRcdFx0XHRpZihmbGFnKXtcclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYENvcHkgJHtmLm5hbWV9YCw1MDAwKVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdH1cclxufVxyXG4iLCAiXHJcbmltcG9ydCB7IEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVEZpbGUsIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCBOb3RlU3luY1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5leHBvcnQgY2xhc3MgRnNFZGl0b3J7XHJcbiAgICBmcztcclxuICAgIGFwcDpBcHA7XHJcbiAgICBwYXRoO1xyXG4gICAgcGx1Z2luIDpOb3RlU3luY1BsdWdpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZVN5bmNQbHVnaW4pe1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuICAgICAgICB0aGlzLmZzID0gKHBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmZzO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IChwbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5wYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByb290KCl7XHJcbiAgICAgICAgbGV0IGEgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnk7XHJcbiAgICAgICAgcmV0dXJuIGEuYmFzZVBhdGgucmVwbGFjZSgvXFxcXC9nLCcvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X3RmaWxlKHBhdGg6c3RyaW5nLG9ubHlfZmlyc3Q9dHJ1ZSl7XHJcblx0XHR0cnl7XHJcblx0XHRcdHBhdGggPSBwYXRoLnNwbGl0KCd8JylbMF0ucmVwbGFjZSgnW1snLCcnKS5yZXBsYWNlKCddXScsJycpO1xyXG5cdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKHBhdGgpXHJcblx0XHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCB0ZmlsZXMgPSAodGhpcy5hcHAubWV0YWRhdGFDYWNoZSBhcyBhbnkpLnVuaXF1ZUZpbGVMb29rdXAuZ2V0KHBhdGgudG9Mb3dlckNhc2UoKSk7XHJcblx0XHRcdGlmKCF0ZmlsZXMpe1xyXG5cdFx0XHRcdHRmaWxlcyA9ICh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueSkudW5pcXVlRmlsZUxvb2t1cC5nZXQocGF0aC50b0xvd2VyQ2FzZSgpKycubWQnKTtcclxuXHRcdFx0XHRpZighdGZpbGVzKXtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cGF0aCA9IHBhdGgrJy5tZCdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCBjdGZpbGVzID0gdGZpbGVzLmZpbHRlcigoeDpURmlsZSk9PngubmFtZT09cGF0aClcclxuXHRcdFx0aWYoY3RmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdFx0aWYob25seV9maXJzdCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gY3RmaWxlc1swXVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cmV0dXJuIGN0ZmlsZXNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKHRmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdFx0aWYob25seV9maXJzdCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGZpbGVzWzBdXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGZpbGVzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fWNhdGNoe1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhwYXRoKVxyXG5cdFx0XHRyZXR1cm4gbnVsbFxyXG5cdFx0fVxyXG5cdH1cclxuXHJcbiAgICBnZXRfaW5saW5rcyh0ZmlsZTpURmlsZSxvbmx5X21kPXRydWUpOkFycmF5PFRGaWxlPntcclxuXHRcdGlmKHRmaWxlPT1udWxsKXtyZXR1cm4gW107fVxyXG5cdFx0bGV0IHJlczpBcnJheTxURmlsZT4gPSBbXVxyXG5cclxuXHRcdGxldCBpbmxpbmtzID0gKHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUgYXMgYW55KS5nZXRCYWNrbGlua3NGb3JGaWxlKHRmaWxlKTtcclxuXHRcdGZvcihsZXQgW2ssdl0gb2YgaW5saW5rcy5kYXRhKXtcclxuXHRcdFx0bGV0IGN1cnIgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKGspO1xyXG5cdFx0XHRpZihjdXJyKXtcclxuXHRcdFx0XHRyZXMucHVzaChjdXJyKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzO1xyXG5cdH1cclxuXHJcblx0Z2V0X291dGxpbmtzKHRmaWxlOlRGaWxlLG9ubHlfbWQ9dHJ1ZSk6QXJyYXk8VEZpbGU+e1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybiBbXTt9XHJcblxyXG5cdFx0bGV0IG1jYWNoZSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdGlmKCFtY2FjaGUpe3JldHVybiBbXTt9XHJcblxyXG5cdFx0bGV0IHJlczpBcnJheTxURmlsZT4gPSBbXTtcclxuXHRcdGlmKG1jYWNoZS5saW5rcyl7XHJcblx0XHRcdGZvcihsZXQgbGluayBvZiBtY2FjaGUubGlua3Mpe1xyXG5cdFx0XHRcdGxldCB0ZmlsZSA9IHRoaXMuZ2V0X3RmaWxlKGxpbmsubGluayk7XHJcblx0XHRcdFx0aWYodGZpbGUgJiYgIXJlcy5jb250YWlucyh0ZmlsZSkgJiYgIShvbmx5X21kICYmIHRmaWxlLmV4dGVuc2lvbiE9J21kJykpe1xyXG5cdFx0XHRcdFx0cmVzLnB1c2godGZpbGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYobWNhY2hlLmZyb250bWF0dGVyTGlua3Mpe1xyXG5cdFx0XHRmb3IobGV0IGxpbmsgb2YgbWNhY2hlLmZyb250bWF0dGVyTGlua3Mpe1xyXG5cdFx0XHRcdGxldCB0ZmlsZSA9IHRoaXMuZ2V0X3RmaWxlKGxpbmsubGluayk7XHJcblx0XHRcdFx0aWYodGZpbGUgJiYgIXJlcy5jb250YWlucyh0ZmlsZSkgJiYgIShvbmx5X21kICYmIHRmaWxlLmV4dGVuc2lvbiE9J21kJykpe1xyXG5cdFx0XHRcdFx0cmVzLnB1c2godGZpbGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYoIW9ubHlfbWQgJiYgbWNhY2hlLmVtYmVkcyl7XHJcblx0XHRcdGZvcihsZXQgbGluayBvZiBtY2FjaGUuZW1iZWRzKXtcclxuXHRcdFx0XHRsZXQgdGZpbGUgPSB0aGlzLmdldF90ZmlsZShsaW5rLmxpbmspO1xyXG5cdFx0XHRcdGlmKHRmaWxlICYmICFyZXMuY29udGFpbnModGZpbGUpKXtcclxuXHRcdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHJcbiAgICBhYnNwYXRoKHRmaWxlOlRGaWxlfFRGb2xkZXIpe1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gKHRoaXMucm9vdCsnLycrdGZpbGUucGF0aCkucmVwbGFjZSgvXFxcXC9nLCcvJyk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuICAgIGlzZmlsZShwYXRoOnN0cmluZyl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnMuZXhpc3RzU3luYyhwYXRoKSAmJiB0aGlzLmZzLnN0YXRTeW5jKHBhdGgpLmlzRmlsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzZGlyKHBhdGg6c3RyaW5nKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcy5leGlzdHNTeW5jKHBhdGgpICYmIHRoaXMuZnMuc3RhdFN5bmMocGF0aCkuaXNEaXJlY3RvcnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBsaXN0X2RpcihwYXRoOnN0cmluZyxhc19mdWxscGF0aD10cnVlKXtcclxuICAgICAgICBpZighdGhpcy5pc2RpcihwYXRoKSl7cmV0dXJuIFtdfVxyXG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMuZnMucmVhZGRpclN5bmMocGF0aClcclxuICAgICAgICBpZihhc19mdWxscGF0aCl7XHJcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMubWFwKFxyXG4gICAgICAgICAgICAgICAgKHg6c3RyaW5nKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoKycvJyt4XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9ICAgXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zXHJcbiAgICB9XHJcblxyXG4gICAgZmlyc3RfdmFsaWRfZGlyKHBhdGhzOkFycmF5PHN0cmluZz58c3RyaW5nKXtcclxuICAgICAgICBpZih0eXBlb2YocGF0aHMpPT0nc3RyaW5nJyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNkaXIocGF0aHMpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoc1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBwYXRoIG9mIHBhdGhzKXtcclxuICAgICAgICAgICAgaWYodGhpcy5pc2RpcihwYXRoKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWxlY3RfdmFsaWRfZGlyKHBhdGhzOkFycmF5PHN0cmluZz4scHJvbXB0X2lmX251bGw9ZmFsc2Upe1xyXG4gICAgICAgIGxldCB4cGF0aHMgPSBwYXRocy5maWx0ZXIoKHA6c3RyaW5nKT0+dGhpcy5pc2RpcihwKSk7XHJcbiAgICAgICAgbGV0IHBhdGggPSBudWxsO1xyXG4gICAgICAgIGlmKHhwYXRocy5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgIHBhdGggPSBhd2FpdCB0aGlzLnBsdWdpbi5kaWFsb2dfc3VnZ2VzdCh4cGF0aHMseHBhdGhzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXBhdGggJiYgcHJvbXB0X2lmX251bGwpe1xyXG4gICAgICAgICAgICBwYXRoID0gYXdhaXQgdGhpcy5wbHVnaW4uZGlhbG9nX3Byb21wdChcIlJvb3Qgb2YgdmF1bHRcIik7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzZGlyKHBhdGgpKXtcclxuICAgICAgICAgICAgICAgIHBhdGggPSBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGhcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBta2Rpcl9yZWN1cnNpdmUocGF0aDpzdHJpbmcpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNkaXIocGF0aCkpe3JldHVybiB0cnVlO31cclxuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXRoLmRpcm5hbWUocGF0aCk7XHJcbiAgICAgICAgaWYoIXRoaXMuaXNkaXIocGFyZW50KSl7XHJcbiAgICAgICAgICAgIHRoaXMubWtkaXJfcmVjdXJzaXZlKHBhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZnMubWtkaXJTeW5jKHBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG5cdCogXHU5NjQ0XHU0RUY2IHNyYyBcdTUyMzAgZHN0XHVGRjBDXHU0RTBEXHU1NzI4IHZhdWx0IFx1NEUyRFx1RkYwQ1x1OTcwMFx1ODk4MVx1N0VERFx1NUJGOVx1OERFRlx1NUY4NFxyXG5cdCogb3ZlcndyaXRlXHVGRjBDXHU1OTBEXHU3NkQ2XHVGRjFCbXRpbWVcdUZGMENcdTY1QjBcdTY1ODdcdTRFRjZcdUZGMUJcclxuXHQqL1xyXG4gICAgY29weV9maWxlKHNyYzpzdHJpbmcsZHN0OnN0cmluZyxtb2RlPSdwYXNzPm92ZXJ3cml0ZT5tdGltZScpIHtcclxuICAgICAgICBsZXQgZnMgPSB0aGlzLmZzO1xyXG5cclxuICAgICAgICBtb2RlID0gbW9kZS5zcGxpdCgnPicpWzBdXHJcbiAgICAgICAgaWYoIWZzLmV4aXN0c1N5bmMoc3JjKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZnMuZXhpc3RzU3luYyhkc3QpKXtcclxuICAgICAgICAgICAgaWYobW9kZT09PSdvdmVyd3JpdGUnKXtcclxuICAgICAgICAgICAgICAgIGZzLnVubGlua1N5bmMoZHN0KTtcclxuICAgICAgICAgICAgICAgIGZzLmNvcHlGaWxlU3luYyhzcmMsZHN0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihtb2RlPT09J210aW1lJyl7XHJcbiAgICAgICAgICAgICAgICAvLyBkc3QgXHU2NkY0XHU2NUIwXHU2NUY2XHU5NUY0XHU1QzBGXHU0RThFIHNyY1xyXG4gICAgICAgICAgICAgICAgaWYoZnMuc3RhdFN5bmMoZHN0KS5tdGltZU1zPGZzLnN0YXRTeW5jKHNyYykubXRpbWVNcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgZnMudW5saW5rU3luYyhkc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZzLmNvcHlGaWxlU3luYyhzcmMsZHN0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBmcy5jb3B5RmlsZVN5bmMoc3JjLGRzdCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29weV90ZmlsZSh0ZmlsZTpURmlsZSwgZHN0OnN0cmluZyxtb2RlPSdtdGltZScpIHtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IHNyYyA9IHRoaXMuYWJzcGF0aCh0ZmlsZSk7XHJcblx0XHRcdHJldHVybiBzcmMgJiYgdGhpcy5jb3B5X2ZpbGUoc3JjLGRzdCxtb2RlKTtcclxuXHRcdH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuICAgIHN5bmNfdGZpbGUodGZpbGU6VEZpbGUsdmF1bHRfcm9vdDpzdHJpbmcsbW9kZT0nbXRpbWUnLGF0dGFjaG1lbnQ9dHJ1ZSxvdXRsaW5rPWZhbHNlKXtcclxuICAgICAgICAvLyBcdTVDMDZcdTdCMTRcdThCQjBcdTk1NUNcdTUwQ0ZcdTc5RkJcdTUyQThcdTUyMzBcdTUyMkJcdTc2ODRcdTVFOTNcdTRFMkRcdUZGMENcdTY1ODdcdTRFRjZcdTdFRDNcdTY3ODRcdTRFMEVcdTVGNTNcdTUyNERcdTVFOTNcdTc2RjhcdTU0MENcclxuICAgICAgICBpZih0ZmlsZSl7XHJcbiAgICAgICAgICAgIHZhdWx0X3Jvb3QgPSB2YXVsdF9yb290LnJlcGxhY2UoL1xcXFwvZywnLycpO1xyXG5cdFx0XHRsZXQgc3JjID0gdGhpcy5yb290ICsgJy8nICsgdGZpbGUucGF0aDtcclxuICAgICAgICAgICAgbGV0IGRzdCA9IHZhdWx0X3Jvb3QrJy8nK3RmaWxlLnBhdGg7XHJcbiAgICAgICAgICAgIHRoaXMubWtkaXJfcmVjdXJzaXZlKHRoaXMucGF0aC5kaXJuYW1lKGRzdCkpO1xyXG5cdFx0XHR0aGlzLmNvcHlfZmlsZShzcmMsZHN0LG1vZGUpO1xyXG4gICAgICAgICAgICBpZihhdHRhY2htZW50KXtcclxuICAgICAgICAgICAgICAgIGxldCB0ZmlsZXMgPSB0aGlzLmdldF9vdXRsaW5rcyh0ZmlsZSxmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IHQgb2YgdGZpbGVzKXtcclxuICAgICAgICAgICAgICAgICAgICBpZighKHQuZXh0ZW5zaW9uPT09J21kJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNfdGZpbGUodCx2YXVsdF9yb290LG1vZGUsZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKG91dGxpbmspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNfdGZpbGUodCx2YXVsdF9yb290LG1vZGUsZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuICAgIHN5bmNfdGZvbGRlcih0Zm9sZGVyOlRGb2xkZXIsdmF1bHRfcm9vdDpzdHJpbmcsbW9kZT0nbXRpbWUnLGF0dGFjaG1lbnQ9dHJ1ZSxvdXRsaW5rPWZhbHNlLHN0cmljdD1mYWxzZSl7XHJcbiAgICAgICAgaWYodGZvbGRlcil7XHJcbiAgICAgICAgICAgIGZvcihsZXQgdCBvZiB0Zm9sZGVyLmNoaWxkcmVuKXtcclxuICAgICAgICAgICAgICAgIGlmKHQgaW5zdGFuY2VvZiBURm9sZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNfdGZvbGRlcih0LHZhdWx0X3Jvb3QsbW9kZSxhdHRhY2htZW50LG91dGxpbmspO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodCBpbnN0YW5jZW9mIFRGaWxlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNfdGZpbGUodCx2YXVsdF9yb290LG1vZGUsYXR0YWNobWVudCxvdXRsaW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihzdHJpY3Qpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGRzdCA9IHZhdWx0X3Jvb3QrJy8nK3Rmb2xkZXIucGF0aFxyXG4gICAgICAgICAgICAgICAgbGV0IHNyYyA9IHRoaXMuYWJzcGF0aCh0Zm9sZGVyKVxyXG4gICAgICAgICAgICAgICAgaWYoc3JjICYmIGRzdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVfZmlsZXNfbm90X2luX3NyYyhzcmMsZHN0KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblx0XHR9XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlX2ZpbGVfb3JfZGlyKHBhdGg6c3RyaW5nKXtcclxuICAgICAgICBpZih0aGlzLmlzZmlsZShwYXRoKSl7XHJcbiAgICAgICAgICAgIHRoaXMuZnMudW5saW5rU3luYyhwYXRoKVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuaXNkaXIocGF0aCkpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgPSB0aGlzLmxpc3RfZGlyKHBhdGgsdHJ1ZSlcclxuICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIGl0ZW1zKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlX2ZpbGVfb3JfZGlyKGl0ZW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mcy5ybWRpclN5bmMocGF0aClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlX2ZpbGVzX25vdF9pbl9zcmMoc3JjOnN0cmluZyxkc3Q6c3RyaW5nKXtcclxuICAgICAgICAvLyBcdTkwNERcdTUzODYgZHN0IFx1NEUyRFx1NjI0MFx1NjcwOVx1NjU4N1x1NEVGNlx1RkYwQ1x1NTk4Mlx1Njc5Q1x1NjdEMFx1NjU4N1x1NEVGNlx1NEUwRFx1NTcyOHNyY1x1NEUyRFx1RkYwQ1x1NTIyMFx1OTY2NFxyXG4gICAgICAgIGlmKCF0aGlzLmlzZGlyKHNyYykgfHwgIXRoaXMuaXNkaXIoZHN0KSl7cmV0dXJufVxyXG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMubGlzdF9kaXIoZHN0LGZhbHNlKVxyXG4gICAgICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcyl7XHJcbiAgICAgICAgICAgIGxldCBhZHN0ID0gZHN0KycvJytpdGVtXHJcbiAgICAgICAgICAgIGxldCBhc3JjID0gc3JjKycvJytpdGVtXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNmaWxlKGFkc3QpKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzZmlsZShhc3JjKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcy51bmxpbmtTeW5jKGFkc3QpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaXNkaXIoYWRzdCkpe1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNkaXIoYXNyYykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlX2ZpbGVfb3JfZGlyKGFkc3QpXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZV9maWxlc19ub3RfaW5fc3JjKGFzcmMsYWRzdClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzeW5jX2ZvbGRlcihzcmM6c3RyaW5nLGRzdDpzdHJpbmcsbW9kZT0nbXRpbWUnLHN0cmljdD1mYWxzZSl7XHJcbiAgICAgICAgaWYoIXRoaXMuaXNkaXIoc3JjKSl7cmV0dXJufVxyXG4gICAgICAgIHRoaXMubWtkaXJfcmVjdXJzaXZlKGRzdClcclxuICAgICAgICBpZighdGhpcy5pc2Rpcihkc3QpKXtyZXR1cm59XHJcblxyXG4gICAgICAgIGxldCBpdGVtcyA9IHRoaXMubGlzdF9kaXIoc3JjLGZhbHNlKVxyXG4gICAgICAgIGZvcihsZXQgaXRlbSBvZiBpdGVtcyl7XHJcbiAgICAgICAgICAgIGxldCBhc3JjID0gdGhpcy5wYXRoLmpvaW4oc3JjLGl0ZW0pXHJcbiAgICAgICAgICAgIGxldCBhZHN0ID0gdGhpcy5wYXRoLmpvaW4oZHN0LGl0ZW0pXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNmaWxlKGFzcmMpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29weV9maWxlKGFzcmMsYWRzdCxtb2RlKVxyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmlzZGlyKGFzcmMpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3luY19mb2xkZXIoYXNyYyxhZHN0LG1vZGUsc3RyaWN0KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHN0cmljdCl7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlX2ZpbGVzX25vdF9pbl9zcmMoc3JjLGRzdClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW9kaWZ5KHBhdGg6c3RyaW5nLGNhbGxiYWNrOkZ1bmN0aW9uLGVuY29kaW5nPSd1dGY4Jyl7XHJcbiAgICAgICAgbGV0IGZzID0gdGhpcy5mcztcclxuICAgICAgICBpZighZnMuZXhpc3RzU3luYyhwYXRoKSl7cmV0dXJufTtcclxuXHJcbiAgICAgICAgZnMucmVhZEZpbGUocGF0aCwgZW5jb2RpbmcsIChlcnI6RXJyb3IsIGRhdGE6c3RyaW5nKSA9PiB7XHJcblx0XHRcdGlmKGVycil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHJzID0gY2FsbGJhY2socGF0aCxkYXRhKTtcclxuXHRcdFx0ZnMud3JpdGVGaWxlKHBhdGgsIHJzLCBlbmNvZGluZywgKGVycjpFcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cdFx0XHR9KTtcclxuXHRcdCAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCAiXHJcbmV4cG9ydCBjbGFzcyBTdHJpbmdze1xyXG4gICAgbGFuZ3VhZ2U6c3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBsZXQgbGFuZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFuZ3VhZ2UnKTtcclxuICAgICAgICBpZihsYW5nKXtcclxuICAgICAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSAnZW4nO1xyXG4gICAgICAgIH1cclxuXHR9XHJcblxyXG4gICAgZ2V0IGNtZF9leHBvcnRfY3VycmVudF9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1QkZDXHU1MUZBXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0V4cG9ydCBjdXJyZW50IG5vdGUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX3NldF92ZXhwb3J0ZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdThCQkVcdTdGNkVcdTVCRkNcdTUxRkFcdTdCMTRcdThCQjBcdTkwMDlcdTk4NzknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnU2V0IGNvbmZpZyB0byBleHBvcnQgbm90ZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfZXhwb3J0X3BsdWdpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUJGQ1x1NTFGQVx1NjNEMlx1NEVGNidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdFeHBvcnQgcGx1Z2luJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByb21wdF9wYXRoX29mX2ZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OEY5M1x1NTE2NVx1NjU4N1x1NEVGNlx1NTkzOVx1OERFRlx1NUY4NCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdJbnB1dCBwYXRoIG9mIGZvbGRlcic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBub3RpY2Vfb3V0cHV0KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1QkZDXHU1MUZBXHVGRjFBJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ091dHB1dDonO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldCBub3RpY2Vfbm9zdWNoZGlyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NUUwXHU2NTQ4XHU3NkVFXHU1RjU1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ludmFpZCBwYXRoLic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3ZhdWx0X2Rpcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUU5M1x1NzZFRVx1NUY1NSc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnUm9vdCBkaXIgb2YgdmF1bHQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19zdHJpY3RfbW9kZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NEUyNVx1NjgzQ1x1NkEyMVx1NUYwRj8nO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1N0cmljdCBtb2RlPyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3N0cmljdF9tb2RlX2Rlc2MoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUzNzFcdTk2NjlcdUZGMDFcdTU0MENcdTZCNjVcdTY1RjZcdTUyMjBcdTk2NjRcdTc2RUVcdTY4MDdcdTVFOTNcdTRFMkRcdTU5MUFcdTUxRkFcdTc2ODRcdTY1ODdcdTRFRjYnO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0RhbmdlciEgRGVsZXQgZmlsZXMgb3IgZm9sZGVycyBpbiB0YXJnZXQgdmF1bHQgYnV0IG5vdCBpbiBjdXJyZW50IHZhdWx0Lic7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2NvcHlfZGF0YV9qc29uKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1OTBEXHU1MjM2IGRhdGEuanNvbic7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnQ29weSBkYXRhLmpzb24nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9za2lwX2RhdGFfanNvbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OERGM1x1OEZDNyBkYXRhLmpzb24nO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1NraXAgZGF0YS5qc29uJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fc3luY192YXVsdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQwQ1x1NkI2NVx1NTIzMFx1NTE3Nlx1NUI4M1x1NUU5Myc7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnU3luYyB0byBvdGhlciB2YXVsdCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgbGV0IHN0cmluZ3MgPSBuZXcgU3RyaW5ncygpOyIsICJpbXBvcnQgeyBcclxuXHRBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsUGx1Z2luXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVTeW5jUGx1Z2luIGZyb20gJy4uL21haW4nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNeVNldHRpbmdzIHtcclxuXHRzdHJpY3RfbW9kZTogYm9vbGVhbjtcclxuXHR2YXVsdERpcjpzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVNldHRpbmdzID0ge1xyXG5cdHN0cmljdF9tb2RlOmZhbHNlLFxyXG5cdHZhdWx0RGlyOicnXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNeVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IE5vdGVTeW5jUGx1Z2luO1xyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE5vdGVTeW5jUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGdldFNldHRpbmdWYWx1ZShmaWVsZDoga2V5b2YgTXlTZXR0aW5ncykge1xyXG5cdFx0cmV0dXJuIHRoaXMucGx1Z2luLnNldHRpbmdzW2ZpZWxkXTtcclxuXHR9XHJcblxyXG5cdGFkZF90b2dnbGUobmFtZTpzdHJpbmcsZGVzYzpzdHJpbmcsZmllbGQ6a2V5b2YgTXlTZXR0aW5ncyl7XHJcblx0XHRsZXQge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblx0XHRsZXQgdmFsdWUgPSAodGhpcy5wbHVnaW4uc2V0dGluZ3MgYXMgYW55KVtmaWVsZF0gYXMgYm9vbGVhbjtcclxuXHRcdGxldCBpdGVtID0gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpICBcclxuXHRcdFx0LnNldE5hbWUobmFtZSlcclxuXHRcdFx0LnNldERlc2MoZGVzYylcclxuXHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0VmFsdWUodmFsdWUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTpuZXZlcikgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3NbZmllbGRdID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cdFx0cmV0dXJuIGl0ZW07XHJcblx0fVxyXG5cclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3ZhdWx0X2RpcilcclxuXHRcdFx0XHQuYWRkVGV4dEFyZWEodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudmF1bHREaXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnZhdWx0RGlyID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHR0aGlzLmFkZF90b2dnbGUoXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19zdHJpY3RfbW9kZSxcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3N0cmljdF9tb2RlX2Rlc2MsXHJcblx0XHRcdCdzdHJpY3RfbW9kZSdcclxuXHRcdCk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBcclxuXHROb3RpY2UsIFRGaWxlXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVTeW5jUGx1Z2luIGZyb20gJy4uL21haW4nO1xyXG5pbXBvcnQgeyBpdCB9IGZyb20gJ25vZGU6dGVzdCc7XHJcblxyXG5jb25zdCBjbWRfZXhwb3J0X2N1cnJlbnRfbm90ZSA9IChwbHVnaW46Tm90ZVN5bmNQbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjbWRfZXhwb3J0X2N1cnJlbnRfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX2V4cG9ydF9jdXJyZW50X25vdGUsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCB0ZmlsZSA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGF3YWl0IHBsdWdpbi5leHBvcnRfcmVhZG1lKHRmaWxlLG51bGwpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfc2V0X3ZleHBvcnRlciA9IChwbHVnaW46Tm90ZVN5bmNQbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjbWRfc2V0X3ZleHBvcnRlcicsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3NldF92ZXhwb3J0ZXIsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCB0ZmlsZSA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJufVxyXG5cdFx0bGV0IGRpciA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfcHJvbXB0KHBsdWdpbi5zdHJpbmdzLnByb21wdF9wYXRoX29mX2ZvbGRlcik7XHJcblx0XHRsZXQgaXRlbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xyXG5cdFx0aWYocGx1Z2luLmZzRWRpdG9yLmZzLmV4aXN0c1N5bmMoZGlyKSl7XHJcblx0XHRcdGl0ZW1bJ0RpciddID0gZGlyO1xyXG5cdFx0fVxyXG5cdFx0aXRlbVsnTmFtZSddID0gJ3JlYWRNZSc7XHJcblx0XHRpdGVtWydBc3NldHMnXSA9ICcuL2Fzc2V0cyc7XHJcblx0XHRpdGVtWydSZW1vdmVNZXRhJ10gPSB0cnVlO1xyXG5cdFx0aXRlbVsnVXNlR2l0TGluayddID0gdHJ1ZTtcclxuXHJcblxyXG5cdFx0YXdhaXQgcGx1Z2luLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIoXHJcblx0XHRcdHRmaWxlLFxyXG5cdFx0XHRhc3luYyhmbSkgPT57XHJcblx0XHRcdFx0Zm1bcGx1Z2luLnlhbWxdID0gaXRlbVxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9leHBvcnRfcGx1Z2luID0gKHBsdWdpbjpOb3RlU3luY1BsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9leHBvcnRfcGx1Z2luJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZXhwb3J0X3BsdWdpbixcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHJcblx0XHRsZXQgcGx1Z2lucyA9IE9iamVjdC5rZXlzKChwbHVnaW4uYXBwIGFzIGFueSkucGx1Z2lucy5wbHVnaW5zKTtcclxuXHRcdGxldCBwID0gYXdhaXQgcGx1Z2luLmRpYWxvZ19zdWdnZXN0KHBsdWdpbnMscGx1Z2lucyk7XHJcblx0XHRsZXQgZXBsdWdpbiA9IChwbHVnaW4uYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4ocCk7XHJcblx0XHRpZihlcGx1Z2luKXtcclxuXHRcdFx0bGV0IHBhdGhzID0gcGx1Z2luLnNldHRpbmdzLnZhdWx0RGlyLnNwbGl0KFwiXFxuXCIpXHJcblx0XHRcdGxldCB0YXJnZXQgPSBhd2FpdCBwbHVnaW4uZnNFZGl0b3Iuc2VsZWN0X3ZhbGlkX2RpcihcclxuXHRcdFx0XHRwYXRoc1xyXG5cdFx0XHQpXHJcblx0XHRcdGlmKHRhcmdldCl7XHJcblx0XHRcdFx0bGV0IGl0ZW1zID0gcGx1Z2luLmZzRWRpdG9yLmxpc3RfZGlyKHRhcmdldCxmYWxzZSlcclxuXHRcdFx0XHRpdGVtcyA9IGl0ZW1zLmZpbHRlcigoeDpzdHJpbmcpPT54LnN0YXJ0c1dpdGgoJy4nKSAmJiB4IT0nLmdpdCcpLmZpbHRlcihcclxuXHRcdFx0XHRcdCh4OnN0cmluZyk9PntcclxuXHRcdFx0XHRcdFx0bGV0IHBhdGggPSBwbHVnaW4uZnNFZGl0b3IucGF0aC5qb2luKHRhcmdldCx4KVxyXG5cdFx0XHRcdFx0XHRpZighcGx1Z2luLmZzRWRpdG9yLmlzZGlyKHBhdGgpKXtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRsZXQgaXRlbXMgPSBwbHVnaW4uZnNFZGl0b3IubGlzdF9kaXIocGF0aCxmYWxzZSlcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGl0ZW1zLmNvbnRhaW5zKCdwbHVnaW5zJylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0aWYoaXRlbXMubGVuZ3RoPT0xKXtcclxuXHRcdFx0XHRcdHRhcmdldCA9IHBsdWdpbi5mc0VkaXRvci5wYXRoLmpvaW4odGFyZ2V0LGl0ZW1zWzBdLCdwbHVnaW5zJylcclxuXHRcdFx0XHR9ZWxzZSBpZihpdGVtcy5sZW5ndGg+MSl7XHJcblx0XHRcdFx0XHRsZXQgaXRlbSA9IGF3YWl0IHBsdWdpbi5kaWFsb2dfc3VnZ2VzdChcclxuXHRcdFx0XHRcdFx0aXRlbXMsaXRlbXMsJ2NvbmZpZydcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdGlmKGl0ZW0pe1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQgPSBwbHVnaW4uZnNFZGl0b3IucGF0aC5qb2luKHRhcmdldCxpdGVtLCdwbHVnaW5zJylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoIXBsdWdpbi5mc0VkaXRvci5mcy5leGlzdHNTeW5jKHRhcmdldCkgfHwgXHJcblx0XHRcdFx0cGx1Z2luLmZzRWRpdG9yLnBhdGguYmFzZW5hbWUodGFyZ2V0KSE9J3BsdWdpbnMnKXtcclxuXHRcdFx0XHR0YXJnZXQgPSBhd2FpdCBwbHVnaW4uZGlhbG9nX3Byb21wdChwbHVnaW4uc3RyaW5ncy5wcm9tcHRfcGF0aF9vZl9mb2xkZXIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0YXJnZXQgPSB0YXJnZXQucmVwbGFjZSgvXFxcXC9nLCcvJyk7XHJcblx0XHRcdGlmKCF0YXJnZXQuZW5kc1dpdGgoJy8nICsgcCkpe1xyXG5cdFx0XHRcdHRhcmdldCA9IHRhcmdldCArICcvJyArIHA7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoIXBsdWdpbi5mc0VkaXRvci5mcy5leGlzdHNTeW5jKHRhcmdldCkpe1xyXG5cdFx0XHRcdHBsdWdpbi5mc0VkaXRvci5mcy5ta2RpclN5bmModGFyZ2V0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXQgaXRlbXMgPSBbJ21haW4uanMnLCdtYW5pZmVzdC5qc29uJywnc3R5bGVzLmNzcyddO1xyXG5cdFx0XHRsZXQgZGogPSBhd2FpdCBwbHVnaW4uZGlhbG9nX3N1Z2dlc3QoXHJcblx0XHRcdFx0W3BsdWdpbi5zdHJpbmdzLml0ZW1fc2tpcF9kYXRhX2pzb24scGx1Z2luLnN0cmluZ3MuaXRlbV9jb3B5X2RhdGFfanNvbl0sXHJcblx0XHRcdFx0W2ZhbHNlLHRydWVdLFxyXG5cdFx0XHRcdCcnXHJcblx0XHRcdClcclxuXHRcdFx0aWYoZGope1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2goJ2RhdGEuanNvbicpXHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKGxldCBpdGVtIG9mIGl0ZW1zKXtcclxuXHRcdFx0XHRsZXQgc3JjID0gYCR7cGx1Z2luLmZzRWRpdG9yLnJvb3R9LyR7ZXBsdWdpbi5tYW5pZmVzdC5kaXJ9LyR7aXRlbX1gO1xyXG5cdFx0XHRcdGxldCBkc3QgPSBgJHt0YXJnZXR9LyR7aXRlbX1gO1xyXG5cdFx0XHRcdGxldCBmbGFnID0gcGx1Z2luLmZzRWRpdG9yLmNvcHlfZmlsZShzcmMsZHN0LCdvdmVyd3JpdGUnKTtcclxuXHRcdFx0XHRpZihmbGFnKXtcclxuXHRcdFx0XHRcdG5ldyBOb3RpY2UoYENvcHkgJHtpdGVtfSB0byAke3RhcmdldH1gLDUwMDApXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNvbW1hbmRCdWlsZGVyczpBcnJheTxGdW5jdGlvbj4gPSBbXHJcblx0Y21kX2V4cG9ydF9jdXJyZW50X25vdGUsXHJcblx0Y21kX3NldF92ZXhwb3J0ZXIsXHJcblx0Y21kX2V4cG9ydF9wbHVnaW5cclxuXTtcclxuXHJcbmNvbnN0IGNvbW1hbmRCdWlsZGVyc0Rlc2t0b3A6QXJyYXk8RnVuY3Rpb24+ID0gW1xyXG5cdFxyXG5dO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1hbmRzKHBsdWdpbjpOb3RlU3luY1BsdWdpbikge1xyXG4gICAgY29tbWFuZEJ1aWxkZXJzLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICBwbHVnaW4uYWRkQ29tbWFuZChjKHBsdWdpbikpO1xyXG4gICAgfSk7XHJcblx0aWYoKHBsdWdpbi5hcHAgYXMgYW55KS5pc01vYmlsZT09ZmFsc2Upe1xyXG5cdFx0Y29tbWFuZEJ1aWxkZXJzRGVza3RvcC5mb3JFYWNoKChjKSA9PiB7XHJcblx0XHRcdHBsdWdpbi5hZGRDb21tYW5kKGMocGx1Z2luKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgRnV6enlTdWdnZXN0TW9kYWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHR5cGUgeyBGdXp6eU1hdGNoICwgQXBwfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbi8vIFx1NkRGQlx1NTJBMFx1N0M3Qlx1NTc4Qlx1NThGMFx1NjYwRVxyXG5pbnRlcmZhY2UgU3VnZ2VzdGVyQ2hvb3NlciB7XHJcblx0dmFsdWVzOiB7XHJcblx0XHRpdGVtOiBzdHJpbmc7XHJcblx0XHRtYXRjaDogeyBzY29yZTogbnVtYmVyOyBtYXRjaGVzOiB1bmtub3duW10gfTtcclxuXHR9W107XHJcblx0c2VsZWN0ZWRJdGVtOiBudW1iZXI7XHJcblx0W2tleTogc3RyaW5nXTogdW5rbm93bjtcclxufVxyXG5cclxuLy8gXHU2MjY5XHU1QzU1RnV6enlTdWdnZXN0TW9kYWxcdTc2ODRcdTdDN0JcdTU3OEJcclxuaW50ZXJmYWNlIEV4dGVuZGVkRnV6enlTdWdnZXN0TW9kYWwgZXh0ZW5kcyBGdXp6eVN1Z2dlc3RNb2RhbDxzdHJpbmc+IHtcclxuXHRjaG9vc2VyOiBTdWdnZXN0ZXJDaG9vc2VyO1xyXG59XHJcblxyXG50eXBlIE9wdGlvbnMgPSB7XHJcblx0bGltaXQ6IEZ1enp5U3VnZ2VzdE1vZGFsPHN0cmluZz5bXCJsaW1pdFwiXTtcclxuXHRlbXB0eVN0YXRlVGV4dDogRnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPltcImVtcHR5U3RhdGVUZXh0XCJdO1xyXG5cdHBsYWNlaG9sZGVyOiBQYXJhbWV0ZXJzPFxyXG5cdFx0RnV6enlTdWdnZXN0TW9kYWw8c3RyaW5nPltcInNldFBsYWNlaG9sZGVyXCJdXHJcblx0PlswXSBleHRlbmRzIHN0cmluZ1xyXG5cdFx0PyBzdHJpbmdcclxuXHRcdDogbmV2ZXI7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29weSBmcm9tIFF1aWNrQWRkXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dFN1Z2dlc3RlciBleHRlbmRzIEZ1enp5U3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG5cdHByaXZhdGUgcmVzb2x2ZVByb21pc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xyXG5cdHByaXZhdGUgcmVqZWN0UHJvbWlzZTogKHJlYXNvbj86IHVua25vd24pID0+IHZvaWQ7XHJcblx0cHVibGljIHByb21pc2U6IFByb21pc2U8c3RyaW5nPjtcclxuXHRwcml2YXRlIHJlc29sdmVkOiBib29sZWFuO1xyXG5cdGlucHV0RWw6IGFueTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdWdnZXN0KFxyXG5cdFx0YXBwOiBBcHAsXHJcblx0XHRkaXNwbGF5SXRlbXM6IHN0cmluZ1tdLFxyXG5cdFx0aXRlbXM6IHN0cmluZ1tdLFxyXG5cdFx0b3B0aW9uczogUGFydGlhbDxPcHRpb25zPiA9IHt9XHJcblx0KSB7XHJcblx0XHRjb25zdCBuZXdTdWdnZXN0ZXIgPSBuZXcgSW5wdXRTdWdnZXN0ZXIoXHJcblx0XHRcdGFwcCxcclxuXHRcdFx0ZGlzcGxheUl0ZW1zLFxyXG5cdFx0XHRpdGVtcyxcclxuXHRcdFx0b3B0aW9uc1xyXG5cdFx0KTtcclxuXHRcdHJldHVybiBuZXdTdWdnZXN0ZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihcclxuXHRcdGFwcDogQXBwLFxyXG5cdFx0cHJpdmF0ZSBkaXNwbGF5SXRlbXM6IHN0cmluZ1tdLFxyXG5cdFx0cHJpdmF0ZSBpdGVtczogc3RyaW5nW10sXHJcblx0XHRvcHRpb25zOiBQYXJ0aWFsPE9wdGlvbnM+ID0ge31cclxuXHQpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblxyXG5cdFx0dGhpcy5wcm9taXNlID0gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRoaXMucmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xyXG5cdFx0XHR0aGlzLnJlamVjdFByb21pc2UgPSByZWplY3Q7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcblx0XHRcdGlmIChldmVudC5jb2RlICE9PSBcIlRhYlwiKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjhcdTdDN0JcdTU3OEJcdTY1QURcdThBMDBcdTY3NjVcdThCQkZcdTk1RUVjaG9vc2VyXHJcblx0XHRcdGNvbnN0IHNlbGYgPSB0aGlzIGFzIHVua25vd24gYXMgRXh0ZW5kZWRGdXp6eVN1Z2dlc3RNb2RhbDtcclxuXHRcdFx0Y29uc3QgeyB2YWx1ZXMsIHNlbGVjdGVkSXRlbSB9ID0gc2VsZi5jaG9vc2VyO1xyXG5cclxuXHRcdFx0Y29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5pbnB1dEVsO1xyXG5cdFx0XHR0aGlzLmlucHV0RWwudmFsdWUgPSB2YWx1ZXNbc2VsZWN0ZWRJdGVtXS5pdGVtID8/IHZhbHVlO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKG9wdGlvbnMucGxhY2Vob2xkZXIpIHRoaXMuc2V0UGxhY2Vob2xkZXIob3B0aW9ucy5wbGFjZWhvbGRlcik7XHJcblx0XHRpZiAob3B0aW9ucy5saW1pdCkgdGhpcy5saW1pdCA9IG9wdGlvbnMubGltaXQ7XHJcblx0XHRpZiAob3B0aW9ucy5lbXB0eVN0YXRlVGV4dClcclxuXHRcdFx0dGhpcy5lbXB0eVN0YXRlVGV4dCA9IG9wdGlvbnMuZW1wdHlTdGF0ZVRleHQ7XHJcblxyXG5cdFx0dGhpcy5vcGVuKCk7XHJcblx0fVxyXG5cclxuXHRnZXRJdGVtVGV4dChpdGVtOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKGl0ZW0gPT09IHRoaXMuaW5wdXRFbC52YWx1ZSkgcmV0dXJuIGl0ZW07XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZGlzcGxheUl0ZW1zW3RoaXMuaXRlbXMuaW5kZXhPZihpdGVtKV07XHJcblx0fVxyXG5cclxuXHRnZXRJdGVtcygpOiBzdHJpbmdbXSB7XHJcblx0XHRpZiAodGhpcy5pbnB1dEVsLnZhbHVlID09PSBcIlwiKSByZXR1cm4gdGhpcy5pdGVtcztcclxuXHRcdHJldHVybiBbdGhpcy5pbnB1dEVsLnZhbHVlLCAuLi50aGlzLml0ZW1zXTtcclxuXHR9XHJcblxyXG5cdHNlbGVjdFN1Z2dlc3Rpb24oXHJcblx0XHR2YWx1ZTogRnV6enlNYXRjaDxzdHJpbmc+LFxyXG5cdFx0ZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudFxyXG5cdCkge1xyXG5cdFx0dGhpcy5yZXNvbHZlZCA9IHRydWU7XHJcblx0XHRzdXBlci5zZWxlY3RTdWdnZXN0aW9uKHZhbHVlLCBldnQpO1xyXG5cdH1cclxuXHJcblx0b25DaG9vc2VJdGVtKGl0ZW06IHN0cmluZywgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG5cdFx0dGhpcy5yZXNvbHZlZCA9IHRydWU7XHJcblx0XHR0aGlzLnJlc29sdmVQcm9taXNlKGl0ZW0pO1xyXG5cdH1cclxuXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdHN1cGVyLm9uQ2xvc2UoKTtcclxuXHJcblx0XHRpZiAoIXRoaXMucmVzb2x2ZWQpIHRoaXMucmVqZWN0UHJvbWlzZShcIm5vIGlucHV0IGdpdmVuLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaWFsb2dfc3VnZ2VzdChkaXNwbGF5SXRlbXM6QXJyYXk8c3RyaW5nPixpdGVtczpBcnJheTxhbnk+LHBsYWNlaG9sZGVyPScnKSB7XHJcblx0dHJ5e1xyXG5cdFx0cmV0dXJuIGF3YWl0IElucHV0U3VnZ2VzdGVyLlN1Z2dlc3QoXHJcblx0XHRcdHRoaXMuYXBwLFxyXG5cdFx0XHRkaXNwbGF5SXRlbXMsXHJcblx0XHRcdGl0ZW1zLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0fWNhdGNoKGVycm9yKXtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIG51bGxcclxuXHR9XHJcblx0XHJcbn1cclxuIiwgImltcG9ydCB0eXBlIHsgQXBwfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50LCBNb2RhbCwgVGV4dENvbXBvbmVudCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuLyoqXHJcbiAqIENvcHkgZnJvbSBRdWlja0FkZFxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElucHV0UHJvbXB0IGV4dGVuZHMgTW9kYWwge1xyXG5cdHB1YmxpYyB3YWl0Rm9yQ2xvc2U6IFByb21pc2U8c3RyaW5nPjtcclxuXHJcblx0cHJpdmF0ZSByZXNvbHZlUHJvbWlzZTogKGlucHV0OiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0cHJpdmF0ZSByZWplY3RQcm9taXNlOiAocmVhc29uPzogdW5rbm93bikgPT4gdm9pZDtcclxuXHRwcml2YXRlIGRpZFN1Ym1pdCA9IGZhbHNlO1xyXG5cdHByaXZhdGUgaW5wdXRDb21wb25lbnQ6IFRleHRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSBpbnB1dDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgcGxhY2Vob2xkZXI6IHN0cmluZztcclxuXHJcblx0cHVibGljIHN0YXRpYyBQcm9tcHQoXHJcblx0XHRhcHA6IEFwcCxcclxuXHRcdGhlYWRlcjogc3RyaW5nLFxyXG5cdFx0cGxhY2Vob2xkZXI/OiBzdHJpbmcsXHJcblx0XHR2YWx1ZT86IHN0cmluZ1xyXG5cdCk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0XHRjb25zdCBuZXdQcm9tcHRNb2RhbCA9IG5ldyBJbnB1dFByb21wdChcclxuXHRcdFx0YXBwLFxyXG5cdFx0XHRoZWFkZXIsXHJcblx0XHRcdHBsYWNlaG9sZGVyLFxyXG5cdFx0XHR2YWx1ZVxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBuZXdQcm9tcHRNb2RhbC53YWl0Rm9yQ2xvc2U7XHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY29uc3RydWN0b3IoXHJcblx0XHRhcHA6IEFwcCxcclxuXHRcdHByaXZhdGUgaGVhZGVyOiBzdHJpbmcsXHJcblx0XHRwbGFjZWhvbGRlcj86IHN0cmluZyxcclxuXHRcdHZhbHVlPzogc3RyaW5nXHJcblx0KSB7XHJcblx0XHRzdXBlcihhcHApO1xyXG5cdFx0dGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyID8/IFwiXCI7XHJcblx0XHR0aGlzLmlucHV0ID0gdmFsdWUgPz8gXCJcIjtcclxuXHJcblx0XHR0aGlzLndhaXRGb3JDbG9zZSA9IG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHR0aGlzLnJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcclxuXHRcdFx0dGhpcy5yZWplY3RQcm9taXNlID0gcmVqZWN0O1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHR0aGlzLm9wZW4oKTtcclxuXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRpc3BsYXkoKSB7XHJcblx0XHR0aGlzLmNvbnRhaW5lckVsLmFkZENsYXNzKFwicXVpY2tBZGRNb2RhbFwiLCBcInFhSW5wdXRQcm9tcHRcIik7XHJcblx0XHR0aGlzLmNvbnRlbnRFbC5lbXB0eSgpO1xyXG5cdFx0dGhpcy50aXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5oZWFkZXI7XHJcblxyXG5cdFx0Y29uc3QgbWFpbkNvbnRlbnRDb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy5jb250ZW50RWwuY3JlYXRlRGl2KCk7XHJcblx0XHR0aGlzLmlucHV0Q29tcG9uZW50ID0gdGhpcy5jcmVhdGVJbnB1dEZpZWxkKFxyXG5cdFx0XHRtYWluQ29udGVudENvbnRhaW5lcixcclxuXHRcdFx0dGhpcy5wbGFjZWhvbGRlcixcclxuXHRcdFx0dGhpcy5pbnB1dFxyXG5cdFx0KTtcclxuXHRcdHRoaXMuY3JlYXRlQnV0dG9uQmFyKG1haW5Db250ZW50Q29udGFpbmVyKTtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjcmVhdGVJbnB1dEZpZWxkKFxyXG5cdFx0Y29udGFpbmVyOiBIVE1MRWxlbWVudCxcclxuXHRcdHBsYWNlaG9sZGVyPzogc3RyaW5nLFxyXG5cdFx0dmFsdWU/OiBzdHJpbmdcclxuXHQpIHtcclxuXHRcdGNvbnN0IHRleHRDb21wb25lbnQgPSBuZXcgVGV4dENvbXBvbmVudChjb250YWluZXIpO1xyXG5cclxuXHRcdCh0ZXh0Q29tcG9uZW50IGFzIGFueSkuaW5wdXRFbC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xyXG5cdFx0KHRleHRDb21wb25lbnQgYXMgYW55KVxyXG5cdFx0XHQuc2V0UGxhY2Vob2xkZXIocGxhY2Vob2xkZXIgPz8gXCJcIilcclxuXHRcdFx0LnNldFZhbHVlKHZhbHVlID8/IFwiXCIpXHJcblx0XHRcdC5vbkNoYW5nZSgodmFsdWU6c3RyaW5nKSA9PiAodGhpcy5pbnB1dCA9IHZhbHVlKSlcclxuXHRcdFx0LmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5zdWJtaXRFbnRlckNhbGxiYWNrKTtcclxuXHJcblx0XHRyZXR1cm4gdGV4dENvbXBvbmVudDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlQnV0dG9uKFxyXG5cdFx0Y29udGFpbmVyOiBIVE1MRWxlbWVudCxcclxuXHRcdHRleHQ6IHN0cmluZyxcclxuXHRcdGNhbGxiYWNrOiAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB1bmtub3duXHJcblx0KSB7XHJcblx0XHRjb25zdCBidG4gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRhaW5lcik7XHJcblx0XHRidG4uc2V0QnV0dG9uVGV4dCh0ZXh0KS5vbkNsaWNrKGNhbGxiYWNrKTtcclxuXHJcblx0XHRyZXR1cm4gYnRuO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVCdXR0b25CYXIobWFpbkNvbnRlbnRDb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcblx0XHRjb25zdCBidXR0b25CYXJDb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID1cclxuXHRcdFx0bWFpbkNvbnRlbnRDb250YWluZXIuY3JlYXRlRGl2KCk7XHJcblx0XHR0aGlzLmNyZWF0ZUJ1dHRvbihcclxuXHRcdFx0YnV0dG9uQmFyQ29udGFpbmVyLFxyXG5cdFx0XHRcIk9rXCIsXHJcblx0XHRcdHRoaXMuc3VibWl0Q2xpY2tDYWxsYmFja1xyXG5cdFx0KS5zZXRDdGEoKS5idXR0b25FbC5zdHlsZS5tYXJnaW5SaWdodCA9IFwiMFwiO1xyXG5cdFx0dGhpcy5jcmVhdGVCdXR0b24oXHJcblx0XHRcdGJ1dHRvbkJhckNvbnRhaW5lcixcclxuXHRcdFx0XCJDYW5jZWxcIixcclxuXHRcdFx0dGhpcy5jYW5jZWxDbGlja0NhbGxiYWNrXHJcblx0XHQpO1xyXG5cclxuXHRcdGJ1dHRvbkJhckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblx0XHRidXR0b25CYXJDb250YWluZXIuc3R5bGUuZmxleERpcmVjdGlvbiA9IFwicm93LXJldmVyc2VcIjtcclxuXHRcdGJ1dHRvbkJhckNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiZmxleC1zdGFydFwiO1xyXG5cdFx0YnV0dG9uQmFyQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcCA9IFwiMXJlbVwiO1xyXG5cdFx0YnV0dG9uQmFyQ29udGFpbmVyLnN0eWxlLmdhcCA9IFwiMC41cmVtXCI7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1Ym1pdENsaWNrQ2FsbGJhY2sgPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB0aGlzLnN1Ym1pdCgpO1xyXG5cdHByaXZhdGUgY2FuY2VsQ2xpY2tDYWxsYmFjayA9IChldnQ6IE1vdXNlRXZlbnQpID0+IHRoaXMuY2FuY2VsKCk7XHJcblxyXG5cdHByaXZhdGUgc3VibWl0RW50ZXJDYWxsYmFjayA9IChldnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuXHRcdGlmICghZXZ0LmlzQ29tcG9zaW5nICYmIGV2dC5rZXkgPT09IFwiRW50ZXJcIikge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5zdWJtaXQoKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRwcml2YXRlIHN1Ym1pdCgpIHtcclxuXHRcdHRoaXMuZGlkU3VibWl0ID0gdHJ1ZTtcclxuXHJcblx0XHR0aGlzLmNsb3NlKCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNhbmNlbCgpIHtcclxuXHRcdHRoaXMuY2xvc2UoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVzb2x2ZUlucHV0KCkge1xyXG5cdFx0aWYgKCF0aGlzLmRpZFN1Ym1pdCkgdGhpcy5yZWplY3RQcm9taXNlKFwiTm8gaW5wdXQgZ2l2ZW4uXCIpO1xyXG5cdFx0ZWxzZSB0aGlzLnJlc29sdmVQcm9taXNlKHRoaXMuaW5wdXQpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZW1vdmVJbnB1dExpc3RlbmVyKCkge1xyXG5cdFx0dGhpcy5pbnB1dENvbXBvbmVudC5pbnB1dEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwia2V5ZG93blwiLFxyXG5cdFx0XHR0aGlzLnN1Ym1pdEVudGVyQ2FsbGJhY2tcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRvbk9wZW4oKSB7XHJcblx0XHRzdXBlci5vbk9wZW4oKTtcclxuXHJcblx0XHR0aGlzLmlucHV0Q29tcG9uZW50LmlucHV0RWwuZm9jdXMoKTtcclxuXHRcdHRoaXMuaW5wdXRDb21wb25lbnQuaW5wdXRFbC5zZWxlY3QoKTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2UoKSB7XHJcblx0XHRzdXBlci5vbkNsb3NlKCk7XHJcblx0XHR0aGlzLnJlc29sdmVJbnB1dCgpO1xyXG5cdFx0dGhpcy5yZW1vdmVJbnB1dExpc3RlbmVyKCk7XHJcblx0fVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpYWxvZ19wcm9tcHQoaGVhZGVyOiBzdHJpbmc9J0lucHV0JywgcGxhY2Vob2xkZXI6IHN0cmluZz0nJyx2YWx1ZTpzdHJpbmc9JycpIHtcclxuXHR0cnl7XHJcblx0XHRyZXR1cm4gYXdhaXQgSW5wdXRQcm9tcHQuUHJvbXB0KFxyXG5cdFx0XHR0aGlzLmFwcCxcclxuXHRcdFx0aGVhZGVyLFxyXG5cdFx0XHRwbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgdmFsdWVcclxuXHRcdClcclxuXHR9Y2F0Y2h7XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQThDOzs7QUNDOUMsc0JBQTRHO0FBRXJHLElBQU0sV0FBTixNQUFjO0FBQUEsRUFNakIsWUFBWSxRQUFzQjtBQUM5QixTQUFLLFNBQVM7QUFDZCxTQUFLLE1BQU0sT0FBTztBQUNsQixTQUFLLEtBQU0sT0FBTyxJQUFJLE1BQU0sUUFBZ0I7QUFDNUMsU0FBSyxPQUFRLE9BQU8sSUFBSSxNQUFNLFFBQWdCO0FBQUEsRUFDbEQ7QUFBQSxFQUVBLElBQUksT0FBTTtBQUNOLFFBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxNQUFNO0FBQzlCLFdBQU8sRUFBRSxTQUFTLFFBQVEsT0FBTSxHQUFHO0FBQUEsRUFD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QWUsZUFBYyxRQUFPO0FBQ3RDLGlCQUFPLEtBQUs7QUFBQSxZQUNYO0FBQUEsWUFDQSxDQUFDLE9BQVdDLFVBQWdCO0FBQzNCLHFCQUFPLEtBQUtBLFVBQVMsVUFBVUEsTUFBSyxRQUFRLE1BQUssS0FBSztBQUFBLFlBQ3ZEO0FBQUEsVUFDRDtBQUFBLFFBQ0Q7QUFDQSxjQUFNLEtBQUssU0FBUyxHQUFHO0FBQUEsVUFDdEI7QUFBQSxVQUFRO0FBQUEsVUFBTTtBQUFBLFVBQ2QsQ0FBQyxRQUFjO0FBQUM7QUFBQSxVQUFPO0FBQUEsUUFDeEI7QUFDQSxZQUFJLHdCQUFPLGFBQWEsVUFBUyxHQUFJO0FBQ3JDLFlBQUcsUUFBTztBQUNULGNBQUksU0FBUyxLQUFLLFNBQVMsYUFBYSxPQUFNLEtBQUs7QUFDbkQsY0FBSSxPQUFPLEtBQUssU0FBUyxLQUFLLEtBQUssS0FBSSxNQUFNO0FBQzdDLGVBQUssU0FBUyxnQkFBZ0IsSUFBSTtBQUNsQyxtQkFBUSxLQUFLLFFBQU87QUFDbkIsZ0JBQUcsRUFBRSxFQUFFLGNBQVksT0FBTTtBQUN4QixrQkFBSSxPQUFPLEtBQUssU0FBUyxXQUFXLEdBQUUsT0FBSyxNQUFJLEVBQUUsV0FBUyxNQUFJLEVBQUUsU0FBUztBQUN6RSxrQkFBRyxNQUFLO0FBQ1Asb0JBQUksd0JBQU8sUUFBUSxFQUFFLFFBQU8sR0FBSTtBQUFBLGNBQ2pDO0FBQUEsWUFDRDtBQUFBLFVBQ0Q7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJ0ZmlsZSIsICJlcnIiLCAiaW1wb3J0X29ic2lkaWFuIiwgInZhbHVlIiwgImltcG9ydF9vYnNpZGlhbiIsICJpdGVtcyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInZhbHVlIiwgIm5hbWUiXQp9Cg==
