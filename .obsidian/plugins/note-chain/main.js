/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/utils.ts
var utils_exports = {};
__export(utils_exports, {
  array_prefix_id: () => array_prefix_id,
  check_value: () => check_value,
  concat_array: () => concat_array,
  get_customjs_func: () => get_customjs_func,
  get_plugins: () => get_plugins,
  get_str_func: () => get_str_func,
  get_tp_func: () => get_tp_func,
  get_tp_user_func: () => get_tp_user_func,
  parse_templater: () => parse_templater,
  toogle_note_css: () => toogle_note_css
});
function get_plugins(app, name) {
}
function array_prefix_id(items, offset = 1) {
  let res = new Array();
  let N = items.length.toString().length;
  for (let i = 0; i < items.length; i++) {
    let id = (i + offset).toString().padStart(N, "0");
    res.push(`${id} \u{1F525} ${items[i]}`);
  }
  return res;
}
function concat_array(items) {
  if (items == null) {
    return [];
  }
  if (typeof items === "string") {
    return [items];
  }
  if (!(items instanceof Array)) {
    return [items];
  }
  let res = [];
  for (let item of items) {
    if (typeof item === "string") {
      res.push(item);
    } else if (item instanceof Array) {
      res = res.concat(this.concat_array(item));
    } else {
      res.push(item);
    }
  }
  return res;
}
async function check_value(t, k, v, dt, T) {
  let i = 0;
  while (t[k] == null || !(t[k] === v)) {
    await sleep(dt);
    i = dt + dt;
    if (i > T) {
      break;
    }
  }
  if (t[k] && t[k] === v) {
    return true;
  } else {
    return false;
  }
}
function get_tp_func(app, target) {
  let templater = app.plugins.getPlugin(
    "templater-obsidian"
  );
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items.length != 3) {
    return void 0;
  }
  let modules = templater.templater.functions_generator.internal_functions.modules_array.filter(
    (item) => item.name.localeCompare(items[1]) == 0
  );
  if (modules.length == 0) {
    return void 0;
  }
  return modules[0].static_functions.get(items[2]);
}
async function get_tp_user_func(app, target) {
  if (!target.match(/^tp\.user\.\w+$/)) {
    return null;
  }
  let templater = app.plugins.getPlugin(
    "templater-obsidian"
  );
  let items = target.split(".");
  if (items[0].localeCompare("tp") != 0 || items[1].localeCompare("user") != 0 || items.length != 3) {
    return void 0;
  }
  let funcs = await templater.templater.functions_generator.user_functions.user_script_functions.generate_user_script_functions();
  return funcs.get(items[2]);
}
async function get_customjs_func(target) {
  if (!target.match(/^(cJS|customJS|customjs|customJs)(\.\w+)+$/)) {
    return null;
  }
  let items = target.split(".");
  if (window.hasOwnProperty("cJS")) {
    let cJS = window["cJS"];
    let tmp = await cJS();
    for (let field of items.slice(1)) {
      tmp = tmp[field];
      if (!tmp) {
        return null;
      }
    }
    return tmp;
  }
}
async function get_str_func(app, target) {
  let ufunc = await get_tp_func(app, target);
  if (ufunc) {
    return ufunc;
  }
  ufunc = await get_tp_user_func(app, target);
  if (ufunc) {
    return ufunc;
  }
  ufunc = await get_customjs_func(target);
  if (ufunc) {
    return ufunc;
  }
  return null;
}
async function templater$1(app, template, active_file, target_file) {
  const config = {
    template_file: template,
    active_file,
    target_file,
    run_mode: "DynamicProcessor"
  };
  const plugins = app.plugins.plugins;
  const exists = plugins["templater-obsidian"];
  if (!exists) {
    new import_obsidian2.Notice("Templater is not installed. Please install it.");
    return;
  }
  const { templater } = plugins["templater-obsidian"];
  const functions = await templater.functions_generator.internal_functions.generate_object(config);
  functions.user = {};
  const userScriptFunctions = await templater.functions_generator.user_functions.user_script_functions.generate_user_script_functions(config);
  userScriptFunctions.forEach(
    (value, key) => {
      functions.user[key] = value;
    }
  );
  if (template) {
    const userSystemFunctions = await templater.functions_generator.user_functions.user_system_functions.generate_system_functions(config);
    userSystemFunctions.forEach(
      (value, key) => {
        functions.user[key] = value;
      }
    );
  }
  return async (command) => {
    return await templater.parser.parse_commands(command, functions);
  };
}
async function parse_templater(app, template) {
  let nc = app.plugins.getPlugin("note-chain");
  if (!nc) {
    return;
  }
  let file = nc.chain.get_tfile(template);
  let blocks = await nc.editor.extract_templater_block(file);
  let notes = app.vault.getMarkdownFiles();
  if (notes.length == 0) {
    return;
  }
  let active_file = notes[0];
  let target_file = notes[0];
  let templateFunc = await templater$1(app, "", active_file, target_file);
  if (templateFunc) {
    let res = [];
    for (let block of blocks) {
      let item = await templateFunc(block);
      res.push(item);
    }
    return res;
  } else {
    return [];
  }
}
async function toogle_note_css(app, document2, name, refresh = false) {
  let nc = app.plugins.getPlugin("note-chain");
  let tfile = nc.chain.get_tfile(name);
  if (!tfile) {
    let tfiles;
    if (name == "/") {
      tfiles = nc.chain.get_all_tfiles();
    } else {
      let folder = nc.chain.get_all_folders().filter((x) => x.name == name);
      if (folder.length == 0) {
        return;
      }
      tfiles = nc.utils.concat_array(
        folder.map((x) => nc.chain.get_tfiles_of_folder(x))
      );
    }
    if (tfiles.length == 0) {
      return;
    }
    tfile = await nc.chain.sugguster_note(tfiles);
    if (!tfile) {
      return;
    }
  }
  let link = document2.getElementById(tfile.basename);
  if (link && !refresh) {
    link.remove();
  } else {
    let css = await nc.editor.extract_code_block(tfile, "css");
    let inner = css.join("\n");
    if (link) {
      link.innerHTML = inner;
    } else {
      if (inner != "") {
        let styleElement = document2.createElement("style");
        styleElement.innerHTML = inner;
        styleElement.id = tfile.basename;
        document2.head.appendChild(styleElement);
      }
    }
  }
}
var import_obsidian2;
var init_utils = __esm({
  "src/utils.ts"() {
    import_obsidian2 = require("obsidian");
  }
});

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NoteChainPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian10 = require("obsidian");

// src/NCEditor.ts
var import_obsidian = require("obsidian");
var NCEditor = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = this.plugin.app;
    this.nretry = 100;
  }
  async set_frontmatter(tfile, key, value, nretry = this.nretry) {
    let kv = {};
    kv[key] = value;
    let flag = await this.set_multi_frontmatter(tfile, kv, nretry);
    return flag;
  }
  check_frontmatter(tfile, kv) {
    try {
      if (!tfile) {
        return false;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        for (let k in kv) {
          if (!(meta.frontmatter[k] == kv[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  async wait_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await sleep(50);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  async set_multi_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await this.app.fileManager.processFrontMatter(tfile, (fm) => {
        for (let k in kv) {
          fm[k] = kv[k];
        }
      });
      await sleep(100);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  get_frontmatter(tfile, key) {
    try {
      if (!tfile) {
        return null;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        let keys = key.split(".");
        let cfm = meta.frontmatter;
        for (let k of keys) {
          let items = k.match(/^(.*?)(\[\d+\])?$/);
          if (!items) {
            return null;
          }
          if (items[1]) {
            cfm = cfm[items[1]];
          }
          if (!cfm) {
            return null;
          }
          if (Array.isArray(cfm) && items[2]) {
            cfm = cfm[parseInt(items[2].slice(1, items[2].length - 1))];
          }
        }
        return cfm;
      }
    } catch (error) {
      return null;
    }
  }
  get_vault_name() {
    let items = this.plugin.app.vault.adapter.basePath.split("\\");
    items = items[items.length - 1].split("/");
    return items[items.length - 1];
  }
  get_frontmatter_config(tfile, key) {
    if (tfile instanceof import_obsidian.TFile) {
      if (tfile.extension == "md") {
        let config = this.get_frontmatter(tfile, key);
        if (config) {
          return config;
        }
      } else {
        let file = this.plugin.chain.get_tfile(
          tfile.path.slice(0, tfile.path.length - tfile.extension.length) + "md"
        );
        if (file) {
          let config = this.get_frontmatter(file, key);
          if (config) {
            return config;
          }
        }
      }
    } else {
      let file = this.plugin.chain.get_tfile(tfile.path + "/" + tfile.name + ".md");
      if (file) {
        let config = this.get_frontmatter(file, key);
        if (config) {
          return config;
        }
      }
    }
    let dir = tfile.parent;
    while (dir) {
      let cfile;
      if (dir.parent) {
        cfile = this.plugin.chain.get_tfile(
          dir.path + "/" + dir.name + ".md"
        );
      } else {
        cfile = this.plugin.chain.get_tfile(
          this.get_vault_name()
        );
      }
      let config = this.get_frontmatter(cfile, key);
      if (config) {
        return config;
      }
      dir = dir.parent;
    }
    return null;
  }
  regexp_link(tfile, mode) {
    if (mode === "link") {
      return new RegExp(`\\[\\[${tfile.basename}\\|?.*\\]\\]`, "g");
    }
    if (mode === "para") {
      return new RegExp(`.*\\[\\[${tfile.basename}\\|?.*\\]\\].*`, "g");
    }
  }
  async replace(tfile, regex, target) {
    if (typeof regex === "string") {
      await this.app.vault.process(tfile, (data) => {
        if (data.indexOf(regex) > -1) {
          return data.replace(regex, target);
        }
        return data;
      });
    } else if (regex instanceof RegExp) {
      await this.app.vault.process(tfile, (data) => {
        if (data.match(regex)) {
          return data.replace(regex, target);
        }
        return data;
      });
    }
  }
  async remove_metadata(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let headerRegex = /^---\s*([\s\S]*?)\s*---/;
    let match = headerRegex.exec(tfile);
    if (match) {
      tfile = tfile.slice(match[0].length).trim();
    }
    return tfile;
  }
  async extract_code_block(tfile, btype) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let cssCodeBlocks = [];
    let reg = new RegExp(`\`\`\`${btype}\\n([\\s\\S]*?)
\`\`\``, "g");
    ;
    let matches;
    while ((matches = reg.exec(tfile)) !== null) {
      cssCodeBlocks.push(matches[1].trim());
    }
    return cssCodeBlocks;
  }
  async extract_templater_block(tfile, reg = /<%\*\s*([\s\S]*?)\s*-?%>/g) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let cssCodeBlocks = [];
    let matches;
    while ((matches = reg.exec(tfile)) !== null) {
      cssCodeBlocks.push(matches[0].trim());
    }
    let tpls = await this.extract_code_block(tfile, "js //templater");
    for (let tpl of tpls) {
      cssCodeBlocks.push(`<%*
${tpl}
-%>`);
    }
    return cssCodeBlocks;
  }
  async extract_yaml_block(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let headerRegex = /^---\s*([\s\S]*?)\s*---/;
    let match = headerRegex.exec(tfile);
    if (match) {
      return match[0];
    }
    return "";
  }
  _extract_block_id_(para) {
    let reg = /\s+\^[a-zA-Z0-9]+\r?\n?$/;
    let match = reg.exec(para);
    if (match) {
      return match[0].trim();
    } else {
      return "";
    }
  }
  _generate_random_string_(length) {
    let characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let result = "";
    for (let i = 0; i < length; i++) {
      let randomIndex = Math.floor(Math.random() * characters.length);
      result += characters[randomIndex];
    }
    return result;
  }
  async extract_all_blocks(tfile) {
    if (tfile instanceof import_obsidian.TFile) {
      tfile = await this.plugin.app.vault.cachedRead(tfile);
    }
    if (typeof tfile != "string") {
      return "";
    }
    let ctx = tfile;
    let blocks = [];
    let head = await this.plugin.editor.extract_yaml_block(ctx);
    if (head != "") {
      blocks.push(["YAML", head]);
      ctx = ctx.slice(head.length);
    }
    let kvgets = {
      "\u7A7A\u767D\u6BB5\u843D": /^(\s*\n)*/,
      "\u4EE3\u7801\u5757": /^[ \t]*```[\s\S]*?\n[ \t]*```[ \t]*\n(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "tpl\u4EE3\u7801\u5757": /^<%\*[\s\S]*?\n-?\*?%>[ \t]*\n(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u4EFB\u52A1": /^[ \t]*- \[.\].*\n?(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u65E0\u5E8F\u5217\u8868": /^[ \t]*- .*\n?(\s+\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6709\u5E8F\u5217\u8868": /^[ \t]*\d\. .*\n?(\s+[ \t]*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u5F15\u7528": /^(>.*\n)+(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6807\u9898": /^#+ .*\n(\s*\^[a-zA-Z0-9]+\r?[\n$])?/,
      "\u6BB5\u843D": /^(.*\n?)(\s*\^[a-zA-Z0-9]+\r?[\n$])?/
    };
    while (ctx.length > 0) {
      let flag = true;
      for (let key of Object.keys(kvgets)) {
        let reg = kvgets[key];
        let match = reg.exec(ctx);
        if (match) {
          let curr = match[0];
          if (curr.length > 0) {
            let bid = this._extract_block_id_(curr);
            if (key == "\u6BB5\u843D" && blocks.length > 0 && blocks[blocks.length - 1][0] == "\u6BB5\u843D") {
              blocks[blocks.length - 1][1] = blocks[blocks.length - 1][1] + curr;
              blocks[blocks.length - 1][2] = bid;
            } else {
              blocks.push([key, curr, bid]);
            }
            flag = false;
            ctx = ctx.slice(curr.length);
            break;
          }
        }
      }
      if (flag) {
        break;
      }
    }
    if (ctx.length > 0) {
      let bid = this._extract_block_id_(ctx);
      blocks.push(["\u6BB5\u843D", ctx, bid]);
    }
    return blocks;
  }
  async append_block_ids(tfile) {
    let blocks = await this.extract_all_blocks(tfile);
    let items = [];
    for (let block of blocks) {
      if (["\u7A7A\u767D\u6BB5\u843D", "YAML"].contains(block[0])) {
        items.push(block[1]);
      } else if (!block[2]) {
        let bid = this._generate_random_string_(6);
        if (["\u4EFB\u52A1", "\u65E0\u5E8F\u5217\u8868", "\u6709\u5E8F\u5217\u8868"].contains(block[0])) {
          items.push(block[1].slice(0, -1) + " ^" + bid + "\n");
        } else {
          if (block[1].endsWith("\n")) {
            items.push(block[1] + "^" + bid + "\n");
          } else {
            items.push(block[1] + "\n^" + bid + "\n");
          }
        }
      } else {
        items.push(block[1]);
      }
    }
    let res = items.join("");
    await this.app.vault.modify(tfile, res);
    return res;
  }
  async remove_block_ids(tfile) {
    let blocks = await this.extract_all_blocks(tfile);
    let items = [];
    for (let block of blocks) {
      if (["\u7A7A\u767D\u6BB5\u843D", "YAML"].contains(block[0])) {
        items.push(block[1]);
      } else {
        let reg = /\s+\^[a-zA-Z0-9]+\r?\n?$/;
        let match = reg.exec(block[1]);
        if (match) {
          items.push(block[1].replace(reg, "\n"));
        } else {
          items.push(block[1]);
        }
      }
    }
    let res = items.join("");
    await this.app.vault.modify(tfile, res);
    return res;
  }
  async get_current_section() {
    var _a, _b;
    let view = this.app.workspace.getActiveFileView();
    let editor = view.editor;
    let tfile = view.file;
    if (!view || !editor || !tfile) {
      return null;
    }
    let cursor = editor.getCursor();
    console.log("cursor", cursor);
    let cache = this.app.metadataCache.getFileCache(tfile);
    console.log("cache", cache);
    if (!cache) {
      return;
    }
    if (!cursor) {
      let ctx = await this.app.vault.cachedRead(tfile);
      let items = (_a = cache == null ? void 0 : cache.sections) == null ? void 0 : _a.map(
        (section2) => ctx.slice(section2.position.start.offset, section2.position.end.offset)
      );
      if (!items) {
        return null;
      }
      let section = await this.plugin.chain.tp_suggester(items, cache.sections);
      return section;
    } else {
      let sections = (_b = cache == null ? void 0 : cache.sections) == null ? void 0 : _b.filter(
        (x) => {
          return x.position.start.line <= cursor.line && x.position.end.line >= cursor.line;
        }
      )[0];
      return sections;
    }
  }
};

// src/NoteChain.ts
var import_obsidian4 = require("obsidian");
init_utils();

// src/NCModal.ts
var import_obsidian3 = require("obsidian");
var NoteContentModal = class extends import_obsidian3.Modal {
  constructor(app, content, plugin) {
    super(app);
    this.content = content;
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    this.modalEl.style.display = "flex";
    this.modalEl.style.overflow = "auto";
    const container = contentEl.createDiv({ cls: "note-content-container" });
    container.addClass("markdown-rendered");
    container.style.display = "table-cell";
    container.style.verticalAlign = "middle";
    container.style.padding = "20px";
    const component = new import_obsidian3.Component();
    import_obsidian3.MarkdownRenderer.render(this.app, this.content, container, "", component);
    this.addClickListener(container);
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  addClickListener(container) {
    container.addEventListener("click", (event) => {
      let target = event.target;
      if (target.tagName === "A" && target.hasClass("internal-link")) {
        event.preventDefault();
        let href = target.getAttribute("href");
        if (href) {
          this.openNoteInMainView(href);
        }
      }
    });
  }
  async openNoteInMainView(linkText) {
    try {
      await this.app.workspace.openLinkText(linkText, "", false, { active: true });
      this.close();
    } catch (error) {
      new import_obsidian3.Notice(`Error opening note: ${error.message}`);
    }
  }
};
var NoteEditorModal = class extends import_obsidian3.Modal {
  // 添加编辑模式属性
  constructor(app, filePath, isEditMode = false) {
    super(app);
    this.filePath = filePath;
    this.isEditMode = isEditMode;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    if (this.isEditMode) {
      let file = this.app.vault.getAbstractFileByPath(this.filePath);
      if (file) {
        const leaf = this.app.workspace.getLeaf(true);
        await leaf.openFile(file, { state: { mode: "source" } });
        this.close();
      } else {
        new import_obsidian3.Notice(`File not found: ${this.filePath}`);
      }
    } else {
      new import_obsidian3.Notice("Not in edit mode.");
    }
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/NoteChain.ts
var NoteChain = class {
  constructor(plugin, editor, prev = "PrevNote", next = "NextNote") {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = new NCEditor(plugin);
    this.NoteEditorModal = NoteEditorModal;
    this.prev = prev;
    this.next = next;
    this.init_children();
  }
  async open_note_in_modal(notePath) {
    try {
      let file = this.get_tfile(notePath);
      if (file instanceof import_obsidian4.TFile) {
        let content = await this.app.vault.read(file);
        let modal = new NoteContentModal(this.app, content, this.plugin);
        modal.open();
        return modal;
      } else {
        let modal = new NoteContentModal(this.app, notePath, this.plugin);
        modal.open();
        return modal;
      }
    } catch (error) {
      new import_obsidian4.Notice(`Error opening note in modal: ${error.message}`);
    }
  }
  init_children() {
    var _a;
    this.children = {};
    for (let f of this.get_all_folders()) {
      let tfiles = f.children;
      if ((_a = this.plugin.explorer) == null ? void 0 : _a.file_explorer) {
        tfiles = this.sort_tfiles(
          tfiles,
          this.plugin.explorer.file_explorer.sortOrder
        );
      }
      this.children[f.path] = this.sort_tfiles_by_chain(tfiles);
    }
  }
  refresh_folder(tfolder) {
    if (tfolder == null ? void 0 : tfolder.children) {
      let tfiles = tfolder.children;
      if (this.plugin.explorer.file_explorer) {
        tfiles = this.sort_tfiles(
          tfiles,
          this.plugin.explorer.file_explorer.sortOrder
        );
      }
      this.children[tfolder.path] = this.sort_tfiles_by_chain(
        tfiles
      );
    }
  }
  refresh_tfile(tfile) {
    var _a;
    if ((_a = tfile.parent) == null ? void 0 : _a.children) {
      this.refresh_folder(tfile.parent);
    }
  }
  get tp_find_tfile() {
    return get_tp_func(this.app, "tp.file.find_tfile");
  }
  get tp_suggester() {
    return get_tp_func(this.app, "tp.system.suggester");
  }
  get tp_prompt() {
    return get_tp_func(this.app, "tp.system.prompt");
  }
  get_all_folders() {
    let folders = this.app.vault.getAllFolders();
    let folder = this.app.vault.getFolderByPath("/");
    if (folder && !folders.contains(folder)) {
      folders.push(folder);
    }
    return folders;
  }
  get_all_tfiles(sort_mode = "") {
    let files = this.app.vault.getMarkdownFiles();
    if (!(sort_mode === "")) {
      this.sort_tfiles(files, sort_mode = sort_mode);
    }
    return files;
  }
  sort_folders_by_mtime(folders, reverse = true) {
    function ufunc(f) {
      return Math.max(
        ...f.children.filter((f2) => f2.basename).map((f2) => f2.stat.mtime)
      );
    }
    let res = folders.sort((a, b) => ufunc(a) - ufunc(b));
    if (reverse) {
      res = res.reverse();
    }
    return res;
  }
  async cmd_move_file_to_another_folder(tfile = this.current_note) {
    if (tfile == null) {
      return;
    }
    let folders = this.get_all_folders();
    folders = this.sort_folders_by_mtime(
      folders
    ).filter((f) => f != tfile.parent);
    if (tfile.extension === "md") {
      folders = folders.filter((f) => this.filter_user_ignore(f));
    }
    try {
      let folder = await this.tp_suggester(
        this.plugin.utils.array_prefix_id(
          folders.map((f) => f.path)
        ),
        folders
      );
      let dst = folder.path + "/" + tfile.basename + "." + tfile.extension;
      await this.app.fileManager.renameFile(tfile, dst);
    } catch (error) {
    }
  }
  filter_user_ignore(note) {
    if (!(this.app.vault.config.attachmentFolderPath === "./")) {
      if (note.path.startsWith(
        this.app.vault.config.attachmentFolderPath
      )) {
        return false;
      }
    }
    if (this.app.vault.userIgnoreFilters) {
      for (let x of this.app.vault.userIgnoreFilters) {
        if (note.path.startsWith(x)) {
          return false;
        }
      }
    }
    return true;
  }
  async sugguster_note(notes = null) {
    if (notes == null) {
      notes = this.sort_tfiles(
        this.app.vault.getFiles(),
        ["mtime", "x"]
      ).filter((f) => this.filter_user_ignore(f));
    }
    try {
      let msg = this.plugin.utils.array_prefix_id(notes.map((f) => f.path));
      let note = await this.tp_suggester(msg, notes);
      return note;
    } catch (error) {
      return null;
    }
  }
  open_note(tfile, new_tab = false, revealFolder = false, collapse = true) {
    if (tfile) {
      const view = this.app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
      if (new_tab || !view || !view.leaf) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else if (view.leaf.pinned) {
        this.app.workspace.getLeaf(true).openFile(tfile);
      } else {
        view.leaf.openFile(tfile);
      }
      if (revealFolder) {
        if (collapse) {
          this.plugin.explorer.file_explorer.tree.setCollapseAll(true);
        }
        this.plugin.explorer.file_explorer.revealInFolder(tfile);
      }
    }
  }
  async sugguster_open_note() {
    try {
      let note = await this.sugguster_note();
      this.open_note(note);
    } catch (error) {
    }
  }
  get_tfile(path, only_first = true) {
    try {
      path = path.split("|")[0].replace("[[", "").replace("]]", "");
      let tfile = this.app.vault.getFileByPath(path);
      if (tfile) {
        return tfile;
      }
      let tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase());
      if (!tfiles) {
        tfiles = this.app.metadataCache.uniqueFileLookup.get(path.toLowerCase() + ".md");
        if (!tfiles) {
          return null;
        } else {
          path = path + ".md";
        }
      }
      let ctfiles = tfiles.filter((x) => x.name == path);
      if (ctfiles.length > 0) {
        if (only_first) {
          return ctfiles[0];
        } else {
          return ctfiles;
        }
      }
      if (tfiles.length > 0) {
        if (only_first) {
          return tfiles[0];
        } else {
          return tfiles;
        }
      }
      return null;
    } catch (e) {
      return null;
    }
  }
  get_tags(tfile = this.current_note) {
    var _a;
    if (!tfile) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    let tags = [];
    if (mcache == null ? void 0 : mcache.tags) {
      for (let curr of mcache.tags) {
        if (!tags.contains(curr.tag)) {
          tags.push(curr.tag);
        }
      }
    }
    if ((_a = mcache == null ? void 0 : mcache.frontmatter) == null ? void 0 : _a.tags) {
      if (Array.isArray(mcache.frontmatter.tags)) {
        for (let curr of mcache.frontmatter.tags) {
          let tag = "#" + curr;
          if (!tags.contains(tag)) {
            tags.push(tag);
          }
        }
      } else if (typeof mcache.frontmatter.tags === "string") {
        let tag = `#` + mcache.frontmatter.tags;
        if (!tags.contains(tag)) {
          tags.push(tag);
        }
      }
    }
    return tags;
  }
  get_recent_tfiles(only_md = true) {
    var _a;
    let recent = this.app.plugins.getPlugin("recent-files-obsidian");
    if (recent) {
      let files = recent.data.recentFiles.map(
        (x) => this.get_tfile(x.path)
      ).filter((x) => x);
      return files;
    } else {
      let recent2 = [];
      let files = (_a = this.app.workspace.recentFileTracker) == null ? void 0 : _a.lastOpenFiles;
      if (files && files.length > 0) {
        recent2 = files.map((x) => this.get_tfile(x)).filter((x) => x);
      }
      let tfile = this.app.workspace.getActiveFile();
      if (tfile) {
        recent2.unshift(tfile);
      }
      if (only_md) {
        recent2 = recent2.filter((x) => x.extension == "md");
      }
      return recent2;
    }
  }
  get_last_daily_note(recent_first = true) {
    let pattern = /^\d{4}-\d{2}-\d{2}$/;
    if (recent_first) {
      let recent = this.get_recent_tfiles();
      for (let tfile of recent) {
        if (tfile.basename.match(pattern)) {
          return tfile;
        }
      }
    }
    let t = (0, import_obsidian4.moment)();
    for (let i = 0; i < 20; i++) {
      let xt = t.clone().add(-i, "days");
      let fname = xt.format("YYYY-MM-DD");
      let tfile = this.get_tfile(fname);
      if (tfile) {
        return tfile;
      }
    }
    let files = this.app.vault.getMarkdownFiles().filter(
      (x) => x.basename.match(pattern)
    );
    files = this.sort_tfiles(files, "name");
    if (files.length > 0) {
      return files[files.length - 1];
    }
    return null;
  }
  get_neighbor_leaf(offset = 1) {
    let app = this.plugin.app;
    let leaves = app.workspace.getLeavesOfType("markdown");
    let activeLeaf = app.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
    if (activeLeaf) {
      let idx = leaves.map((x) => x.view == activeLeaf).indexOf(true);
      idx = idx + offset;
      if (idx < 0 || idx > leaves.length - 1) {
        return null;
      }
      return leaves[idx];
    }
  }
  get_last_activate_leaf(skip_conote = true) {
    let leaves = this.app.workspace.getLeavesOfType("markdown");
    leaves = leaves.filter((x) => x.getViewState().state.file);
    leaves = leaves.sort((a, b) => b.activeTime - a.activeTime);
    for (let leaf2 of leaves) {
      let file = leaf2.getViewState().state.file;
      if (skip_conote && this.get_tags(file).contains("#conote")) {
        continue;
      }
      return leaf2;
    }
    let leaf = null;
    for (let i of [1, -1, 0]) {
      leaf = this.plugin.chain.get_neighbor_leaf(i);
      if (leaf) {
        return leaf;
      }
    }
    return null;
  }
  get current_note() {
    return this.app.workspace.getActiveFile();
  }
  get_selected_files(current_if_no_selected = true) {
    let selector = document.querySelectorAll(
      ".tree-item-self.is-selected"
    );
    let items = Object.values(selector).map((x) => {
      var _a;
      return (_a = x.dataset) == null ? void 0 : _a.path;
    });
    let tfiles = items.map(
      (x) => this.get_tfile(x)
    ).filter(
      (x) => x.extension == "md"
    );
    if (tfiles.length > 0) {
      return tfiles;
    } else if (current_if_no_selected && this.current_note) {
      return [this.current_note];
    } else {
      return [];
    }
  }
  get_inlinks(tfile = this.current_note, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let res = [];
    let inlinks = this.app.metadataCache.getBacklinksForFile(tfile);
    for (let [k, v] of inlinks.data) {
      let curr = this.app.vault.getFileByPath(k);
      if (curr) {
        res.push(curr);
      }
    }
    return res;
  }
  get_outlinks(tfile = this.current_note, only_md = true) {
    if (tfile == null) {
      return [];
    }
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (!mcache) {
      return [];
    }
    let res = [];
    if (mcache.links) {
      for (let link of mcache.links) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (mcache.frontmatterLinks) {
      for (let link of mcache.frontmatterLinks) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2) && !(only_md && tfile2.extension != "md")) {
          res.push(tfile2);
        }
      }
    }
    if (!only_md && mcache.embeds) {
      for (let link of mcache.embeds) {
        let tfile2 = this.get_tfile(link.link);
        if (tfile2 && !res.contains(tfile2)) {
          res.push(tfile2);
        }
      }
    }
    return res;
  }
  get_links(tfile = this.current_note, only_md = true) {
    let inlinks = this.get_inlinks(tfile, only_md);
    let outlinks = this.get_outlinks(tfile, only_md);
    for (let link of inlinks) {
      if (!outlinks.contains(link)) {
        outlinks.push(link);
      }
    }
    return outlinks;
  }
  get_group_inlinks(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_inlinks(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_group_outlinks(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_outlinks(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_group_links(tfiles, level = 1) {
    let items = tfiles.map((x) => x);
    while (level != 0) {
      let curr = items.map((x) => x);
      for (let c of curr) {
        let links = this.get_links(c, true);
        for (let link of links) {
          if (!items.contains(link)) {
            items.push(link);
          }
        }
      }
      if (curr.length == items.length) {
        break;
      }
      level = level - 1;
    }
    return items;
  }
  get_brothers(tfile = this.current_note) {
    if (tfile && tfile.parent) {
      return this.get_tfiles_of_folder(tfile.parent, false);
    } else {
      return [];
    }
  }
  get_uncles(tfile) {
    if (tfile && tfile.parent && tfile.parent.parent) {
      let folder = tfile.parent.parent;
      return folder.children.filter(
        (x) => x instanceof import_obsidian4.TFile
      );
    }
    return [];
  }
  get_tfiles_of_folder(tfolder, with_children = false) {
    if (tfolder == null) {
      return [];
    }
    let notes = [];
    for (let c of tfolder.children) {
      if (c instanceof import_obsidian4.TFile && c.extension === "md") {
        notes.push(c);
      } else if (c instanceof import_obsidian4.TFolder && with_children) {
        let tmp = this.get_tfiles_of_folder(c);
        for (let x of tmp) {
          notes.push(x);
        }
      }
    }
    return notes;
  }
  indexOfFolder(tfile, tfiles) {
    let fnote = this.tp_find_tfile(tfile.name + ".md");
    if (!fnote) {
      return -1;
    }
    let msg = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNote"
    );
    if (!msg || typeof msg != "string") {
      return -1;
    }
    let anchor = this.get_tfile(msg);
    if (!anchor) {
      return -1;
    }
    let idx = tfiles.indexOf(anchor);
    let offset = this.plugin.editor.get_frontmatter(
      fnote,
      "FolderPrevNoteOffset"
    );
    if (typeof offset == "string") {
      idx = idx + parseFloat(offset);
    } else {
      idx = idx + 0.5;
    }
    return idx;
  }
  tfile_to_string(tfile) {
    let curr = this.current_note;
    let msg = "";
    if (tfile.parent == (curr == null ? void 0 : curr.parent)) {
      msg = tfile.basename;
    } else {
      msg = tfile.path;
    }
    if (tfile == this.current_note) {
      return `\u{1F3E0} ${msg}`;
    } else {
      return msg;
    }
  }
  async suggester_notes(tfile = this.current_note, curr_first = false, smode = "") {
    if (tfile) {
      tfile == this.current_note;
    }
    let kv = [
      this.plugin.strings.item_get_brothers,
      this.plugin.strings.item_notechain,
      this.plugin.strings.item_uncle_notes,
      this.plugin.strings.item_same_folder,
      this.plugin.strings.item_inlinks_outlinks,
      this.plugin.strings.item_inlins,
      this.plugin.strings.item_outlinks,
      this.plugin.strings.item_all_noes,
      this.plugin.strings.item_recent
    ];
    if (curr_first) {
      kv.unshift(this.plugin.strings.item_currentnote);
    } else {
      kv.push(this.plugin.strings.item_currentnote);
    }
    let mode = "";
    if (kv.contains(smode)) {
      mode = smode;
    } else {
      mode = await this.tp_suggester(this.plugin.utils.array_prefix_id(kv), kv);
    }
    if (mode === this.plugin.strings.item_currentnote) {
      return [tfile];
    } else if (mode === this.plugin.strings.item_get_brothers) {
      return this.get_brothers(tfile);
    } else if (mode === this.plugin.strings.item_same_folder) {
      if (tfile == null ? void 0 : tfile.parent) {
        return this.get_tfiles_of_folder(tfile.parent, true);
      }
    } else if (mode === this.plugin.strings.item_inlinks_outlinks) {
      return this.get_links(tfile);
    } else if (mode === this.plugin.strings.item_inlins) {
      return this.get_inlinks(tfile);
    } else if (mode === this.plugin.strings.item_outlinks) {
      return this.get_outlinks(tfile);
    } else if (mode === this.plugin.strings.item_all_noes) {
      return this.get_all_tfiles();
    } else if (mode === this.plugin.strings.item_recent) {
      return this.get_recent_tfiles();
    } else if (mode === this.plugin.strings.item_uncle_notes) {
      if (tfile) {
        return this.get_uncles(tfile);
      }
    } else if (mode === this.plugin.strings.item_notechain) {
      return this.get_chain(
        tfile,
        Number(this.plugin.settings.PrevChain),
        Number(this.plugin.settings.NextChain)
      );
    } else {
      return [];
    }
  }
  // Chain
  get_prev_note(tfile = this.current_note) {
    if (!tfile) {
      return;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      tfiles = tfiles.filter((f) => {
        if (!f) {
          return false;
        }
        let next = this.editor.get_frontmatter(f, this.next);
        if (typeof next != "string") {
          return false;
        }
        return `[[${tfile.basename}]]` == next;
      });
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.prev);
      if (!name || typeof name != "string") {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_prev_notes(tfile = this.current_note) {
    let note = this.get_prev_note(tfile);
    this.open_note(note);
  }
  get_next_note(tfile = this.current_note) {
    if (!tfile) {
      return null;
    }
    if (tfile.deleted) {
      let tfiles = this.app.vault.getMarkdownFiles();
      let prev = tfiles = tfiles.filter((f) => {
        if (!f) {
          return false;
        }
        let prev2 = this.editor.get_frontmatter(f, this.prev);
        if (typeof prev2 != "string") {
          return false;
        }
        return `[[${tfile.basename}]]` == prev2;
      });
      if (tfiles.length > 0) {
        return tfiles[0];
      } else {
        return null;
      }
    } else {
      let name = this.editor.get_frontmatter(tfile, this.next);
      if (!name || typeof name != "string") {
        return null;
      }
      let note = this.get_tfile(name);
      return note ? note : null;
    }
  }
  open_next_notes(tfile = this.current_note) {
    let note = this.get_next_note(tfile);
    this.open_note(note);
  }
  get_chain(tfile = this.current_note, prev = 10, next = 10, with_self = true) {
    if (tfile == null) {
      return [];
    }
    let res = new Array();
    if (with_self) {
      res.push(tfile);
    }
    let tmp = tfile;
    for (let i = prev; i != 0; i--) {
      let note = this.get_prev_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        break;
      } else {
        res.unshift(note);
        tmp = note;
      }
    }
    tmp = tfile;
    for (let i = next; i != 0; i--) {
      let note = this.get_next_note(tmp);
      if (!note) {
        break;
      } else if (res.includes(note)) {
        break;
      } else {
        res.push(note);
        tmp = note;
      }
    }
    return res;
  }
  get_first_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, -1, 0, false);
    if (notes.length > 0) {
      return notes[0];
    } else {
      return null;
    }
  }
  get_last_note(tfile = this.current_note) {
    let notes = this.get_chain(tfile, 0, -1, false);
    if (notes.length > 0) {
      return notes[notes.length - 1];
    } else {
      return null;
    }
  }
  get_neighbors(tfile = this.current_note) {
    return [
      this.get_prev_note(tfile),
      this.get_next_note(tfile)
    ];
  }
  async chain_set_prev(tfile, prev) {
    if (tfile == null || tfile == prev) {
      return;
    }
    if (this.get_prev_note(tfile) == prev) {
      return;
    }
    let msg = `Note Chain: ${prev == null ? void 0 : prev.basename} --> \u{1F3E0}${tfile.basename}`;
    if (prev == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        null
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.prev,
        `[[${prev.basename}]]`
      );
    }
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_set_next(tfile, next) {
    if (tfile == null || tfile == next) {
      return;
    }
    if (this.get_next_note(tfile) == next) {
      return;
    }
    let msg = `Note Chain: \u{1F3E0}${tfile == null ? void 0 : tfile.basename} <-- ${next == null ? void 0 : next.basename}`;
    if (next == null) {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        null
      );
    } else {
      await this.editor.set_frontmatter(
        tfile,
        this.next,
        `[[${next.basename}]]`
      );
    }
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_set_prev_next(tfile, prev, next) {
    if (tfile == null || prev == next || tfile == prev || tfile == next) {
      return;
    }
    if (this.get_prev_note(tfile) == prev) {
      await this.chain_set_next(tfile, next);
      return;
    }
    if (this.get_next_note(tfile) == next) {
      await this.chain_set_prev(tfile, prev);
      return;
    }
    let msg = `Note Chain: ${prev == null ? void 0 : prev.basename} --> \u{1F3E0}${tfile == null ? void 0 : tfile.basename} <-- ${next == null ? void 0 : next.basename}`;
    let fm = {};
    fm[this.prev] = prev ? `[[${prev.basename}]]` : null;
    fm[this.next] = next ? `[[${next.basename}]]` : null;
    await this.plugin.editor.set_multi_frontmatter(tfile, fm);
    if (this.plugin.settings.notice_while_modify_chain) {
      new import_obsidian4.Notice(msg, 5e3);
    }
  }
  async chain_link_prev_next(prev, next) {
    await this.chain_set_prev(next, prev);
    await this.chain_set_next(prev, next);
  }
  async chain_concat_tfiles(tfiles) {
    let prev = this.get_prev_note(tfiles[0]);
    if (tfiles.contains(prev)) {
      await this.chain_set_prev(tfiles[0], null);
    }
    let next = this.get_next_note(tfiles[tfiles.length - 1]);
    if (tfiles.contains(next)) {
      await this.chain_set_next(tfiles[tfiles.length - 1], null);
    }
    if (tfiles.length <= 1) {
      return;
    }
    let N = tfiles.length;
    await this.chain_set_next(tfiles[0], tfiles[1]);
    await this.chain_set_prev(tfiles[N - 1], tfiles[N - 2]);
    for (let i = 1; i < tfiles.length - 1; i++) {
      await this.chain_set_prev_next(tfiles[i], tfiles[i - 1], tfiles[i + 1]);
    }
  }
  async chain_pop_node(tfile) {
    let notes = this.get_neighbors(tfile);
    await this.chain_link_prev_next(notes[0], notes[1]);
  }
  async chain_insert_node_as_head(tfile, anchor) {
    let head = this.get_first_note(anchor);
    await this.chain_link_prev_next(tfile, head);
  }
  async chain_insert_node_as_tail(tfile, anchor) {
    let tail = this.get_last_note(anchor);
    await this.chain_link_prev_next(tail, tfile);
  }
  async chain_insert_node_after(tfile, anchor) {
    let anchor_next = this.get_next_note(anchor);
    if (anchor_next == tfile) {
      return;
    }
    let tfile_neighbor = this.get_neighbors(tfile);
    if (tfile_neighbor[1] == anchor) {
      await this.chain_concat_tfiles(
        [tfile_neighbor[0], anchor, tfile, anchor_next]
      );
    } else {
      await this.chain_pop_node(tfile);
      await this.chain_concat_tfiles([anchor, tfile, anchor_next]);
    }
  }
  async chain_insert_node_before(tfile, anchor) {
    let anchor_prev = this.get_prev_note(anchor);
    if (anchor_prev == tfile) {
      return;
    }
    let tfile_neighbor = this.get_neighbors(tfile);
    if (tfile_neighbor[0] == anchor) {
      await this.chain_concat_tfiles(
        [anchor_prev, tfile, anchor, tfile_neighbor[1]]
      );
    } else {
      await this.chain_pop_node(tfile);
      await this.chain_concat_tfiles([anchor_prev, tfile, anchor]);
    }
  }
  async chain_insert_folder_after(tfile, anchor) {
    if (!tfile.parent || tfile.parent.parent != anchor.parent) {
      return;
    }
    let note = this.get_tfile(tfile.parent.name);
    if (!note) {
      return;
    }
    await this.plugin.editor.set_multi_frontmatter(
      note,
      {
        "FolderPrevNote": `[[${anchor.basename}]]`,
        "FolderPrevNoteOffset": 0.5
      }
    );
  }
  async chain_suggester_tfiles(tfile = this.current_note, mode = "suggester") {
    let notes = this.get_brothers(tfile);
    if (notes.length == 0) {
      return;
    }
    let files = await this.suggester_sort(notes);
    await this.chain_concat_tfiles(files);
  }
  sort_tfiles(files, field) {
    if (typeof field === "string") {
      if (field === "name" || field === "alphabetical") {
        return files.sort(
          (a, b) => a.name.localeCompare(b.name)
        );
      } else if (field === "mtime" || field === "byModifiedTime") {
        return files.sort(
          (a, b) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.mtime) - ((_b = b.stat) == null ? void 0 : _b.mtime);
          }
        );
      } else if (field === "ctime" || field === "byCreatedTime") {
        return files.sort(
          (a, b) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.ctime) - ((_b = b.stat) == null ? void 0 : _b.ctime);
          }
        );
      } else if (field === "alphabeticalReverse") {
        return files.sort(
          (b, a) => a.name.localeCompare(b.name)
        );
      } else if (field === "byModifiedTimeReverse") {
        return files.sort(
          (b, a) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.mtime) - ((_b = b.stat) == null ? void 0 : _b.mtime);
          }
        );
      } else if (field === "byCreatedTimeReverse") {
        return files.sort(
          (b, a) => {
            var _a, _b;
            return ((_a = a.stat) == null ? void 0 : _a.ctime) - ((_b = b.stat) == null ? void 0 : _b.ctime);
          }
        );
      } else if (field === "chain") {
        return this.sort_tfiles_by_chain(files);
      }
      return files;
    } else if (typeof field === "object") {
      if (field instanceof Array) {
        let nfiles = this.sort_tfiles(files, field[0]);
        if (field.length >= 2) {
          if (field[1] === "x") {
            return nfiles.reverse();
          }
        }
        return nfiles;
      }
    }
    return files;
  }
  sort_tfiles_by_chain(tfiles) {
    let notes = tfiles.filter((f) => f instanceof import_obsidian4.TFile);
    let res = [];
    let ctfiles = [];
    while (notes.length > 0) {
      let note = notes[0];
      if (note instanceof import_obsidian4.TFile) {
        let xchain = this.get_chain(note, -1, -1);
        for (let x of xchain) {
          if (notes.contains(x)) {
            ctfiles.push(x);
            notes.remove(x);
          }
        }
      }
    }
    res.push(...ctfiles);
    let canvas = res.filter((f) => f instanceof import_obsidian4.TFile && f.extension == "canvas");
    res = res.filter((f) => f instanceof import_obsidian4.TFile && f.extension != "canvas");
    let folders = tfiles.filter((f) => f instanceof import_obsidian4.TFolder);
    if (folders.length > 0) {
      let indexOf = function(f) {
        if (f instanceof import_obsidian4.TFile) {
          return res.indexOf(f);
        } else if (f instanceof import_obsidian4.TFolder) {
          return idxs[folders.indexOf(f)];
        } else {
          return -1;
        }
      };
      let idxs = folders.map(
        (f) => this.indexOfFolder(f, ctfiles)
      );
      res.push(...folders);
      res = res.sort((a, b) => indexOf(a) - indexOf(b));
    }
    for (let tfile of canvas) {
      let rname = res.map((x) => x instanceof import_obsidian4.TFolder ? x.name : x.basename);
      let cname = tfile.basename;
      let idx = rname.indexOf(cname);
      if (idx < 0) {
        idx = rname.indexOf(cname.split(".").slice(0, -1).join("."));
      }
      if (idx < 0) {
        res.push(tfile);
      } else {
        res.splice(idx + 1, 0, tfile);
      }
    }
    return res;
  }
  sort_tfiles_folder_first(tfiles) {
    let A = tfiles.filter((f) => f instanceof import_obsidian4.TFolder).sort((a, b) => a.name.localeCompare(b.name));
    let B = tfiles.filter((f) => f instanceof import_obsidian4.TFile);
    return this.plugin.utils.concat_array([A, B]);
  }
  sort_tfiles_by_field(tfiles, field) {
    let res = tfiles.sort(
      (a, b) => {
        let av = this.editor.get_frontmatter(a, field);
        let bv = this.editor.get_frontmatter(b, field);
        if (typeof av != typeof bv) {
          return 0;
        }
        if (typeof av == "number" && typeof bv == "number") {
          return av - bv;
        }
        if (typeof av == "string" && typeof bv == "string") {
          let v = av.localeCompare(bv);
          return v;
        }
        return 0;
      }
    );
    return res;
  }
  async suggester_sort(tfiles) {
    if (!tfiles) {
      return [];
    }
    if (tfiles.length == 0) {
      return [];
    }
    ;
    let kv = {
      "chain": "chain",
      "name (a to z)": "name",
      "ctime (old to new)": "ctime",
      "mtime (old to new)": "mtime",
      "name (z to a)": ["name", "x"],
      "ctime (new to old)": ["ctime", "x"],
      "mtime (new to old)": ["mtime", "x"]
    };
    let field = await this.tp_suggester(
      Object.keys(kv),
      Object.values(kv)
    );
    if (field == null) {
      return [];
    }
    if (field == "chain") {
      tfiles = this.sort_tfiles(tfiles, "name");
    }
    return this.sort_tfiles(tfiles, field);
  }
  view_sort_by_chain() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    if (!view) {
      return;
    }
    view.sort();
    if (view.ready) {
      for (let path in view.fileItems) {
        let item = view.fileItems[path];
        if (item.vChildren) {
          let files = item.vChildren._children.map((f) => f.file);
          files = this.sort_tfiles_by_chain(files);
          let children = item.vChildren._children.sort(
            (a, b) => files.indexOf(a.file) - files.indexOf(b.file)
          );
          item.vChildren.setChildren(children);
        }
      }
      view.tree.infinityScroll.compute();
    }
  }
  async get_file_links(tfile, xlinks = true, inlinks = true, outlinks = true, onlymd = false) {
    let items = {};
    if (!tfile) {
      return items;
    }
    items["\u{1F3E0} " + tfile.basename] = this.app.vault.adapter.getFullPath(tfile.path);
    if (xlinks) {
      let tmp;
      tmp = this.editor.get_frontmatter(tfile, "github");
      if (tmp) {
        if (tmp.contains("github.com")) {
          items["\u{1F310}github"] = tmp;
        } else {
          items["\u{1F310}github"] = `https://github.com/` + tmp;
        }
      }
      tmp = this.editor.get_frontmatter(tfile, "huggingface");
      if (tmp) {
        if (tmp.contains("huggingface.co")) {
          items["\u{1F310}huggingface\u{1F917}"] = tmp;
        } else {
          items["\u{1F310}huggingface\u{1F917}"] = `https://huggingface.co/` + tmp;
        }
      }
      tmp = this.editor.get_frontmatter(tfile, "arxiv");
      if (tmp == null ? void 0 : tmp.ID) {
        items["\u{1F310}arxiv"] = `https://arxiv.org/abs/` + (tmp == null ? void 0 : tmp.ID);
      }
      let text = await this.app.vault.cachedRead(tfile);
      const regex = /\[[^(\[\])]*?\]\(.*?\)/g;
      const matches = text.match(regex);
      if (matches) {
        for (const match of matches) {
          let key = match.slice(1, match.indexOf("]("));
          let value = match.slice(match.indexOf("](")).slice(2, -1);
          if (value === "") {
            continue;
          }
          if (key === "") {
            key = value;
          }
          if (value.startsWith("http")) {
            key = "\u{1F310} " + key;
          } else if (value.startsWith("file:///")) {
            value = value.slice(8);
            key = "\u{1F4C1} " + key;
          } else {
            key = "\u{1F517} " + key;
          }
          items[key] = value;
        }
      }
    }
    if (inlinks) {
      let links = this.get_inlinks();
      for (let i of links) {
        if (onlymd && !(i.extension === "md")) {
          continue;
        }
        if (i.extension === "md") {
          items["\u2139\uFE0F " + i.basename] = this.app.vault.adapter.getFullPath(i.path);
        } else {
          items["\u2139\uFE0F " + i.name] = this.app.vault.adapter.getFullPath(i.path);
        }
      }
    }
    if (outlinks) {
      let links = this.get_outlinks();
      for (let i of links) {
        if (onlymd && !(i.extension === "md")) {
          continue;
        }
        if (i.extension === "md") {
          items["\u{1F17E}\uFE0F " + i.basename] = this.app.vault.adapter.getFullPath(i.path);
        } else {
          items["\u{1F17E}\uFE0F " + i.name] = this.app.vault.adapter.getFullPath(i.path);
        }
      }
    }
    items["\u{1F492} vault"] = this.app.vault.adapter.getFullPath(".");
    return items;
  }
};

// src/NCFileExplorer.ts
var import_obsidian5 = require("obsidian");
var getSortedFolderItems = function(org_sort) {
  let plugin = this.app.plugins.getPlugin("note-chain");
  return function(e) {
    if (plugin) {
      try {
        let res = org_sort.call(this, e);
        let tfiles = plugin.chain.children[e.path];
        if (tfiles) {
          res = res.sort((a, b) => tfiles.indexOf(a.file) - tfiles.indexOf(b.file));
        }
        return res;
      } catch (e2) {
        return org_sort.call(this, e2);
      }
    } else {
      return org_sort.call(this, e);
    }
  };
};
var getTtitle = function(org_getTtile) {
  let plugin = this.app.plugins.getPlugin("note-chain");
  return function(e) {
    if (plugin) {
      try {
        let res = plugin.explorer.get_display_text(this.file);
        return res;
      } catch (e2) {
        return org_getTtile.call(this);
      }
    } else {
      return org_getTtile.call(this);
    }
  };
};
var NCFileExplorer = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.chain = plugin.chain;
    this.app = plugin.app;
    this.register();
  }
  register() {
    this.getSortedFolderItems = this.file_explorer.constructor.prototype.getSortedFolderItems;
    this.getSortedFolderItems_new = getSortedFolderItems(this.getSortedFolderItems);
    this.file_explorer.constructor.prototype.getSortedFolderItems = this.getSortedFolderItems_new;
    let item = this.file_explorer.fileItems[this.plugin.chain.get_all_tfiles()[0].path];
    if (item) {
      this.getTitle = item.constructor.prototype.getTitle;
      this.getTitle_new = getTtitle(this.getTitle);
      item.constructor.prototype.getTitle = this.getTitle_new;
    }
    this.sort(0, true);
    this.set_display_text();
    this.set_fileitem_style();
  }
  async unregister() {
    if (this.getSortedFolderItems) {
      this.file_explorer.constructor.prototype.getSortedFolderItems = this.getSortedFolderItems;
    }
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      await this._set_display_text_(item, this.get_origin_text(item.file));
      item.el.style.background = null;
      item.el.style.border = null;
    }
  }
  get file_explorer() {
    var _a;
    let view = (_a = this.app.workspace.getLeavesOfType(
      "file-explorer"
    )[0]) == null ? void 0 : _a.view;
    return view;
  }
  async sort(nsleep = 0, init = false) {
    var _a;
    if ((_a = this.file_explorer) == null ? void 0 : _a.sort) {
      if (nsleep > 0) {
        await sleep(nsleep);
      }
      if (init) {
        this.plugin.chain.init_children();
      }
      if (Object.keys(this.plugin.chain.children).length == 0) {
        setTimeout(() => {
          this.sort(nsleep, true);
        }, 3e3);
      } else {
        this.file_explorer.sort();
      }
    }
  }
  get_field_of_display_text(tfile) {
    if (this.plugin.settings.field_of_display_text) {
      let item = this.plugin.editor.get_frontmatter_config(tfile, this.plugin.settings.field_of_display_text);
      if (typeof item != "string") {
        return "";
      }
      return item;
    }
    return "";
  }
  get_origin_text(tfile) {
    if (tfile instanceof import_obsidian5.TFile) {
      if (tfile.extension == "md") {
        return tfile.basename;
      } else if (tfile.extension == "canvas") {
        return tfile.basename;
      } else {
        return tfile.name;
      }
    } else {
      return tfile.name;
    }
  }
  get_item(tfile, field) {
    var _a, _b;
    if (!field) {
      return "";
    }
    let fields = field.split("|");
    let item = "";
    for (let f of fields) {
      if (f == "$0") {
        return this.get_origin_text(tfile);
      }
      if (f.startsWith("?")) {
        break;
      }
      if (tfile instanceof import_obsidian5.TFile) {
        let s = this.plugin.editor.get_frontmatter(tfile, f);
        if (typeof s === "number") {
          item = `${s}`;
        } else if (typeof s != "string" || s == "") {
          continue;
        }
        item = s;
        break;
      }
    }
    if (((_a = fields.last()) == null ? void 0 : _a.startsWith("?")) && item) {
      return ((_b = fields.last()) == null ? void 0 : _b.slice(1).replace(/\$1/g, item)) || "";
    }
    return item;
  }
  get_display_text(tfile) {
    let str = this.get_field_of_display_text(tfile);
    if (!str || str == "$0" || str == "{$0}") {
      return this.get_origin_text(tfile);
    }
    let mstr = str.replace(/\<(.+?)?\>/g, (match, field) => {
      return this.get_item(tfile, field);
    });
    mstr = mstr;
    if (mstr == "") {
      return this.get_origin_text(tfile);
    } else {
      return mstr;
    }
  }
  _set_display_text_(item, txt) {
    if (item && txt) {
      if (typeof txt == "string") {
        item.innerEl.setText(txt);
      }
    }
  }
  set_display_text() {
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      let txt = this.get_display_text(item.file);
      this._set_display_text_(item, txt);
    }
  }
  async get_fileitem_style(tfile) {
    if (this.plugin.settings.field_of_background_color) {
      let style = this.plugin.editor.get_frontmatter_config(tfile, this.plugin.settings.field_of_background_color);
      if (typeof style == "string") {
        let func = await this.plugin.utils.get_str_func(this.app, style);
        if (func) {
          return func;
        }
      }
      return style;
    }
    return null;
  }
  async set_fileitem_style() {
    let items = this.file_explorer.fileItems;
    for (let key in items) {
      let item = items[key];
      let style = await this.get_fileitem_style(item.file);
      await this.set_fileitem_style_of_file(item.file, style);
    }
  }
  async set_fileitem_style_of_file(tfile, style = null) {
    if (!tfile) {
      return;
    }
    if (!style) {
      style = await this.get_fileitem_style(tfile);
    }
    let items = this.file_explorer.fileItems;
    let item = items[tfile.path];
    if (item) {
      if (typeof style == "function") {
        style = await style(tfile);
        if (!style) {
          return;
        }
      }
      if (style == null) {
        item.el.style.background = null;
        item.el.style.border = null;
      } else if (typeof style == "string") {
        item.el.style.background = style;
      } else if (typeof style == "object") {
        for (let k in style) {
          item.el.style[k] = style[k];
        }
      } else if (typeof style == "function") {
        await style(tfile);
      }
    }
  }
};

// src/strings.ts
var Strings = class {
  constructor() {
    let lang = window.localStorage.getItem("language");
    if (lang) {
      this.language = lang;
    } else {
      this.language = "en";
    }
  }
  get cmd_mermaid_flowchart_link() {
    if (this.language == "zh") {
      return "Mermaid\u94FE\u63A5\u5361\u7247";
    } else {
      return "Mermaid of linked notes";
    }
  }
  get cmd_mermaid_flowchart_folder() {
    if (this.language == "zh") {
      return "Mermaid\u76EE\u5F55\u5361\u7247";
    } else {
      return "Mermaid of folder notes";
    }
  }
  get cmd_mermaid_flowchart_auto() {
    if (this.language == "zh") {
      return "Mermaid\u5361\u7247";
    } else {
      return "Mermaid of notes";
    }
  }
  get cmd_file_open_with_system_app() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u4F7F\u7528\u7CFB\u7EDF\u7A0B\u5E8F\u6253\u5F00\uFF08\u4EC5\u684C\u9762\uFF09";
    } else {
      return "File - open with system app (desktop only)";
    }
  }
  get cmd_file_show_in_system_explorer() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u5728\u7CFB\u7EDF\u6D4F\u89C8\u7684\u67E5\u770B\uFF08\u4EC5\u684C\u9762\uFF09";
    } else {
      return "File - show in system explorer (desktop only)";
    }
  }
  get cmd_file_rename() {
    if (this.language == "zh") {
      return "\u6587\u4EF6 - \u91CD\u547D\u540D\u6587\u4EF6";
    } else {
      return "File - rename file";
    }
  }
  get cmd_longform2notechain() {
    if (this.language == "zh") {
      return "\u6839\u636ELongForm\u91CD\u7F6E\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Reset note chain by longform";
    }
  }
  get cmd_longform4notechain() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6761\uFF0C\u91CD\u7F6ELongForm\u573A\u666F";
    } else {
      return "Reset longform scenes by note chain";
    }
  }
  get cmd_sort_file_explorer() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6392\u5E8F";
    } else {
      return "Sort file explorer by note chain";
    }
  }
  get cmd_open_notes_smarter() {
    if (this.language == "zh") {
      return "\u667A\u80FD\u6253\u5F00\u6587\u4EF6";
    } else {
      return "Open note smarter";
    }
  }
  get cmd_open_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6";
    } else {
      return "Open note";
    }
  }
  get cmd_open_prev_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Open prev note";
    }
  }
  get chain_move_up_node() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Move node up";
    }
  }
  get chain_move_down_node() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Move node down";
    }
  }
  get cmd_open_next_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Open next note";
    }
  }
  get cmd_reveal_note() {
    if (this.language == "zh") {
      return "\u5B9A\u4F4D\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Reveal current file in navigation";
    }
  }
  get cmd_open_and_reveal_note() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u5E76\u5B9A\u4F4D\u7B14\u8BB0";
    } else {
      return "Open and reveal note";
    }
  }
  get cmd_open_prev_note_of_right_leaf() {
    if (this.language == "zh") {
      return "\u53F3\u4FA7\u9875\u9762\u6253\u5F00\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Open prev note of right leaf";
    }
  }
  get cmd_open_next_note_of_right_leaf() {
    if (this.language == "zh") {
      return "\u53F3\u4FA7\u9875\u9762\u6253\u5F00\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Open next note of right leaf";
    }
  }
  get cmd_execute_template_modal() {
    if (this.language == "zh") {
      return "\u6267\u884C\u811A\u672C\u7B14\u8BB0";
    } else {
      return "Execute Templater modal";
    }
  }
  get cmd_toogle_css_block_in_note() {
    if (this.language == "zh") {
      return "\u542F\u7528/\u5173\u95ED css \u4EE3\u7801\u5757";
    } else {
      return "Toogle css block in note";
    }
  }
  get filemenu_create_next_note() {
    if (this.language == "zh") {
      return "\u521B\u5EFA\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Create next note";
    }
  }
  get filemenu_move_as_next_note() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u4E3A\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Move as next note";
    }
  }
  get filemenu_move_as_next_notes() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u4E3A\u540E\u7F6E\u7B14\u8BB0\uFF08\u9009\u4E2D\u7B14\u8BB0\uFF09";
    } else {
      return "Move as next notes(selected)";
    }
  }
  get clear_inlinks() {
    if (this.language == "zh") {
      return "\u6E05\u7406\u7B14\u8BB0\u5165\u94FE";
    } else {
      return "Clear inlinks of current file";
    }
  }
  get move_file_to_another_folder() {
    if (this.language == "zh") {
      return "\u79FB\u52A8\u5F53\u524D\u6587\u4EF6";
    } else {
      return "Move current file to another folder";
    }
  }
  get replace_notes_with_regx() {
    if (this.language == "zh") {
      return "\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u7B14\u8BB0\u5185\u5BB9";
    } else {
      return "Replace by regex";
    }
  }
  get chain_insert_node() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u8282\u70B9";
    } else {
      return "Insert node of chain";
    }
  }
  get chain_set_seq_note() {
    if (this.language == "zh") {
      return "\u91CD\u5851\u5F53\u524D\u6587\u4EF6\u5939\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Rebuild the chain of current folder";
    }
  }
  get create_new_note() {
    if (this.language == "zh") {
      return "\u521B\u5EFA\u65B0\u7B14\u8BB0";
    } else {
      return "Create new note";
    }
  }
  get setting_isSortFileExplorer() {
    if (this.language == "zh") {
      return "\u6839\u636E\u7B14\u8BB0\u94FE\u6761\u6392\u5E8F\u76EE\u5F55";
    } else {
      return "Sort by chain in file explorer?";
    }
  }
  get setting_isFolderFirst() {
    if (this.language == "zh") {
      return "\u6392\u5E8F\u65F6\u76EE\u5F55\u65F6\u6587\u4EF6\u5939\u4F18\u5148\uFF1F";
    } else {
      return "Sort folder first in file explorer?";
    }
  }
  get setting_PrevChain() {
    if (this.language == "zh") {
      return "\u524D\u7F6E\u7B14\u8BB0\u6570\u91CF\uFF1F";
    } else {
      return "Number of prev notes to show?";
    }
  }
  get setting_NextChain() {
    if (this.language == "zh") {
      return "\u540E\u7F6E\u7B14\u8BB0\u6570\u91CF\uFF1F";
    } else {
      return "Number of next notes to show?";
    }
  }
  get setting_suggesterNotesMode() {
    if (this.language == "zh") {
      return `${this.chain_insert_node}\uFF1A\u9ED8\u8BA4\u6A21\u5F0F`;
    } else {
      return `${this.chain_insert_node}:Default mode`;
    }
  }
  get setting_auto_notechain() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u81EA\u52A8\u91CD\u5851\u6587\u4EF6\u5939\u7B14\u8BB0\u94FE\uFF1F";
    } else {
      return "Auto build notechain of folder while open new file?";
    }
  }
  get setting_refreshDataView() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u5237\u65B0Dataview\u89C6\u56FE\uFF1F";
    } else {
      return "Refresh dataview while open new file?";
    }
  }
  get setting_refreshTasks() {
    if (this.language == "zh") {
      return "\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u5237\u65B0Tasks\u89C6\u56FE\uFF1F";
    } else {
      return "Refresh tasks while open new file?";
    }
  }
  get setting_wordcout() {
    if (this.language == "zh") {
      return "\u7EDF\u8BA1\u6BCF\u65E5\u5B57\u6570";
    } else {
      return "Register daily word count?";
    }
  }
  get setting_avata() {
    if (this.language == "zh") {
      return "\u5934\u50CF";
    } else {
      return "Avata";
    }
  }
  get setting_wordcout_xfolder() {
    if (this.language == "zh") {
      return "\u8DF3\u8FC7\u4EE5\u4E0B\u76EE\u5F55";
    } else {
      return "Ignore these folders";
    }
  }
  get setting_notice_while_modify_chain() {
    if (this.language == "zh") {
      return "\u4FEE\u6539\u7B14\u8BB0\u94FE\u65F6\u663E\u793A\u901A\u77E5\uFF1F";
    } else {
      return "Notice while modify note chain?";
    }
  }
  get setting_field_of_display_text() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5217\u8868\u663E\u793A\u6587\u4EF6\u540D";
    } else {
      return "Display text for notes in file-explorer?";
    }
  }
  get setting_field_of_background_color() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5217\u8868\u5143\u7D20\u98CE\u683C";
    } else {
      return "File-item style for notes in file-explorer?";
    }
  }
  get item_insert_suggester() {
    if (this.language == "zh") {
      return "\u63D2\u5165\u6A21\u5F0F\uFF08\u76F8\u5BF9\u4E8E\u951A\u70B9\uFF09";
    } else {
      return "Insert mode(relate to anchor).";
    }
  }
  get item_insert_node_after() {
    if (this.language == "zh") {
      return "\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Next note";
    }
  }
  get item_insert_node_before() {
    if (this.language == "zh") {
      return "\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Prev note";
    }
  }
  get item_insert_node_as_head() {
    if (this.language == "zh") {
      return "\u94FE\u5934";
    } else {
      return "Head of chain";
    }
  }
  get item_insert_node_as_tail() {
    if (this.language == "zh") {
      return "\u94FE\u5C3E";
    } else {
      return "Tail of thain";
    }
  }
  get item_insert_folder_after() {
    if (this.language == "zh") {
      return "\u6587\u4EF6\u5939\u540E\u7F6E";
    } else {
      return "Folder as next";
    }
  }
  get item_get_brothers() {
    if (this.language == "zh") {
      return "\u540C\u7EA7\u7B14\u8BB0";
    } else {
      return "Notes in same folder";
    }
  }
  get item_same_folder() {
    if (this.language == "zh") {
      return "\u540C\u7EA7\u7B14\u8BB0+\u5B50\u76EE\u5F55";
    } else {
      return "Notes in same folder(recursive)";
    }
  }
  get item_inlinks_outlinks() {
    if (this.language == "zh") {
      return "\u51FA\u94FE+\u5165\u94FE";
    } else {
      return "outLinks + inLinks";
    }
  }
  get item_inlins() {
    if (this.language == "zh") {
      return "\u5165\u94FE";
    } else {
      return "inlinks";
    }
  }
  get item_outlinks() {
    if (this.language == "zh") {
      return "\u51FA\u94FE";
    } else {
      return "outlinks";
    }
  }
  get item_all_noes() {
    if (this.language == "zh") {
      return "\u6240\u6709\u7B14\u8BB0";
    } else {
      return "All notes";
    }
  }
  get item_recent() {
    if (this.language == "zh") {
      return "\u8FD1\u671F\u7B14\u8BB0";
    } else {
      return "Recent";
    }
  }
  get item_uncle_notes() {
    if (this.language == "zh") {
      return "\u4E0A\u7EA7\u7B14\u8BB0";
    } else {
      return "Notes in grandpa folder";
    }
  }
  get item_notechain() {
    if (this.language == "zh") {
      return "\u7B14\u8BB0\u94FE\u6761";
    } else {
      return "Note chain";
    }
  }
  get item_currentnote() {
    if (this.language == "zh") {
      return "\u5F53\u524D\u7B14\u8BB0";
    } else {
      return "Current note";
    }
  }
  get item_chain_insert_node_after() {
    if (this.language == "zh") {
      return "\u6DFB\u52A0\u540E\u7F6E\u7B14\u8BB0";
    } else {
      return "Create next note";
    }
  }
  get item_chain_insert_node_as_tail() {
    if (this.language == "zh") {
      return "\u94FE\u5C3E\u6DFB\u52A0\u7B14\u8BB0";
    } else {
      return "Create tail note";
    }
  }
  get item_chain_insert_node_before() {
    if (this.language == "zh") {
      return "\u6DFB\u52A0\u524D\u7F6E\u7B14\u8BB0";
    } else {
      return "Create prev note";
    }
  }
  get item_chain_insert_node_as_head() {
    if (this.language == "zh") {
      return "\u94FE\u5934\u6DFB\u52A0\u7B14\u8BB0";
    } else {
      return "Create head note";
    }
  }
  get item_item_chain_insert_null() {
    if (this.language == "zh") {
      return "\u65E0\u94FE\u63A5";
    } else {
      return "Create note not in chain";
    }
  }
  get prompt_notename() {
    if (this.language == "zh") {
      return "\u8F93\u5165\u7B14\u8BB0\u540D";
    } else {
      return "Input note name";
    }
  }
};
var strings = new Strings();

// src/WordCount.ts
var import_obsidian6 = require("obsidian");
var WordCount = class {
  constructor(plugin, app) {
    this.plugin = plugin;
    this.app = app;
    this.nretry = 100;
    this.register();
  }
  filter(tfile) {
    var _a;
    if (!tfile) {
      return false;
    }
    if (tfile.deleted) {
      return false;
    }
    if (tfile.extension != "md") {
      return false;
    }
    let xfolders = this.plugin.settings.wordcountxfolder.split("\n").filter((x) => x != "");
    for (let item of xfolders) {
      if (tfile.path.startsWith(item)) {
        return false;
      } else if (item == "/") {
        if (((_a = tfile.parent) == null ? void 0 : _a.path) == "/") {
          return false;
        }
      }
    }
    return true;
  }
  // 统计字数
  count_words(ctx, ignore = /[\s!"#$%&'()*+,./:;<=>?@[\]^_`{|}，。！？【】、；：“”‘’《》（）［］—…￥]/g) {
    let N = ctx.replace(ignore, "").length;
    let enregex = /[a-zA-Z0-9-]+/g;
    let matches = ctx.match(enregex);
    if (matches) {
      let elen = 0;
      matches.forEach((x) => elen = elen + x.length);
      N = N - elen + matches.length;
    }
    return N;
  }
  async set_mtime_value(tfile, key, val) {
    var _a, _b;
    let activeView = this.app.workspace.getActiveViewOfType(import_obsidian6.MarkdownView);
    let editorState = {};
    if (activeView && activeView.file === tfile) {
      let editor = activeView.editor;
      if (editor) {
        editorState.cursor = editor.getCursor();
        editorState.selection = editor.getSelection();
        editorState.sanchor = editor.getCursor("anchor");
        editorState.shead = editor.getCursor("head");
        editorState.scrollInfo = editor.getScrollInfo();
      }
    }
    let aline = ((_a = editorState == null ? void 0 : editorState.cursor) == null ? void 0 : _a.line) !== void 0 ? (_b = activeView == null ? void 0 : activeView.editor) == null ? void 0 : _b.getLine(editorState.cursor.line) : void 0;
    if (aline && aline.startsWith("|") && aline.endsWith("|")) {
      return;
    }
    await this.app.fileManager.processFrontMatter(
      tfile,
      (fm) => {
        let t = import_obsidian6.moment.unix(tfile.stat.mtime / 1e3);
        let mtime = t.format("YYYY-MM-DD");
        if (fm[key] == null) {
          if (val > 0) {
            fm[key] = {};
            if (mtime == (0, import_obsidian6.moment)().format("YYYY-MM-DD") && mtime != import_obsidian6.moment.unix(tfile.stat.ctime / 1e3).format("YYYY-MM-DD")) {
              fm[key][t.add(-1, "days").format("YYYY-MM-DD")] = val;
            } else {
              fm[key][mtime] = val;
            }
          }
        } else {
          let ts = Object.keys(fm[key]).sort((b, a) => a.localeCompare(b)).filter((x) => !(x == mtime));
          if (ts.length == 0) {
            if (val > 0) {
              fm[key][mtime] = val;
            } else if (fm[key][mtime]) {
              fm[key][mtime] = val;
            }
          } else {
            if (val - fm[key][ts[0]] != 0) {
              fm[key][mtime] = val;
            } else if (fm[key][mtime]) {
              delete fm[key][mtime];
            }
          }
        }
      }
    );
    if (activeView && activeView.file === tfile) {
      let editor = activeView.editor;
      if (editor) {
        if (editorState.scrollInfo) {
          editor.scrollTo(editorState.scrollInfo.left, editorState.scrollInfo.top);
        }
        if (editorState.selection && editorState.sanchor && editorState.shead) {
          try {
            editor.setSelection(editorState.sanchor, editorState.shead);
          } catch (error) {
            new import_obsidian6.Notice(`Error setting selection:${error}`, 3e3);
          }
        } else if (editorState.cursor) {
          editor.setCursor(editorState.cursor);
        }
      }
    }
  }
  get_new_words(tfile, day = (0, import_obsidian6.moment)().format("YYYY-MM-DD")) {
    var _a;
    let meta = this.app.metadataCache.getFileCache(tfile);
    let values = (_a = meta == null ? void 0 : meta.frontmatter) == null ? void 0 : _a.words;
    if (values) {
      let keys = Object.keys(values).sort((a, b) => a.localeCompare(b));
      let idx = keys.indexOf(day);
      if (idx < 0) {
        return 0;
      } else if (idx == 0) {
        return values[day];
      } else {
        return values[day] - values[keys[idx - 1]];
      }
    }
  }
  async update_word_count(tfile) {
    if (!this.filter(tfile)) {
      return;
    }
    let ctx = await this.app.vault.cachedRead(tfile);
    let mcache = this.app.metadataCache.getFileCache(tfile);
    if (mcache == null ? void 0 : mcache.frontmatterPosition) {
      ctx = ctx.slice(mcache.frontmatterPosition.end.offset);
    }
    let N = this.count_words(ctx);
    await this.set_mtime_value(tfile, "words", N);
  }
  check_frontmatter(tfile, kv) {
    try {
      if (!tfile) {
        return false;
      }
      let meta = this.app.metadataCache.getFileCache(tfile);
      if (meta == null ? void 0 : meta.frontmatter) {
        for (let k in kv) {
          if (!(meta.frontmatter[k] == kv[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    } catch (error) {
      return false;
    }
  }
  async wait_frontmatter(tfile, kv, nretry = this.nretry) {
    let flag = this.check_frontmatter(tfile, kv);
    while (!flag && nretry > 0) {
      await sleep(50);
      nretry = nretry - 1;
      flag = this.check_frontmatter(tfile, kv);
    }
    return flag;
  }
  async update_word_count_of_vault() {
    let tfiles = this.app.vault.getMarkdownFiles().filter((x) => this.filter(x));
    let i = 0;
    for (let tfile of tfiles) {
      new import_obsidian6.Notice(`${i}/${tfiles.length}:${tfile.name}`, 3e3);
      await this.update_word_count(tfile);
      i = i + 1;
    }
  }
  register() {
    if (this.plugin.settings.wordcout) {
      this.regeister_editor_change();
      this.regeister_active_leaf_change();
    }
  }
  regeister_editor_change() {
    this.plugin.registerEvent(
      this.app.workspace.on("editor-change", async (editor, info) => {
        var _a;
        if (((_a = info.file) == null ? void 0 : _a.extension) != "md") {
          return;
        }
        if (this.timerId !== null) {
          clearTimeout(this.timerId);
        }
        if (info.file) {
          this.timerId = setTimeout(() => {
            this.update_word_count(info.file);
          }, 3e3);
        }
      })
    );
  }
  regeister_active_leaf_change() {
    this.plugin.registerEvent(
      this.app.workspace.on("active-leaf-change", async (leaf) => {
        var _a, _b;
        let tfile = (leaf == null ? void 0 : leaf.view).file;
        if (!(leaf == null ? void 0 : leaf.view)) {
          return;
        }
        if (!(((_b = (_a = leaf.view) == null ? void 0 : _a.file) == null ? void 0 : _b.extension) == "md")) {
          return;
        }
        await this.update_word_count(tfile);
        if (this.curr_active_file == null) {
          this.curr_active_file = tfile;
          return;
        }
        if (this.curr_active_file != tfile) {
          await this.update_word_count(this.curr_active_file);
          this.curr_active_file = tfile;
        }
      })
    );
  }
  get_words_of_tfiles() {
    return this.plugin.chain.get_all_tfiles().map(
      (x) => this.plugin.editor.get_frontmatter(x, "words")
    ).filter((x) => x);
  }
  sum_words_of_tifles(files, begt, endt) {
    if (typeof begt == "number") {
      begt = (0, import_obsidian6.moment)().add(-begt, "days").format("YYYY-MM-DD");
    }
    if (typeof endt == "number") {
      endt = (0, import_obsidian6.moment)().add(-endt, "days").format("YYYY-MM-DD");
    }
    let startDate = new Date(begt);
    let endDate = new Date(endt);
    let dailyWordCounts = {};
    for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {
      let dateStr = date.toISOString().split("T")[0];
      dailyWordCounts[dateStr] = 0;
    }
    files.forEach((file) => {
      let lastWordCount = 0;
      let earliestDate = new Date(Object.keys(file).sort()[0]);
      if (earliestDate < startDate) {
        lastWordCount = file[earliestDate.toISOString().split("T")[0]];
      }
      for (let date = new Date(startDate); date <= endDate; date.setDate(date.getDate() + 1)) {
        let dateStr = date.toISOString().split("T")[0];
        if (file.hasOwnProperty(dateStr)) {
          lastWordCount = file[dateStr];
        }
        dailyWordCounts[dateStr] += lastWordCount;
      }
    });
    return dailyWordCounts;
  }
  diff_words_of_tifles(dailyWordCounts, first_as_zero = true) {
    let dailyNewWordCounts = {};
    let previousTotal = 0;
    let first = "";
    for (let date in dailyWordCounts) {
      if (first === "") {
        first = date;
      }
      let currentTotal = dailyWordCounts[date];
      dailyNewWordCounts[date] = currentTotal - previousTotal;
      previousTotal = currentTotal;
    }
    if (first_as_zero && first !== "") {
      dailyNewWordCounts[first] = 0;
    }
    return dailyNewWordCounts;
  }
};

// src/graph.ts
var import_obsidian7 = require("obsidian");
var NoteNode = class {
  constructor(tfile, plugin) {
    this.tfile = tfile;
    this.note2id = {};
    this.id = 0;
    this.plugin = plugin;
  }
  // 返回 IDXXXX
  get_id(tfile) {
    if (tfile.basename in this.note2id) {
      return this.note2id[tfile.basename];
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[tfile.basename] = newId;
    this.id = this.id + 1;
    return newId;
  }
  // 返回IDXXXX["tfile.basename"]
  get_node(tfile) {
    let id = this.get_id(tfile);
    return `${id}("${tfile.basename}")`;
  }
  get_mehrmaid_node(node, avata = "") {
    if (node in this.note2id) {
      return this.note2id[node];
    }
    if (node.startsWith("subgraph ")) {
      return node.slice("subgraph ".length);
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[node] = newId;
    this.id = this.id + 1;
    let tfile = this.plugin.chain.get_tfile(node);
    if (tfile) {
      if (avata == "") {
        avata = this.plugin.settings.avata;
      }
      let meta = this.plugin.editor.get_frontmatter(tfile, avata);
      if (meta) {
        if (meta.startsWith("#")) {
          node = `![[${tfile.basename}${meta}|no-head]]`;
        } else {
          node = meta.replace("SELF", `[[${tfile.basename}]]`);
        }
      }
    }
    return `${newId}("${node}")`;
  }
  get_canvas_node(node) {
    if (node in this.note2id) {
      return this.note2id[node];
    }
    let newId = `ID${this.id.toString().padStart(4, "0")}`;
    this.note2id[node] = newId;
    this.id = this.id + 1;
    return newId;
  }
  notes2class() {
    let msg = "\n";
    for (let tfile in this.note2id) {
      msg = msg + `	class ${this.note2id[tfile]} internal-link;
`;
    }
    return msg;
  }
};
var MermaidGraph = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = plugin.editor;
  }
  get_note_node(tfile) {
    let node = new NoteNode(tfile, this.plugin);
    return node;
  }
  subgraph_chain(node, tfiles, subgraph = "", line = "<-->") {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let i = 0;
    while (i < items.length - 1) {
      let prev = node.get_node(items[i]);
      let next = node.get_node(items[i + 1]);
      msg = msg + `${stab}${prev}${line}${next}
`;
      i = i + 1;
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  subgraph_links(node, tfiles, subgraph = "", line = "-->", tfiles_first = false) {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let i = 0;
    let sid = node.get_node(node.tfile);
    while (i < items.length) {
      let id = node.get_node(items[i]);
      if (tfiles_first) {
        msg = msg + `${stab}${id}${line}${sid}
`;
      } else {
        msg = msg + `${stab}${sid}${line}${id}
`;
      }
      i = i + 1;
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  // [src,dst,io]
  edges_of_tfiles(tfiles, merge_inout = true) {
    let inlinks = {};
    let outlinks = {};
    for (let tfile of tfiles) {
      outlinks[tfiles.indexOf(tfile)] = this.plugin.chain.get_outlinks(tfile, true);
      inlinks[tfiles.indexOf(tfile)] = this.plugin.chain.get_inlinks(tfile, true);
    }
    let edges = [];
    for (let tfile of tfiles) {
      let i = tfiles.indexOf(tfile);
      for (let outlink of outlinks[i]) {
        if (tfiles.contains(outlink)) {
          if (tfiles.indexOf(outlink) <= i) {
            continue;
          }
          if (merge_inout) {
            if (inlinks[i].contains(outlink)) {
              edges.push([tfile, outlink, true]);
            } else {
              edges.push([tfile, outlink, false]);
            }
          } else {
            edges.push([tfile, outlink, false]);
          }
        }
      }
      for (let inlink of inlinks[i]) {
        if (tfiles.contains(inlink)) {
          if (tfiles.indexOf(inlink) <= i) {
            continue;
          }
          if (merge_inout) {
            if (!outlinks[i].contains(inlink)) {
              edges.push([inlink, tfile, false]);
            }
          } else {
            edges.push([inlink, tfile, false]);
          }
        }
      }
    }
    return edges;
  }
  subgraph_cross(node, tfiles, subgraph = "", line = "-->", tfiles_first = false) {
    let msg = "";
    let items = tfiles.map((x) => x);
    let stab = "	";
    if (subgraph != "") {
      msg = msg + `
	subgraph ${subgraph}
`;
      stab = "		";
    }
    let edges = this.edges_of_tfiles(tfiles);
    for (let edge of edges) {
      let sid = node.get_node(edge[0]);
      let did = node.get_node(edge[1]);
      if (edge[2]) {
        msg = msg + `${stab}${sid}<-.->${did}
`;
      } else {
        msg = msg + `${stab}${sid}-.->${did}
`;
      }
    }
    if (subgraph != "") {
      msg = msg + "	end\n";
    }
    return msg;
  }
  get_flowchart(tfile, N = 2, c_chain = "#F05454", c_inlink = "#776B5D", c_outlink = "#222831", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let node = new NoteNode(tfile, this.plugin);
    let nc = this.plugin;
    let msg = "```mermaid\nflowchart TD\n";
    let chain = nc.chain.get_chain(tfile, N, N);
    msg = msg + this.subgraph_chain(node, chain, "\u7B14\u8BB0\u94FE");
    let inlinks = nc.chain.get_inlinks(tfile, true).filter((x) => !chain.contains(x));
    let outlinks = nc.chain.get_outlinks(tfile, true).filter((x) => !chain.contains(x));
    msg = msg + this.subgraph_links(node, inlinks, "\u5165\u94FE", "-->", true);
    msg = msg + this.subgraph_links(node, outlinks, "\u51FA\u94FE", "-->");
    msg = msg + node.notes2class();
    msg = msg + [
      "classDef \u7B14\u8BB0\u94FEC fill:" + c_chain,
      "classDef \u5165\u94FEC fill:" + c_inlink,
      "classDef \u51FA\u94FEC fill:" + c_outlink,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}`,
      "class \u7B14\u8BB0\u94FE \u7B14\u8BB0\u94FEC",
      "class \u5165\u94FE \u5165\u94FEC",
      "class \u51FA\u94FE \u51FA\u94FEC",
      ""
    ].join("\n");
    msg = msg + "```";
    msg = msg.replace(
      `class ${node.get_id(tfile)} internal-link;`,
      `class ${node.get_id(tfile)} Anchor;`
    );
    return msg;
  }
  flowchart_folder(tfile, subgraph = "Folder", color = "#F05454", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let tfiles = this.plugin.chain.get_brothers(tfile);
    return this.flowchart_cross(tfile, tfiles, subgraph, color, c_anchor);
  }
  flowchart_notechain(tfile, N = 10, subgraph = "NoteChain", color = "#F05454", c_anchor = "#40A578") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let tfiles = this.plugin.chain.get_chain(tfile, N, N);
    return this.flowchart_cross(tfile, tfiles, subgraph, color, c_anchor);
  }
  flowchart_cross(anchor, tfiles, subgraph = "", color = "#F05454", c_anchor = "#40A578") {
    let node = new NoteNode(tfiles[0], this.plugin);
    let msg = "```mermaid\nflowchart TD\n";
    msg = msg + this.subgraph_cross(node, tfiles, subgraph);
    msg = msg + node.notes2class();
    msg = msg + [
      `classDef ${subgraph}C fill:${color}`,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}`,
      `class ${subgraph} ${subgraph}C`,
      ""
    ].join("\n");
    msg = msg + "```";
    msg = msg.replace(
      `class ${node.get_id(anchor)} internal-link;`,
      `class ${node.get_id(anchor)} Anchor;`
    );
    return msg;
  }
  get_subgrah_names(group_name, tfiles, name = "group") {
    let nc = this.plugin;
    let items = {};
    for (let cfile of tfiles) {
      let cgroup = nc.editor.get_frontmatter(cfile, name);
      if (cgroup && Array.isArray(cgroup)) {
        for (let cg of cgroup) {
          let tmp = cg.split("/");
          if (tmp[0] == group_name) {
            if (tmp.length == 1) {
              items[tfiles.indexOf(cfile)] = "";
            } else {
              items[tfiles.indexOf(cfile)] = tmp[1];
            }
            break;
          }
        }
      }
    }
    return items;
  }
  flowchart_groups(anchor, name = "group") {
    let nc = this.plugin;
    let tfiles = nc.chain.get_brothers(anchor);
    tfiles = nc.chain.get_group_links(tfiles, 1);
    let node = nc.mermaid.get_note_node(anchor);
    let group = nc.editor.get_frontmatter(anchor, name);
    if (!group || !Array.isArray(group)) {
      return [];
    }
    let res = [];
    for (let g of group) {
      g = g.split("/")[0];
      let items = this.get_subgrah_names(g, tfiles, name);
      let subs = new Set(Object.values(items));
      let msg = `\`\`\`mermaid
---
title: ${g}
---
flowchart TD
`;
      for (let sub of subs) {
        if (sub == "") {
          for (let idx in items) {
            if (items[idx] == sub) {
              msg = msg + "\n" + node.get_node(tfiles[idx]);
            }
          }
        } else {
          msg = msg + "\nsubgraph " + sub + "\n";
          for (let idx in items) {
            if (items[idx] == sub) {
              msg = msg + "\n	" + node.get_node(tfiles[idx]);
            }
          }
          msg = msg + "\nend";
        }
      }
      msg = msg + "\n" + this.subgraph_cross(node, Object.keys(items).map((x) => tfiles[x]));
      msg = msg + "\n" + node.notes2class();
      msg = msg + "\n```";
      res.push(msg);
    }
    return res;
  }
  get_relationship_graph(tfile, N = 1, key = "link", show_all_node = true) {
    let nc = this.plugin;
    let node = new NoteNode(tfile, this.plugin);
    let msg = "```mermaid\nflowchart TD\n";
    let tfiles = nc.chain.get_group_links([tfile], N);
    if (show_all_node) {
      for (let tfile2 of tfiles) {
        msg += `${node.get_node(tfile2)}
`;
      }
    }
    let processedFiles = /* @__PURE__ */ new Set();
    for (let currentFile of tfiles) {
      if (processedFiles.has(currentFile))
        continue;
      processedFiles.add(currentFile);
      let links = nc.editor.get_frontmatter(currentFile, key);
      if (links) {
        for (let [relation, linkedNote] of Object.entries(links)) {
          if (linkedNote instanceof Array) {
            for (let item of linkedNote) {
              let linkedTFile = nc.chain.get_tfile(item);
              if (linkedTFile instanceof import_obsidian7.TFile) {
                msg += `	${node.get_node(currentFile)} -->|${relation}| ${node.get_node(linkedTFile)}
`;
              }
            }
          } else {
            let linkedTFile = nc.chain.get_tfile(linkedNote);
            if (linkedTFile instanceof import_obsidian7.TFile) {
              msg += `	${node.get_node(currentFile)} -->|${relation}| ${node.get_node(linkedTFile)}
`;
            }
          }
        }
      }
    }
    msg = msg + node.notes2class();
    msg += "```";
    let c_anchor = "#40A578";
    msg = msg.replace(
      `class ${node.get_id(tfile)} internal-link;`,
      `classDef Anchor fill:${c_anchor},stoke:${c_anchor}
class ${node.get_id(tfile)} Anchor;`
    );
    return msg;
  }
  get_mehrmaid_graph(tfile, N = 1, key = "mermaid", c_anchor = "#d4c4b7", field = "avata") {
    if (!tfile) {
      let leaf = this.plugin.chain.get_last_activate_leaf();
      if (leaf) {
        tfile = leaf.view.file;
      }
    }
    if (!tfile) {
      return "No File.";
    }
    let nc = this.plugin;
    let node = new NoteNode(tfile, this.plugin);
    let msg = "```mehrmaid\nflowchart TD\n";
    let tfiles;
    if (N == -1) {
      tfiles = nc.chain.get_brothers(tfile);
    } else {
      tfiles = nc.chain.get_group_links([tfile], N);
    }
    tfiles = nc.chain.sort_tfiles_by_chain(tfiles);
    for (let currentFile of tfiles) {
      let src2 = `[[${currentFile.basename}]]`;
      let links = nc.editor.get_frontmatter(currentFile, key);
      if (links && Array.isArray(links)) {
        for (let link of links) {
          if (link["edge"] != null && link["node"] != null) {
            let cedge = link["edge"];
            let cnode = link["node"];
            if (cedge == "") {
              cedge = "";
            } else {
              cedge = `|"${cedge}"|`;
            }
            let line = "-->";
            if (link["line"]) {
              line = link["line"];
            }
            if (line[0] == "<" && line[line.length - 1] != ">") {
              line = line.slice(1) + ">";
              if (cnode instanceof Array) {
                for (let item of cnode) {
                  msg += `${node.get_mehrmaid_node(item, field)} ${line} ${cedge} ${node.get_mehrmaid_node(src2, field)}
`;
                }
              } else {
                msg += `${node.get_mehrmaid_node(cnode, field)} ${line} ${cedge} ${node.get_mehrmaid_node(src2, field)}
`;
              }
            } else {
              if (cnode instanceof Array) {
                for (let item of cnode) {
                  msg += `${node.get_mehrmaid_node(src2, field)} ${line} ${cedge} ${node.get_mehrmaid_node(item, field)}
`;
                }
              } else {
                msg += `${node.get_mehrmaid_node(src2, field)} ${line} ${cedge} ${node.get_mehrmaid_node(cnode, field)}
`;
              }
            }
          } else {
            if (link["group"]) {
              msg += `subgraph ${link["group"]}
	${node.get_mehrmaid_node(src2, field)}
end
`;
              if (link["color"]) {
                msg += `classDef ${link["group"]}Class fill:${link["color"]}
`;
                msg += `class ${link["group"]} ${link["group"]}Class
`;
              }
            }
          }
        }
      }
    }
    let src = `[[${tfile.basename}]]`;
    msg += `${node.get_mehrmaid_node(src)}
`;
    if (c_anchor) {
      msg += `classDef Anchor fill:${c_anchor},stoke:${c_anchor}
class ${node.get_mehrmaid_node(src)} Anchor;
`;
    }
    msg += "```";
    return msg;
  }
};
var CanvasGraph = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.app = plugin.app;
    this.editor = plugin.editor;
  }
  gen_random_string(length) {
    let characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let randomString = "";
    for (let i = 0; i < length; i++) {
      let randomIndex = Math.floor(Math.random() * characters.length);
      randomString += characters.charAt(randomIndex);
    }
    return randomString;
  }
  new_note_node(tfile) {
    let node = new NoteNode(tfile, this.plugin);
    return node;
  }
  gen_node(NN, tfile, x = 0, y = 0, width = 400, height = 400) {
    let rsp = {};
    if (typeof tfile == "string") {
      rsp["type"] = "text";
      rsp["text"] = tfile;
      rsp["id"] = NN.get_canvas_node(rsp["text"]);
    } else {
      rsp["type"] = "file";
      if (tfile instanceof import_obsidian7.TFolder) {
        rsp["file"] = tfile.path + "/" + tfile.name + ".md";
      } else {
        rsp["file"] = tfile.path;
      }
      rsp["id"] = NN.get_canvas_node(rsp["file"]);
    }
    rsp["x"] = x;
    rsp["y"] = y;
    rsp["height"] = height;
    rsp["width"] = width;
    return rsp;
  }
  rc_of_sequence(i, r, c) {
    let row = Math.floor((i - 1) / c) + 1;
    let col = row % 2 === 1 ? (i - 1) % c + 1 : c - (i - 1) % c;
    return [row, col];
  }
  async note_to_canvas(tfile, nrow = 1, ncol = 1, width = 400, height = 400, wmarin = 100, hmargin = 100, write = true) {
    let content = await this.plugin.app.vault.read(tfile);
    let titles = [...content.matchAll(/^(#+)\s+(.+)/gm)];
    if (nrow * ncol < titles.length) {
      ncol = Math.ceil(titles.length / nrow);
    }
    let nodes = [];
    let i = 0;
    let NN = this.new_note_node(tfile);
    for (let match of titles) {
      i = i + 1;
      let title = `![[${tfile.basename}#${match[2]}]]`;
      let pos = this.rc_of_sequence(i, nrow, ncol);
      let node = this.gen_node(
        NN = NN,
        title,
        pos[1] * (width + wmarin),
        pos[0] * (height + hmargin),
        width = width,
        height = height
      );
      nodes.push(node);
    }
    let res = {
      "nodes": nodes,
      "edges": []
    };
    if (write) {
      let path = this.path_md2canvas(tfile);
      await this.write_canvas_file(res, path);
    }
    return res;
  }
  async write_canvas_file(canvas, path) {
    let msg = JSON.stringify(canvas);
    let canvasFile = this.plugin.app.vault.getAbstractFileByPath(path);
    if (canvasFile) {
      await this.plugin.app.vault.modify(canvasFile, msg);
    } else {
      await this.plugin.app.vault.create(path, msg);
    }
  }
  path_md2canvas(tfile) {
    return tfile.path.replace(".md", ".canvas");
  }
};

// src/setting.ts
var import_obsidian8 = require("obsidian");
var DEFAULT_SETTINGS = {
  PrevChain: "10",
  NextChain: "10",
  field_of_display_text: "notechain.display",
  field_of_background_color: "notechain.style",
  auto_notechain: false,
  notice_while_modify_chain: false,
  refreshDataView: true,
  refreshTasks: true,
  isSortFileExplorer: true,
  isFolderFirst: true,
  suggesterNotesMode: "",
  wordcout: true,
  wordcountxfolder: "",
  modal_default_width: 800,
  modal_default_height: 600,
  avata: "avata"
};
var NCSettingTab = class extends import_obsidian8.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_isSortFileExplorer).addToggle(
      (text) => text.setValue(this.plugin.settings.isSortFileExplorer).onChange(async (value) => {
        this.plugin.settings.isSortFileExplorer = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.sort();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_isFolderFirst).addToggle(
      (text) => text.setValue(this.plugin.settings.isFolderFirst).onChange(async (value) => {
        this.plugin.settings.isFolderFirst = value;
        await this.plugin.saveSettings();
        this.plugin.explorer.sort();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_PrevChain).addText((text) => text.setValue(this.plugin.settings.PrevChain).onChange(async (value) => {
      this.plugin.settings.PrevChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_suggesterNotesMode).addDropdown((dropdown) => dropdown.addOption("item_get_brothers", this.plugin.strings.item_get_brothers).addOption("item_uncle_notes", this.plugin.strings.item_uncle_notes).addOption("item_notechain", this.plugin.strings.item_notechain).addOption("item_same_folder", this.plugin.strings.item_same_folder).addOption("item_inlinks_outlinks", this.plugin.strings.item_inlinks_outlinks).addOption("item_inlins", this.plugin.strings.item_inlins).addOption("item_outlinks", this.plugin.strings.item_outlinks).addOption("item_all_noes", this.plugin.strings.item_all_noes).addOption("item_recent", this.plugin.strings.item_recent).addOption("", "").setValue(this.plugin.settings.suggesterNotesMode).onChange(async (value) => {
      this.plugin.settings.suggesterNotesMode = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_NextChain).addText((text) => text.setValue(this.plugin.settings.NextChain).onChange(async (value) => {
      this.plugin.settings.NextChain = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_auto_notechain).addToggle(
      (text) => text.setValue(this.plugin.settings.auto_notechain).onChange(async (value) => {
        this.plugin.settings.auto_notechain = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_field_of_display_text).addText((text) => text.setValue(this.plugin.settings.field_of_display_text).onChange(async (value) => {
      this.plugin.settings.field_of_display_text = value;
      this.plugin.explorer.set_display_text();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_field_of_background_color).addText((text) => text.setValue(this.plugin.settings.field_of_background_color).onChange(async (value) => {
      this.plugin.settings.field_of_background_color = value;
      this.plugin.explorer.set_fileitem_style();
      await this.plugin.saveSettings();
    }));
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_notice_while_modify_chain).addToggle(
      (text) => text.setValue(this.plugin.settings.notice_while_modify_chain).onChange(async (value) => {
        this.plugin.settings.notice_while_modify_chain = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_refreshDataView).addToggle(
      (text) => text.setValue(this.plugin.settings.refreshDataView).onChange(async (value) => {
        this.plugin.settings.refreshDataView = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_refreshTasks).addToggle(
      (text) => text.setValue(this.plugin.settings.refreshTasks).onChange(async (value) => {
        this.plugin.settings.refreshTasks = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_wordcout).addToggle(
      (text) => text.setValue(this.plugin.settings.wordcout).onChange(async (value) => {
        this.plugin.settings.wordcout = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_wordcout_xfolder).addTextArea(
      (text) => text.setValue(this.plugin.settings.wordcountxfolder).onChange(async (value) => {
        this.plugin.settings.wordcountxfolder = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian8.Setting(containerEl).setName(this.plugin.strings.setting_avata).addTextArea(
      (text) => text.setValue(this.plugin.settings.avata).onChange(async (value) => {
        this.plugin.settings.avata = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// src/commands.ts
var import_obsidian9 = require("obsidian");
var cmd_longform2notechain = (plugin) => ({
  id: "longform2notechain",
  name: plugin.strings.cmd_longform2notechain,
  callback: async () => {
    let curr = plugin.chain.current_note;
    if (curr == null) {
      return;
    }
    plugin.app.fileManager.processFrontMatter(
      curr,
      async (fm) => {
        if (curr == null) {
          return;
        }
        if (fm["longform"] == null) {
          return;
        }
        let scenes = plugin.utils.concat_array(fm.longform.scenes);
        let ignoredFiles = plugin.utils.concat_array(fm.longform.ignoredFiles);
        ignoredFiles = ignoredFiles.filter((f) => !scenes.contains(f));
        let notes = plugin.utils.concat_array([scenes, ignoredFiles]);
        notes = notes.map((f) => plugin.chain.tp_find_tfile(f));
        if (curr.parent == null) {
          return;
        }
        ;
        let tfiles = plugin.chain.get_tfiles_of_folder(curr.parent).filter((f) => !notes.contains(f));
        notes = plugin.utils.concat_array([tfiles, notes]);
        await plugin.chain.chain_concat_tfiles(notes);
        plugin.explorer.sort();
      }
    );
  }
});
var cmd_longform4notechain = (plugin) => ({
  id: "longform4notechain",
  name: plugin.strings.cmd_longform4notechain,
  callback: async () => {
    let nc = plugin;
    let curr = plugin.chain.current_note;
    if (curr == null || curr.parent == null) {
      return;
    }
    let path = curr.parent.path + "/" + curr.parent.name + ".md";
    let dst = await nc.chain.get_tfile(path);
    if (dst == null) {
      let ufunc = nc.utils.get_tp_func(nc.app, "tp.file.create_new");
      dst = await ufunc(
        "",
        curr.parent.name,
        false,
        curr.parent
      );
    }
    await nc.app.fileManager.processFrontMatter(
      dst,
      (fm) => {
        if (fm["longform"] == null) {
          fm["longform"] = {
            "format": "scenes",
            "title": dst.parent.name,
            "workflow": "Default Workflow",
            "sceneFolder": "/",
            "scenes": [],
            "ignoredFiles": []
          };
        }
      }
    );
    await plugin.app.fileManager.processFrontMatter(
      dst,
      (fm) => {
        if (dst == null) {
          return;
        }
        if (dst.parent == null) {
          return;
        }
        ;
        if (fm["longform"] == null) {
          return;
        }
        let notes = plugin.chain.get_tfiles_of_folder(dst.parent);
        notes = plugin.chain.sort_tfiles_by_chain(notes);
        fm.longform.scenes = notes.map((f) => f.basename);
      }
    );
    await nc.chain.open_note(dst);
  }
});
var cmd_sort_file_explorer = (plugin) => ({
  id: "sort_file_explorer",
  name: plugin.strings.cmd_sort_file_explorer,
  callback: async () => {
    await plugin.explorer.sort(0, true);
  }
});
var cmd_open_notes_smarter = (plugin) => ({
  id: "open_notes_smarter",
  name: plugin.strings.cmd_open_notes_smarter,
  callback: () => {
    plugin.open_note_smarter();
  }
});
var cmd_open_note = (plugin) => ({
  id: "suggestor_open_note",
  name: plugin.strings.cmd_open_note,
  callback: () => {
    plugin.chain.sugguster_open_note();
  }
});
var cmd_open_prev_note = (plugin) => ({
  id: "open_prev_notes",
  name: plugin.strings.cmd_open_prev_note,
  callback: () => {
    plugin.chain.open_prev_notes();
  }
});
var cmd_open_next_note = (plugin) => ({
  id: "open_next_notes",
  name: plugin.strings.cmd_open_next_note,
  callback: () => {
    plugin.chain.open_next_notes();
  }
});
var clear_inlinks = (plugin) => ({
  id: "clear_inlinks",
  name: plugin.strings.clear_inlinks,
  callback: () => {
    plugin.clear_inlinks();
  }
});
var move_file_to_another_folder = (plugin) => ({
  id: "move_file_to_another_folder",
  name: plugin.strings.move_file_to_another_folder,
  callback: () => {
    plugin.chain.cmd_move_file_to_another_folder();
  }
});
var replace_notes_with_regx = (plugin) => ({
  id: "replace_notes_with_regx",
  name: plugin.strings.replace_notes_with_regx,
  callback: () => {
    plugin.replace_notes_with_regx();
  }
});
var chain_insert_node = (plugin) => ({
  id: "chain_insert_node",
  name: plugin.strings.chain_insert_node,
  callback: async () => {
    await plugin.cmd_chain_insert_node();
    await plugin.explorer.sort(500);
  }
});
var chain_set_seq_note = (plugin) => ({
  id: "chain_set_seq_note",
  name: plugin.strings.chain_set_seq_note,
  callback: async () => {
    await plugin.chain.chain_suggester_tfiles();
    plugin.explorer.sort();
  }
});
var chain_move_up_node = (plugin) => ({
  id: "chain_move_up_node",
  name: plugin.strings.chain_move_up_node,
  callback: async () => {
    let tfile = plugin.chain.current_note;
    if (tfile) {
      let anchor = plugin.chain.get_prev_note(tfile);
      if (anchor) {
        await plugin.chain.chain_insert_node_before(
          tfile,
          anchor
        );
        await plugin.explorer.sort();
      }
    }
  }
});
var chain_move_down_node = (plugin) => ({
  id: "chain_move_donw_node",
  name: plugin.strings.chain_move_down_node,
  callback: async () => {
    let tfile = plugin.chain.current_note;
    if (tfile) {
      let anchor = plugin.chain.get_next_note(tfile);
      if (anchor) {
        await plugin.chain.chain_insert_node_after(
          tfile,
          anchor
        );
        await plugin.explorer.sort();
      }
    }
  }
});
var create_new_note = (plugin) => ({
  id: "create_new_note",
  name: plugin.strings.create_new_note,
  callback: async () => {
    let targets = {};
    targets[plugin.strings.item_chain_insert_node_after] = "chain_insert_node_after";
    targets[plugin.strings.item_chain_insert_node_as_tail] = "chain_insert_node_as_tail";
    targets[plugin.strings.item_chain_insert_node_before] = "chain_insert_node_before";
    targets[plugin.strings.item_chain_insert_node_as_head] = "chain_insert_node_as_head";
    targets[plugin.strings.item_item_chain_insert_null] = "null";
    let target = await plugin.chain.tp_suggester(
      plugin.utils.array_prefix_id(Object.keys(targets)),
      Object.values(targets),
      true
    );
    if (!target) {
      return;
    }
    let name = await plugin.chain.tp_prompt(plugin.strings.prompt_notename);
    if (name) {
      let curr = plugin.chain.current_note;
      if (curr && curr.parent) {
        let path = curr.parent.path + "/" + name + ".md";
        let dst = await plugin.chain.get_tfile(path);
        if (dst == null) {
          let func = plugin.utils.get_tp_func(plugin.app, "tp.file.create_new");
          dst = await func(
            "",
            name,
            false,
            curr.parent
          );
          await sleep(300);
          if (!(target === "null")) {
            await plugin.chain[target](dst, curr);
          }
          await sleep(300);
          await plugin.chain.open_note(dst);
          await plugin.explorer.sort();
        }
      }
    }
  }
});
var cmd_reveal_note = (plugin) => ({
  id: "cmd_reveal_note",
  name: plugin.strings.cmd_reveal_note,
  callback: async () => {
    let nc = plugin;
    let note = nc.chain.current_note;
    if (note) {
      await nc.explorer.file_explorer.tree.setCollapseAll(true);
      await nc.explorer.file_explorer.revealInFolder(note);
      await sleep(100);
      let containerEl = nc.explorer.file_explorer.containerEl;
      let panel = containerEl.querySelector(".nav-files-container");
      let itemEl = containerEl.querySelector(`[data-path="${note.path}"]`);
      if (panel && itemEl && itemEl.offsetTop) {
        let xtop = panel.scrollTop + (itemEl.offsetTop - (panel.scrollTop + panel.clientHeight / 2));
        panel.scrollTo({ top: xtop, behavior: "smooth" });
      }
    }
  }
});
var cmd_open_and_reveal_note = (plugin) => ({
  id: "cmd_open_and_reveal_note",
  name: plugin.strings.cmd_open_and_reveal_note,
  callback: async () => {
    let nc = plugin;
    let note = await nc.chain.sugguster_note();
    if (note) {
      await nc.chain.open_note(note);
      await nc.explorer.file_explorer.tree.setCollapseAll(true);
      await nc.explorer.file_explorer.revealInFolder(note);
      await sleep(100);
      let containerEl = nc.explorer.file_explorer.containerEl;
      let panel = containerEl.querySelector(".nav-files-container");
      let itemEl = containerEl.querySelector(`[data-path="${note.path}"]`);
      if (panel && itemEl && itemEl.offsetTop) {
        let xtop = panel.scrollTop + (itemEl.offsetTop - (panel.scrollTop + panel.clientHeight / 2));
        panel.scrollTo({ top: xtop, behavior: "smooth" });
      }
    }
  }
});
var cmd_open_prev_note_of_right_leaf = (plugin) => ({
  id: "cmd_open_prev_note_of_right_leaf",
  name: plugin.strings.cmd_open_prev_note_of_right_leaf,
  callback: async () => {
    let nc = plugin;
    let leaf = nc.chain.get_last_activate_leaf();
    if (leaf) {
      let prev = nc.chain.get_prev_note(leaf.view.file);
      if (prev) {
        await leaf.openFile(prev, { active: false });
        await nc.app.workspace.trigger("file-open", leaf);
      }
    }
  }
});
var cmd_open_next_note_of_right_leaf = (plugin) => ({
  id: "cmd_open_next_note_of_right_leaf",
  name: plugin.strings.cmd_open_next_note_of_right_leaf,
  callback: async () => {
    let nc = plugin;
    let leaf = nc.chain.get_last_activate_leaf();
    if (leaf) {
      let next = nc.chain.get_next_note(leaf.view.file);
      if (next) {
        await leaf.openFile(next, { active: false });
        await nc.app.workspace.trigger("file-open", leaf);
      }
    }
  }
});
var cmd_file_open_with_system_app = (plugin) => ({
  id: "cmd_file_open_with_system_app",
  name: plugin.strings.cmd_file_open_with_system_app,
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = await nc.chain.get_file_links(tfile);
      let keys = Object.keys(items);
      let key = await nc.chain.tp_suggester(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let item = items[key];
        let electron = require("electron");
        electron.remote.shell.openPath(item);
      }
    }
  }
});
var cmd_file_show_in_system_explorer = (plugin) => ({
  id: "cmd_file_show_in_system_explorer",
  name: plugin.strings.cmd_file_show_in_system_explorer,
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = await nc.chain.get_file_links(tfile);
      let keys = Object.keys(items);
      let key = await nc.chain.tp_suggester(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let item = items[key];
        let electron = require("electron");
        electron.remote.shell.showItemInFolder(item);
      }
    }
  }
});
var cmd_file_rename = (plugin) => ({
  id: "cmd_file_rename",
  name: plugin.strings.cmd_file_rename,
  callback: async () => {
    let nc = plugin;
    if (nc.app.isMobile) {
      return;
    }
    let tfile = nc.chain.current_note;
    if (tfile) {
      let items = {};
      let links = nc.chain.get_inlinks();
      for (let i of links) {
        if (i.extension === "md") {
          items["\u2139\uFE0F " + i.basename] = i;
        } else {
          items["\u2139\uFE0F " + i.name] = i;
        }
      }
      links = nc.chain.get_outlinks();
      for (let i of links) {
        if (i.extension === "md") {
          items["\u{1F17E}\uFE0F " + i.basename] = i;
        } else {
          items["\u{1F17E}\uFE0F " + i.name] = i;
        }
      }
      let keys = Object.keys(items);
      let key = await nc.chain.tp_suggester(
        nc.utils.array_prefix_id(keys),
        keys
      );
      if (key) {
        let note = items[key];
        let res = await nc.chain.tp_prompt("New Name", note.basename);
        if (res && !(res === note.basename) && !(res === "")) {
          let npath = note.parent.path + "/" + res + "." + note.extension;
          let dst = nc.chain.get_tfile(res + "." + note.extension);
          if (dst) {
            new import_obsidian9.Notice("Exist:" + res + note.extension, 3e3);
          } else {
            nc.app.fileManager.renameFile(note, npath);
          }
        }
      }
    }
  }
});
var cmd_mermaid_flowchart_link = (plugin) => ({
  id: "cmd_mermaid_flowchart_link",
  name: plugin.strings.cmd_mermaid_flowchart_link,
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.get_flowchart(null,2);\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_mermaid_flowchart_folder = (plugin) => ({
  id: "cmd_mermaid_flowchart_folder",
  name: plugin.strings.cmd_mermaid_flowchart_folder,
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.flowchart_folder(null,'Folder');\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_mermaid_flowchart_auto = (plugin) => ({
  id: "cmd_mermaid_flowchart_auto",
  name: plugin.strings.cmd_mermaid_flowchart_auto,
  callback: async () => {
    const content = "```dataviewjs\nlet nc=app.plugins.getPlugin('note-chain');\nlet msg =nc.mermaid.get_mehrmaid_graph(null,4,'mermaid');\ndv.span(msg)\n```";
    await plugin.chain.open_note_in_modal(content);
  }
});
var cmd_execute_template_modal = (plugin) => ({
  id: "cmd_execute_template_modal",
  name: plugin.strings.cmd_execute_template_modal,
  callback: async () => {
    let tpl = plugin.app.plugins.plugins["templater-obsidian"];
    if (!tpl) {
      return;
    }
    let folder = plugin.app.vault.getFolderByPath(tpl.settings.templates_folder);
    let tfiles;
    if (folder) {
      tfiles = plugin.chain.get_tfiles_of_folder(folder, true);
      tfiles = plugin.chain.sort_tfiles_by_chain(tfiles);
    } else {
      tfiles = plugin.chain.get_all_tfiles();
    }
    let tfile = await plugin.chain.sugguster_note(tfiles);
    if (tfile) {
      let res = await plugin.utils.parse_templater(plugin.app, tfile.basename);
      let txt = res.join("\n").trim();
      let view = plugin.app.workspace.getActiveFileView();
      if (view) {
        view.editor.replaceSelection(txt);
      }
    }
  }
});
var cmd_toogle_css_block_in_note = (plugin) => ({
  id: "cmd_toogle_css_block_in_note",
  name: plugin.strings.cmd_toogle_css_block_in_note,
  callback: async () => {
    await plugin.utils.toogle_note_css(plugin.app, document, "/");
  }
});
var commandBuilders = [
  cmd_open_note,
  cmd_reveal_note,
  cmd_open_and_reveal_note,
  cmd_open_prev_note,
  cmd_open_next_note,
  cmd_open_prev_note_of_right_leaf,
  cmd_open_next_note_of_right_leaf,
  cmd_open_notes_smarter,
  cmd_longform2notechain,
  cmd_longform4notechain,
  cmd_sort_file_explorer,
  clear_inlinks,
  replace_notes_with_regx,
  move_file_to_another_folder,
  chain_insert_node,
  chain_set_seq_note,
  create_new_note,
  chain_move_up_node,
  chain_move_down_node,
  cmd_file_rename,
  cmd_mermaid_flowchart_link,
  cmd_mermaid_flowchart_folder,
  cmd_mermaid_flowchart_auto,
  cmd_execute_template_modal,
  cmd_toogle_css_block_in_note
];
var commandBuildersDesktop = [
  cmd_file_open_with_system_app,
  cmd_file_show_in_system_explorer
];
function addCommands(plugin) {
  commandBuilders.forEach((c) => {
    plugin.addCommand(c(plugin));
  });
  if (plugin.app.isMobile == false) {
    commandBuildersDesktop.forEach((c) => {
      plugin.addCommand(c(plugin));
    });
  }
}

// main.ts
var NoteChainPlugin = class extends import_obsidian10.Plugin {
  async onload() {
    this.status = "waiting";
    if (this.app.workspace.layoutReady) {
      await this._onload_();
    } else {
      this.app.workspace.onLayoutReady(
        async () => {
          await this._onload_();
        }
      );
    }
  }
  async _onload_() {
    this.status = "loading";
    this.debug = true;
    await this.loadSettings();
    this.utils = (init_utils(), __toCommonJS(utils_exports));
    this.ob = require("obsidian");
    this.editor = new NCEditor(this);
    this.chain = new NoteChain(this, this.editor);
    this.explorer = new NCFileExplorer(this);
    this.mermaid = new MermaidGraph(this);
    this.canvas = new CanvasGraph(this);
    this.strings = new Strings();
    addCommands(this);
    this.addSettingTab(new NCSettingTab(this.app, this));
    this.registerEvent(
      this.app.workspace.on("file-open", this.ufunc_on_file_open.bind(this))
    );
    this.registerEvent(this.app.vault.on(
      "delete",
      async (file) => {
        await this.chain.chain_pop_node(file);
        await this.explorer.sort();
      }
    ));
    this.registerEvent(this.app.vault.on(
      "create",
      async () => {
        await sleep(500);
        this.explorer.sort(0, true);
      }
    ));
    this.registerEvent(this.app.vault.on(
      "rename",
      async (file, oldPath) => {
        let oldFolder = this.app.vault.getFolderByPath(
          oldPath.slice(0, oldPath.lastIndexOf("/"))
        );
        oldFolder && this.chain.refresh_folder(oldFolder);
        this.chain.refresh_tfile(file);
        this.explorer.sort();
        this.explorer.set_fileitem_style_of_file(file);
      }
    ));
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian10.TFile) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_create_next_note).setIcon("file-plus").onClick(async () => {
              let filename = await this.chain.tp_prompt("File name");
              if (!filename) {
                return;
              }
              let dst = file.parent ? file.parent.path + "/" + filename + ".md" : filename + ".md";
              if (this.chain.get_tfile(dst)) {
                new import_obsidian10.Notice("Exists:" + file.path, 3e3);
              } else {
                let tfile = await this.app.vault.create(dst, "");
                await this.chain.chain_insert_node_after(tfile, file);
                await this.chain.open_note(tfile, false, false);
              }
            });
          });
        }
      })
    );
    this.registerEvent(
      this.app.workspace.on("file-menu", (menu, file) => {
        if (file instanceof import_obsidian10.TFile && file.extension == "md") {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_note).setIcon("hand").onClick(async () => {
              let anchor = await this.chain.sugguster_note();
              if (anchor) {
                await this.chain.chain_insert_node_after(file, anchor);
                if (file.parent != anchor.parent) {
                  let dst = anchor.parent.path + "/" + file.name;
                  await this.app.fileManager.renameFile(file, dst);
                }
                this.explorer.sort();
              }
            });
          });
        } else if (file instanceof import_obsidian10.TFolder) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_note).setIcon("hand").onClick(async () => {
              var _a;
              let notes = (_a = file.parent) == null ? void 0 : _a.children;
              if (notes) {
                let anchor = await this.chain.tp_suggester(
                  (f) => f.name,
                  notes.filter((x) => x instanceof import_obsidian10.TFile)
                );
                let note = this.chain.get_tfile(file.path + "/" + file.name + ".md");
                if (!note) {
                  note = await this.app.vault.create(
                    file.path + "/" + file.name + ".md",
                    ""
                  );
                }
                await this.editor.set_multi_frontmatter(
                  note,
                  {
                    "FolderPrevNote": `[[${anchor.basename}]]`,
                    "FolderPrevNoteOffset": 0.5
                  }
                );
                this.chain.refresh_tfile(file);
                await this.explorer.sort(0, false);
              }
            });
          });
        }
        let selector = document.querySelectorAll(
          ".tree-item-self.is-selected"
        );
        let items = Object.values(selector).map((x) => {
          var _a;
          return (_a = x.dataset) == null ? void 0 : _a.path;
        });
        let tfiles = items.map((x) => this.chain.get_tfile(x)).filter((x) => x.extension == "md");
        if (tfiles.length > 1) {
          menu.addItem((item) => {
            item.setTitle(this.strings.filemenu_move_as_next_notes).setIcon("hand").onClick(async () => {
              tfiles = this.chain.sort_tfiles_by_chain(tfiles);
              let notes = this.chain.get_all_tfiles();
              notes = notes.filter((x) => !tfiles.contains(x));
              let anchor = await this.chain.sugguster_note(notes);
              if (!anchor) {
                return;
              }
              for (let tfile of tfiles) {
                if (tfile.parent.path != anchor.parent.path) {
                  let dst = anchor.parent.path + "/" + tfile.name;
                  await this.app.fileManager.renameFile(tfile, dst);
                }
                await this.chain.chain_pop_node(tfile);
              }
              tfiles.unshift(anchor);
              let anchor_next = this.chain.get_next_note(anchor);
              if (anchor_next) {
                tfiles.push(anchor_next);
              }
              await this.chain.chain_concat_tfiles(tfiles);
            });
          });
        }
      })
    );
    this.registerEvent(
      this.app.metadataCache.on(
        "changed",
        async (file, data, cache) => {
          if (file == this.chain.current_note) {
            clearTimeout(this.timerId);
          }
          let timerId = setTimeout(async () => {
            if (file.parent) {
              this.chain.children[file.parent.path] = this.chain.sort_tfiles_by_chain(
                file.parent.children
              );
            }
            this.explorer.sort(0, false);
            if (this.settings.field_of_display_text) {
              let txt = this.explorer.get_display_text(file);
              let items = this.explorer.file_explorer.fileItems;
              this.explorer._set_display_text_(items[file.path], txt);
              let canvas = items[file.path.slice(0, file.path.length - 2) + "canvas"];
              this.explorer._set_display_text_(canvas, txt);
              if (file.parent && file.basename == file.parent.name || file.parent && file.parent.path == "/") {
                let field = this.editor.get_frontmatter(file, this.settings.field_of_display_text);
                let prev = file.note_chain_display_field;
                if (!prev || prev != field) {
                  for (let key in items) {
                    let item = items[key];
                    let ppath = "";
                    if (file.parent.path == "/") {
                      ppath == "";
                    } else {
                      ppath = file.parent.path + "/";
                    }
                    if (item.file.path.startsWith(ppath) || item.file.path == file.parent.path) {
                      let txt2 = this.explorer.get_display_text(item.file);
                      this.explorer._set_display_text_(item, txt2);
                    }
                  }
                }
                file.note_chain_display_field = field;
              }
            }
            if (this.settings.field_of_background_color) {
              let style = await this.explorer.get_fileitem_style(file);
              await this.explorer.set_fileitem_style_of_file(file, style);
              let items = this.explorer.file_explorer.fileItems;
              let canvas = items[file.path.slice(0, file.path.length - 2) + "canvas"];
              if (canvas) {
                await this.explorer.set_fileitem_style_of_file(canvas.file, style);
              }
              if (file.parent && file.basename == file.parent.name || file.parent && file.parent.path == "/") {
                let field = this.editor.get_frontmatter(file, this.settings.field_of_background_color);
                let prev = file.note_chain_bgcolor;
                if (!prev || prev != field) {
                  for (let key in items) {
                    let item = items[key];
                    let ppath = "";
                    if (file.parent.path == "/") {
                      ppath == "";
                    } else {
                      ppath = file.parent.path + "/";
                    }
                    if (item.file.path.startsWith(ppath) || item.file.path == file.parent.path) {
                      let style2 = await this.explorer.get_fileitem_style(item.file);
                      await this.explorer.set_fileitem_style_of_file(item.file, style2);
                    }
                  }
                }
                file.note_chain_bgcolor = field;
              }
            }
          }, 500);
          if (file == this.chain.current_note) {
            this.timerId = this.timerId;
          }
        }
      )
    );
    this.wordcout = new WordCount(this, this.app);
    this.status = "loaded";
  }
  async onunload() {
    await this.explorer.unregister();
    await this.explorer.sort();
  }
  async ufunc_on_file_open(file) {
    var _a, _b;
    if (this.settings.refreshDataView) {
      this.app.commands.executeCommandById(
        "dataview:dataview-force-refresh-views"
      );
    }
    if (this.settings.refreshTasks) {
      let target = await this.app.plugins.getPlugin("obsidian-tasks-plugin");
      target && target.cache.notifySubscribers();
    }
    if (this.settings.auto_notechain) {
      let notes = this.chain.get_brothers(file);
      if (notes.length == 0) {
        return;
      }
      let xfolders = this.settings.wordcountxfolder.split("\n").filter((x) => x != "");
      for (let item of xfolders) {
        if (file.path.startsWith(item)) {
          return false;
        } else if (item == "/") {
          if (((_a = file.parent) == null ? void 0 : _a.path) == "/") {
            return false;
          }
        }
      }
      if ((_b = this.explorer) == null ? void 0 : _b.file_explorer) {
        notes = this.chain.sort_tfiles(notes, this.explorer.file_explorer.sortOrder);
        notes = this.chain.sort_tfiles(notes, "chain");
        await this.chain.chain_concat_tfiles(notes);
        this.explorer.sort();
      }
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async clear_inlinks(tfile = this.chain.current_note, mode = "suggester") {
    if (tfile == null) {
      return;
    }
    let notes = this.chain.get_inlinks(tfile);
    if (notes.length) {
      if (mode === "suggester") {
        mode = await this.chain.tp_suggester(
          ["delete links", "replace links", "delete paragraph with links"],
          [["link", "del"], ["link", "rep"], ["para", "del"]]
        );
      }
      let reg = this.editor.regexp_link(tfile, mode[0]);
      if (reg) {
        for (let note of notes) {
          let target;
          if (mode[1] === "rep") {
            target = tfile.basename;
          } else {
            target = "";
          }
          this.editor.replace(note, reg, target);
        }
      }
    }
  }
  async replace_notes_with_regx() {
    let notes = await this.chain.suggester_notes();
    if ((notes == null ? void 0 : notes.length) > 0) {
      try {
        let regs = await this.chain.tp_prompt("Enter the regular expression to replace.");
        if (regs == null) {
          return;
        }
        let reg = new RegExp(regs, "g");
        let target = await this.chain.tp_prompt("Enter the target string.");
        if (target == null) {
          return;
        }
        target = target.replace(
          /\\n/g,
          "\n"
        );
        for (let note of notes) {
          await this.editor.replace(note, reg, target);
        }
      } catch (error) {
      }
    }
  }
  async cmd_chain_insert_node() {
    let selector = document.querySelectorAll(
      ".tree-item-self.is-selected"
    );
    let items = Object.values(selector).map((x) => {
      var _a;
      return (_a = x.dataset) == null ? void 0 : _a.path;
    });
    let tfiles = items.map((x) => this.chain.get_tfile(x)).filter((x) => x.extension == "md");
    if (tfiles.length > 1) {
      tfiles = this.chain.sort_tfiles_by_chain(tfiles);
      let notes2 = this.chain.get_all_tfiles();
      notes2 = notes2.filter((x) => !tfiles.contains(x));
      let anchor = await this.chain.sugguster_note(notes2);
      if (!anchor) {
        return;
      }
      for (let tfile of tfiles) {
        if (tfile.parent.path != anchor.parent.path) {
          let dst = anchor.parent.path + "/" + tfile.name;
          await this.app.fileManager.renameFile(tfile, dst);
        }
        await this.chain.chain_pop_node(tfile);
      }
      tfiles.unshift(anchor);
      let anchor_next = this.chain.get_next_note(anchor);
      if (anchor_next) {
        tfiles.push(anchor_next);
      }
      await this.chain.chain_concat_tfiles(tfiles);
      return;
    }
    let curr = this.chain.current_note;
    if (curr == null) {
      return;
    }
    let smode = this.strings[this.settings.suggesterNotesMode];
    let notes = await this.chain.suggester_notes(curr, false, smode);
    if (!notes) {
      return;
    }
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    const note = await this.chain.tp_suggester(
      this.utils.array_prefix_id(
        notes.map((file) => this.tfile_to_string(file, [], ""))
      ),
      notes
    );
    if (!note) {
      return;
    }
    let sitems = [
      this.strings.item_insert_node_after,
      this.strings.item_insert_node_before,
      this.strings.item_insert_node_as_head,
      this.strings.item_insert_node_as_tail,
      this.strings.item_insert_folder_after
    ];
    let mode = await this.chain.tp_suggester(
      this.utils.array_prefix_id(sitems),
      sitems,
      false,
      this.strings.item_insert_suggester
    );
    if (!mode) {
      return;
    }
    if (mode === this.strings.item_insert_node_as_head) {
      await this.chain.chain_insert_node_as_head(curr, note);
    } else if (mode === this.strings.item_insert_node_as_tail) {
      await this.chain.chain_insert_node_as_tail(curr, note);
    } else if (mode === this.strings.item_insert_node_before) {
      await this.chain.chain_insert_node_before(curr, note);
    } else if (mode === this.strings.item_insert_node_after) {
      await this.chain.chain_insert_node_after(curr, note);
    } else if (mode === this.strings.item_insert_folder_after) {
      await this.chain.chain_insert_folder_after(curr, note);
    } else {
      return;
    }
  }
  tfile_to_string(tfile, fields, seq) {
    let items = new Array();
    if (tfile == this.chain.current_note) {
      items.push("\u{1F3E0}" + tfile.basename);
    } else {
      items.push(tfile.basename);
    }
    for (let field of fields) {
      try {
        items.push(this.editor.get_frontmatter(tfile, field));
      } catch (error) {
        items.push("-");
      }
    }
    return items.join(seq);
  }
  async open_note_smarter() {
    let curr = this.chain.current_note;
    let notes = await this.chain.suggester_notes(curr, false);
    notes = this.chain.sort_tfiles(notes, ["mtime", "x"]);
    notes = this.chain.sort_tfiles_by_chain(notes);
    if (notes.length > 0) {
      let note = await this.chain.tp_suggester(
        this.utils.array_prefix_id(
          notes.map((file) => this.chain.tfile_to_string(file))
        ),
        notes
      );
      if (note) {
        await this.chain.open_note(note);
      }
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3V0aWxzLnRzIiwgIm1haW4udHMiLCAic3JjL05DRWRpdG9yLnRzIiwgInNyYy9Ob3RlQ2hhaW4udHMiLCAic3JjL05DTW9kYWwudHMiLCAic3JjL05DRmlsZUV4cGxvcmVyLnRzIiwgInNyYy9zdHJpbmdzLnRzIiwgInNyYy9Xb3JkQ291bnQudHMiLCAic3JjL2dyYXBoLnRzIiwgInNyYy9zZXR0aW5nLnRzIiwgInNyYy9jb21tYW5kcy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgb24gfSBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgeyBnZXQgfSBmcm9tICdodHRwJztcclxuaW1wb3J0IHsgXHJcblx0QXBwLFxyXG4gICAgVEZpbGUsXHJcbiAgICBOb3RpY2UsXHJcbiAgICBURm9sZGVyLFxyXG4gICAgVEFic3RyYWN0RmlsZVxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRfcGx1Z2lucyhhcHA6QXBwLG5hbWU6c3RyaW5nKXtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcnJheV9wcmVmaXhfaWQoaXRlbXM6QXJyYXk8YW55PixvZmZzZXQ9MSl7XHJcbiAgICBsZXQgcmVzID0gbmV3IEFycmF5KCk7XHJcbiAgICBsZXQgTiA9IGl0ZW1zLmxlbmd0aC50b1N0cmluZygpLmxlbmd0aDtcclxuICAgIGZvcihsZXQgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgbGV0IGlkID0gIChpICsgb2Zmc2V0KS50b1N0cmluZygpLnBhZFN0YXJ0KE4sICcwJyk7XHJcbiAgICAgICAgcmVzLnB1c2goYCR7aWR9IFx1RDgzRFx1REQyNSAke2l0ZW1zW2ldfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdF9hcnJheShpdGVtczpBcnJheTxhbnk+KXtcclxuICAgIGlmKGl0ZW1zPT1udWxsKXtyZXR1cm4gW107fVxyXG4gICAgaWYodHlwZW9mIGl0ZW1zID09PSAnc3RyaW5nJyl7cmV0dXJuIFtpdGVtc107fVxyXG4gICAgaWYoIShpdGVtcyBpbnN0YW5jZW9mIEFycmF5KSl7cmV0dXJuIFtpdGVtc107fVxyXG5cclxuICAgIGxldCByZXMgPSBbXSBhcyBhbnkgW107XHJcbiAgICBmb3IobGV0IGl0ZW0gb2YgaXRlbXMpe1xyXG4gICAgICAgIGlmKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyl7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1lbHNlIGlmKGl0ZW0gaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQodGhpcy5jb25jYXRfYXJyYXkoaXRlbSkpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMucHVzaChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59ICBcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja192YWx1ZSh0OmFueSxrOmFueSx2OmFueSxkdDpudW1iZXIsVDpudW1iZXIpe1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgd2hpbGUodFtrXT09bnVsbCB8fCAhKHRba109PT12KSl7XHJcbiAgICAgICAgYXdhaXQgc2xlZXAoZHQpO1xyXG4gICAgICAgIGkgPSBkdCtkdDtcclxuICAgICAgICBpZihpPlQpe2JyZWFrO31cclxuICAgIH1cclxuICAgIGlmKHRba10gJiYgdFtrXT09PXYpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3RwX2Z1bmMoYXBwOkFwcCx0YXJnZXQ6c3RyaW5nKSB7XHJcblx0Ly8gXHU4M0I3XHU1M0Q2ICB0ZW1wbGF0ZXIgXHU1MUZEXHU2NTcwXHJcblx0Ly8gZ2V0X3RwX2Z1bmMoXCJ0cC5zeXN0ZW0ucHJvbXB0XCIpXHJcblxyXG5cdGxldCB0ZW1wbGF0ZXIgPSAoYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oXHJcblx0XHRcInRlbXBsYXRlci1vYnNpZGlhblwiXHJcblx0KTtcclxuXHJcblx0bGV0IGl0ZW1zID0gdGFyZ2V0LnNwbGl0KFwiLlwiKTtcclxuXHRpZihpdGVtc1swXS5sb2NhbGVDb21wYXJlKFwidHBcIikhPTAgfHwgaXRlbXMubGVuZ3RoIT0zKXtyZXR1cm4gdW5kZWZpbmVkO31cclxuXHRcclxuXHRsZXQgbW9kdWxlcyA9IHRlbXBsYXRlci50ZW1wbGF0ZXIuZnVuY3Rpb25zX2dlbmVyYXRvci5cclxuXHRcdGludGVybmFsX2Z1bmN0aW9ucy5tb2R1bGVzX2FycmF5LmZpbHRlcihcclxuXHRcdFx0KGl0ZW06YW55KT0+KGl0ZW0ubmFtZS5sb2NhbGVDb21wYXJlKGl0ZW1zWzFdKT09MClcclxuXHRcdCk7XHJcblxyXG5cdGlmKG1vZHVsZXMubGVuZ3RoPT0wKXtyZXR1cm4gdW5kZWZpbmVkfVxyXG5cdFxyXG5cdHJldHVybiBtb2R1bGVzWzBdLnN0YXRpY19mdW5jdGlvbnMuZ2V0KGl0ZW1zWzJdKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF90cF91c2VyX2Z1bmMoYXBwOkFwcCx0YXJnZXQ6c3RyaW5nKSB7XHJcblx0Ly8gXHU4M0I3XHU1M0Q2ICB0ZW1wbGF0ZXIgXHU1MUZEXHU2NTcwXHJcblx0Ly8gZ2V0X3RwX2Z1bmMoXCJ0cC5zeXN0ZW0ucHJvbXB0XCIpXHJcbiAgICBpZighdGFyZ2V0Lm1hdGNoKC9edHBcXC51c2VyXFwuXFx3KyQvKSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHRsZXQgdGVtcGxhdGVyID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMuZ2V0UGx1Z2luKFxyXG5cdFx0XCJ0ZW1wbGF0ZXItb2JzaWRpYW5cIlxyXG5cdCk7XHJcblxyXG5cdGxldCBpdGVtcyA9IHRhcmdldC5zcGxpdChcIi5cIik7XHJcblx0aWYoaXRlbXNbMF0ubG9jYWxlQ29tcGFyZShcInRwXCIpIT0wIHx8IGl0ZW1zWzFdLmxvY2FsZUNvbXBhcmUoXCJ1c2VyXCIpIT0wIHx8IGl0ZW1zLmxlbmd0aCE9Myl7cmV0dXJuIHVuZGVmaW5lZDt9XHJcblx0XHJcbiAgICBsZXQgZnVuY3MgID0gYXdhaXQgdGVtcGxhdGVyLnRlbXBsYXRlci5cclxuICAgICAgICBmdW5jdGlvbnNfZ2VuZXJhdG9yLlxyXG4gICAgICAgIHVzZXJfZnVuY3Rpb25zLlxyXG4gICAgICAgIHVzZXJfc2NyaXB0X2Z1bmN0aW9ucy5cclxuICAgICAgICBnZW5lcmF0ZV91c2VyX3NjcmlwdF9mdW5jdGlvbnMoKTtcclxuICAgIHJldHVybiBmdW5jcy5nZXQoaXRlbXNbMl0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRfY3VzdG9tanNfZnVuYyh0YXJnZXQ6c3RyaW5nKSB7XHJcblx0Ly8gXHU4M0I3XHU1M0Q2ICB0ZW1wbGF0ZXIgXHU1MUZEXHU2NTcwXHJcblx0Ly8gZ2V0X3RwX2Z1bmMoXCJ0cC5zeXN0ZW0ucHJvbXB0XCIpXHJcbiAgICBpZighdGFyZ2V0Lm1hdGNoKC9eKGNKU3xjdXN0b21KU3xjdXN0b21qc3xjdXN0b21KcykoXFwuXFx3KykrJC8pKXtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgbGV0IGl0ZW1zID0gdGFyZ2V0LnNwbGl0KCcuJylcclxuICAgIGlmKHdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnY0pTJykpe1xyXG4gICAgICAgIGxldCBjSlMgPSAod2luZG93IGFzIGFueSlbJ2NKUyddXHJcbiAgICAgICAgbGV0IHRtcCA9IGF3YWl0IGNKUygpXHJcbiAgICAgICAgZm9yKGxldCBmaWVsZCBvZiBpdGVtcy5zbGljZSgxKSl7XHJcbiAgICAgICAgICAgIHRtcCA9IHRtcFtmaWVsZF1cclxuICAgICAgICAgICAgaWYoIXRtcCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0bXBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldF9zdHJfZnVuYyhhcHA6QXBwLHRhcmdldDpzdHJpbmcpIHtcclxuXHJcbiAgICBsZXQgdWZ1bmMgPSBhd2FpdCBnZXRfdHBfZnVuYyhhcHAsdGFyZ2V0KVxyXG4gICAgaWYodWZ1bmMpe3JldHVybiB1ZnVuY31cclxuXHJcbiAgICB1ZnVuYyA9IGF3YWl0IGdldF90cF91c2VyX2Z1bmMoYXBwLHRhcmdldClcclxuICAgIGlmKHVmdW5jKXtyZXR1cm4gdWZ1bmN9XHJcblxyXG4gICAgdWZ1bmMgPSBhd2FpdCBnZXRfY3VzdG9tanNfZnVuYyh0YXJnZXQpXHJcbiAgICBpZih1ZnVuYyl7cmV0dXJuIHVmdW5jfVxyXG5cclxuICAgIHJldHVybiBudWxsXHJcbn1cclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiB0ZW1wbGF0ZXIkMShhcHA6QXBwLHRlbXBsYXRlOnN0cmluZywgYWN0aXZlX2ZpbGU6VEZpbGUsIHRhcmdldF9maWxlOlRGaWxlKSB7XHJcblx0Y29uc3QgY29uZmlnID0ge1xyXG5cdFx0dGVtcGxhdGVfZmlsZTogdGVtcGxhdGUsXHJcblx0XHRhY3RpdmVfZmlsZTogYWN0aXZlX2ZpbGUsXHJcblx0XHR0YXJnZXRfZmlsZTogdGFyZ2V0X2ZpbGUsXHJcblx0XHRydW5fbW9kZTogXCJEeW5hbWljUHJvY2Vzc29yXCIsXHJcblx0fTtcclxuXHRjb25zdCBwbHVnaW5zID0gKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2lucztcclxuXHRjb25zdCBleGlzdHMgPSBwbHVnaW5zW1widGVtcGxhdGVyLW9ic2lkaWFuXCJdO1xyXG5cdGlmICghZXhpc3RzKSB7XHJcblx0XHRuZXcgTm90aWNlKFwiVGVtcGxhdGVyIGlzIG5vdCBpbnN0YWxsZWQuIFBsZWFzZSBpbnN0YWxsIGl0LlwiKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcblx0Ly8gQHRzLWlnbm9yZVxyXG5cdGNvbnN0IHt0ZW1wbGF0ZXJ9ID0gcGx1Z2luc1tcInRlbXBsYXRlci1vYnNpZGlhblwiXTtcclxuXHRjb25zdCBmdW5jdGlvbnMgPSBhd2FpdCB0ZW1wbGF0ZXIuZnVuY3Rpb25zX2dlbmVyYXRvci5pbnRlcm5hbF9mdW5jdGlvbnMuZ2VuZXJhdGVfb2JqZWN0KGNvbmZpZyk7XHJcblx0ZnVuY3Rpb25zLnVzZXIgPSB7fTtcclxuXHRjb25zdCB1c2VyU2NyaXB0RnVuY3Rpb25zID0gYXdhaXQgdGVtcGxhdGVyLmZ1bmN0aW9uc19nZW5lcmF0b3IudXNlcl9mdW5jdGlvbnMudXNlcl9zY3JpcHRfZnVuY3Rpb25zLmdlbmVyYXRlX3VzZXJfc2NyaXB0X2Z1bmN0aW9ucyhjb25maWcpO1xyXG5cdHVzZXJTY3JpcHRGdW5jdGlvbnMuZm9yRWFjaCgodmFsdWU6YW55LGtleTphbnkpPT57XHJcblx0XHRmdW5jdGlvbnMudXNlcltrZXldID0gdmFsdWU7XHJcblx0fVxyXG5cdCk7XHJcblx0aWYgKHRlbXBsYXRlKSB7XHJcblx0XHRjb25zdCB1c2VyU3lzdGVtRnVuY3Rpb25zID0gYXdhaXQgdGVtcGxhdGVyLmZ1bmN0aW9uc19nZW5lcmF0b3IudXNlcl9mdW5jdGlvbnMudXNlcl9zeXN0ZW1fZnVuY3Rpb25zLmdlbmVyYXRlX3N5c3RlbV9mdW5jdGlvbnMoY29uZmlnKTtcclxuXHRcdHVzZXJTeXN0ZW1GdW5jdGlvbnMuZm9yRWFjaCgodmFsdWU6YW55LGtleTphbnkpPT57XHJcblx0XHRcdGZ1bmN0aW9ucy51c2VyW2tleV0gPSB2YWx1ZTtcclxuXHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdHJldHVybiBhc3luYyhjb21tYW5kOmFueSk9PntcclxuXHRcdHJldHVybiBhd2FpdCB0ZW1wbGF0ZXIucGFyc2VyLnBhcnNlX2NvbW1hbmRzKGNvbW1hbmQsIGZ1bmN0aW9ucyk7XHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlX3RlbXBsYXRlcihhcHA6QXBwLHRlbXBsYXRlOnN0cmluZykge1xyXG4gICAgbGV0IG5jID0oYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuICAgIGlmKCFuYyl7cmV0dXJuO31cclxuXHJcbiAgICBsZXQgZmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZSh0ZW1wbGF0ZSk7XHJcbiAgICBsZXQgYmxvY2tzID0gYXdhaXQgbmMuZWRpdG9yLmV4dHJhY3RfdGVtcGxhdGVyX2Jsb2NrKGZpbGUpO1xyXG4gICAgXHJcbiAgICBsZXQgbm90ZXMgPSBhcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG4gICAgaWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG4gICAgbGV0IGFjdGl2ZV9maWxlID0gbm90ZXNbMF07XHJcbiAgICBsZXQgdGFyZ2V0X2ZpbGUgPSAgbm90ZXNbMF07XHJcbiAgICBsZXQgdGVtcGxhdGVGdW5jID0gYXdhaXQgdGVtcGxhdGVyJDEoYXBwLCcnLGFjdGl2ZV9maWxlLHRhcmdldF9maWxlKTtcclxuICAgIGlmKHRlbXBsYXRlRnVuYyl7XHJcbiAgICAgICAgbGV0IHJlcyA9IFtdXHJcbiAgICAgICAgZm9yKGxldCBibG9jayBvZiBibG9ja3Mpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IGF3YWl0IHRlbXBsYXRlRnVuYyhibG9jayk7XHJcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gW11cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvb2dsZV9ub3RlX2NzcyhhcHA6QXBwLGRvY3VtZW50OmFueSxuYW1lOnN0cmluZyxyZWZyZXNoPWZhbHNlKSB7XHJcbiAgICBsZXQgbmMgPSAoYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuICAgIGxldCB0ZmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZShuYW1lKTtcclxuICAgIGlmKCF0ZmlsZSl7XHJcbiAgICAgICAgbGV0IHRmaWxlcztcclxuICAgICAgICBpZihuYW1lPT0nLycpe1xyXG4gICAgICAgICAgICB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfYWxsX3RmaWxlcygpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBmb2xkZXIgPSBuYy5jaGFpbi5nZXRfYWxsX2ZvbGRlcnMoKS5maWx0ZXIoKHg6VEZvbGRlcik9PngubmFtZT09bmFtZSlcclxuICAgICAgICAgICAgaWYoZm9sZGVyLmxlbmd0aD09MCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGZpbGVzID0gbmMudXRpbHMuY29uY2F0X2FycmF5KFxyXG4gICAgICAgICAgICAgICAgZm9sZGVyLm1hcCgoeDpURm9sZGVyKT0+bmMuY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoeCkpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRmaWxlcy5sZW5ndGg9PTApe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRmaWxlID0gYXdhaXQgbmMuY2hhaW4uc3VnZ3VzdGVyX25vdGUodGZpbGVzKVxyXG4gICAgICAgIGlmKCF0ZmlsZSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZmlsZS5iYXNlbmFtZSk7XHJcbiAgICBpZihsaW5rICYmICFyZWZyZXNoKXtcclxuICAgICAgICBsaW5rLnJlbW92ZSgpXHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBsZXQgY3NzID0gYXdhaXQgbmMuZWRpdG9yLmV4dHJhY3RfY29kZV9ibG9jayh0ZmlsZSwnY3NzJylcclxuICAgICAgICBsZXQgaW5uZXIgPSBjc3Muam9pbignXFxuJylcclxuICAgICAgICBpZihsaW5rKXtcclxuICAgICAgICAgICAgbGluay5pbm5lckhUTUwgPSBpbm5lclxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpZihpbm5lciE9Jycpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcclxuICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudC5pbm5lckhUTUw9aW5uZXI7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUVsZW1lbnQuaWQgPSB0ZmlsZS5iYXNlbmFtZTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRDYWNoZWRNZXRhZGF0YSxcclxuXHRQbHVnaW4sXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRtb21lbnQsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCB7TkNFZGl0b3J9IGZyb20gJy4vc3JjL05DRWRpdG9yJztcclxuaW1wb3J0IHtOb3RlQ2hhaW59IGZyb20gJy4vc3JjL05vdGVDaGFpbic7XHJcbmltcG9ydCB7TkNGaWxlRXhwbG9yZXJ9IGZyb20gJy4vc3JjL05DRmlsZUV4cGxvcmVyJztcclxuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gJ3NyYy9zdHJpbmdzJztcclxuaW1wb3J0IHsgV29yZENvdW50IH0gZnJvbSAnc3JjL1dvcmRDb3VudCc7XHJcbmltcG9ydCB7IE1lcm1haWRHcmFwaCxDYW52YXNHcmFwaCB9IGZyb20gJ3NyYy9ncmFwaCc7XHJcbmltcG9ydCB7IE5DU2V0dGluZ1RhYixOQ1NldHRpbmdzLERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICdzcmMvc2V0dGluZyc7XHJcbmltcG9ydCB7IGFkZENvbW1hbmRzIH0gZnJvbSAnc3JjL2NvbW1hbmRzJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb3RlQ2hhaW5QbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBOQ1NldHRpbmdzO1xyXG5cdGNoYWluIDogTm90ZUNoYWluO1xyXG5cdGVkaXRvciA6IE5DRWRpdG9yOyBcclxuXHRleHBsb3JlciA6IE5DRmlsZUV4cGxvcmVyO1xyXG5cdG1lcm1haWQgOiBNZXJtYWlkR3JhcGg7XHJcblx0Y2FudmFzIDogQ2FudmFzR3JhcGg7XHJcblx0d29yZGNvdXQgOiBXb3JkQ291bnQ7XHJcblx0c3RyaW5ncyA6IFN0cmluZ3M7XHJcblx0c3RhdHVzIDogc3RyaW5nO1xyXG5cdGRlYnVnOmJvb2xlYW47XHJcblx0dXRpbHM6YW55O1xyXG5cdHRpbWVySWQ6YW55O1xyXG5cdG9iOmFueTtcclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0dGhpcy5zdGF0dXMgPSAnd2FpdGluZydcclxuXHRcdGlmKHRoaXMuYXBwLndvcmtzcGFjZS5sYXlvdXRSZWFkeSl7XHJcblx0XHRcdGF3YWl0IHRoaXMuX29ubG9hZF8oKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KFxyXG5cdFx0XHRcdGFzeW5jKCk9PntcclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMuX29ubG9hZF8oKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgX29ubG9hZF8oKSB7XHJcblx0XHR0aGlzLnN0YXR1cyA9ICdsb2FkaW5nJ1xyXG5cdFx0dGhpcy5kZWJ1Zz10cnVlO1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuXHRcdFxyXG5cdFx0dGhpcy51dGlscyA9IHJlcXVpcmUoJy4vc3JjL3V0aWxzJyk7XHJcblx0XHR0aGlzLm9iID0gcmVxdWlyZSgnb2JzaWRpYW4nKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5lZGl0b3IgPSBuZXcgTkNFZGl0b3IodGhpcyk7XHJcblx0XHR0aGlzLmNoYWluID0gbmV3IE5vdGVDaGFpbih0aGlzLHRoaXMuZWRpdG9yKTtcclxuXHRcdHRoaXMuZXhwbG9yZXIgPSBuZXcgTkNGaWxlRXhwbG9yZXIodGhpcyk7XHJcblx0XHR0aGlzLm1lcm1haWQgPSBuZXcgTWVybWFpZEdyYXBoKHRoaXMpO1xyXG5cdFx0dGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzR3JhcGgodGhpcyk7XHJcblx0XHR0aGlzLnN0cmluZ3MgPSBuZXcgU3RyaW5ncygpO1xyXG5cclxuXHRcdGFkZENvbW1hbmRzKHRoaXMpO1xyXG5cclxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IE5DU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCdmaWxlLW9wZW4nLCB0aGlzLnVmdW5jX29uX2ZpbGVfb3Blbi5iaW5kKHRoaXMpKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBcdTUyMjBcdTk2NjRcdTY1ODdcdTRFRjZcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbihcclxuXHRcdFx0XCJkZWxldGVcIiwgYXN5bmMgKGZpbGU6IFRGaWxlKSA9PiB7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9wb3Bfbm9kZShmaWxlKTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0KSk7XHJcblxyXG5cdFx0Ly8gXHU1MjFCXHU1RUZBXHU2NTg3XHU0RUY2XHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oXHJcblx0XHRcdFwiY3JlYXRlXCIsIGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRhd2FpdCBzbGVlcCg1MDApO1xyXG5cdFx0XHRcdHRoaXMuZXhwbG9yZXIuc29ydCgwLHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHQpKTtcclxuXHJcblx0XHQvLyBcdTkxQ0RcdTU0N0RcdTU0MERcdTY1ODdcdTRFRjZcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbihcclxuXHRcdFx0XCJyZW5hbWVcIiwgYXN5bmMgKGZpbGU6IFRGaWxlLG9sZFBhdGg6c3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0bGV0IG9sZEZvbGRlciA9IHRoaXMuYXBwLnZhdWx0LmdldEZvbGRlckJ5UGF0aChcclxuXHRcdFx0XHRcdG9sZFBhdGguc2xpY2UoMCxvbGRQYXRoLmxhc3RJbmRleE9mKCcvJykpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdG9sZEZvbGRlciAmJiB0aGlzLmNoYWluLnJlZnJlc2hfZm9sZGVyKG9sZEZvbGRlcik7XHJcblx0XHRcdFx0dGhpcy5jaGFpbi5yZWZyZXNoX3RmaWxlKGZpbGUpO1xyXG5cdFx0XHRcdHRoaXMuZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdHRoaXMuZXhwbG9yZXIuc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUoZmlsZSlcclxuXHRcdFx0fVxyXG5cdFx0KSk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW1lbnVcIiwgKG1lbnUsIGZpbGUpID0+IHtcclxuXHRcdFx0XHRpZihmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKHRoaXMuc3RyaW5ncy5maWxlbWVudV9jcmVhdGVfbmV4dF9ub3RlKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtcGx1c1wiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IGZpbGVuYW1lID0gYXdhaXQgdGhpcy5jaGFpbi50cF9wcm9tcHQoJ0ZpbGUgbmFtZScpO1xyXG5cdFx0XHRcdFx0XHRcdGlmKCFmaWxlbmFtZSl7cmV0dXJufVxyXG5cdFx0XHRcdFx0XHRcdGxldCBkc3QgPSBmaWxlLnBhcmVudD9maWxlLnBhcmVudC5wYXRoICsgJy8nICsgZmlsZW5hbWUrJy5tZCc6ZmlsZW5hbWUrJy5tZCc7XHJcblx0XHRcdFx0XHRcdFx0aWYodGhpcy5jaGFpbi5nZXRfdGZpbGUoZHN0KSl7XHJcblx0XHRcdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdFeGlzdHM6JytmaWxlLnBhdGgsMzAwMCk7XHJcblx0XHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgdGZpbGUgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jcmVhdGUoZHN0LCcnKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYWZ0ZXIodGZpbGUsZmlsZSk7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLm9wZW5fbm90ZSh0ZmlsZSxmYWxzZSxmYWxzZSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblxyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW1lbnVcIiwgKG1lbnUsIGZpbGUpID0+IHtcclxuXHRcdFx0XHRpZihmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb249PSdtZCcpe1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKHRoaXMuc3RyaW5ncy5maWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZSlcclxuXHRcdFx0XHRcdFx0LnNldEljb24oXCJoYW5kXCIpXHJcblx0XHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRsZXQgYW5jaG9yID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdndXN0ZXJfbm90ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdGlmKGFuY2hvcil7XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FmdGVyKGZpbGUsYW5jaG9yKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKGZpbGUucGFyZW50IT1hbmNob3IucGFyZW50KXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IGRzdCA9IGFuY2hvci5wYXJlbnQucGF0aCsnLycrZmlsZS5uYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKGZpbGUsZHN0KTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9ZWxzZSBpZihmaWxlIGluc3RhbmNlb2YgVEZvbGRlcil7XHJcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0aXRlbVxyXG5cdFx0XHRcdFx0XHQuc2V0VGl0bGUodGhpcy5zdHJpbmdzLmZpbGVtZW51X21vdmVfYXNfbmV4dF9ub3RlKVxyXG5cdFx0XHRcdFx0XHQuc2V0SWNvbihcImhhbmRcIilcclxuXHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdGxldCBub3RlcyA9IGZpbGUucGFyZW50Py5jaGlsZHJlbjtcclxuXHRcdFx0XHRcdFx0XHRpZihub3Rlcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgYW5jaG9yID0gYXdhaXQgdGhpcy5jaGFpbi50cF9zdWdnZXN0ZXIoXHJcblx0XHRcdFx0XHRcdFx0XHRcdChmOlRBYnN0cmFjdEZpbGUpPT5mLm5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5vdGVzLmZpbHRlcigoeDpUQWJzdHJhY3RGaWxlKT0+eCBpbnN0YW5jZW9mIFRGaWxlKVxyXG5cdFx0XHRcdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGxldCBub3RlID0gdGhpcy5jaGFpbi5nZXRfdGZpbGUoZmlsZS5wYXRoKycvJytmaWxlLm5hbWUrJy5tZCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYoIW5vdGUpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRub3RlID0gYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGUucGF0aCsnLycrZmlsZS5uYW1lKycubWQnLCcnXHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5zZXRfbXVsdGlfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5vdGUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIkZvbGRlclByZXZOb3RlXCI6YFtbJHthbmNob3IuYmFzZW5hbWV9XV1gLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiRm9sZGVyUHJldk5vdGVPZmZzZXRcIjowLjUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuY2hhaW4ucmVmcmVzaF90ZmlsZShmaWxlKTtcclxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc29ydCgwLGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCBzZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHRcdFx0XHQnLnRyZWUtaXRlbS1zZWxmLmlzLXNlbGVjdGVkJ1xyXG5cdFx0XHRcdClcclxuXHRcdFx0XHRsZXQgaXRlbXMgPSBPYmplY3QudmFsdWVzKHNlbGVjdG9yKS5tYXAoKHg6YW55KT0+eC5kYXRhc2V0Py5wYXRoKVxyXG5cdFx0XHRcdGxldCB0ZmlsZXMgPSBpdGVtcy5tYXAoeD0+dGhpcy5jaGFpbi5nZXRfdGZpbGUoeCkpLmZpbHRlcih4PT54LmV4dGVuc2lvbj09J21kJylcclxuXHRcdFx0XHRpZih0ZmlsZXMubGVuZ3RoPjEpe1xyXG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcblx0XHRcdFx0XHRcdGl0ZW1cclxuXHRcdFx0XHRcdFx0LnNldFRpdGxlKHRoaXMuc3RyaW5ncy5maWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZXMpXHJcblx0XHRcdFx0XHRcdC5zZXRJY29uKFwiaGFuZFwiKVxyXG5cdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGZpbGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXMpXHJcblx0XHRcdFx0XHRcdFx0bGV0IG5vdGVzID0gdGhpcy5jaGFpbi5nZXRfYWxsX3RmaWxlcygpXHJcblx0XHRcdFx0XHRcdFx0bm90ZXMgPSBub3Rlcy5maWx0ZXIoKHg6VEZpbGUpPT4hdGZpbGVzLmNvbnRhaW5zKHgpKVxyXG5cdFx0XHRcdFx0XHRcdGxldCBhbmNob3IgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKG5vdGVzKVxyXG5cdFx0XHRcdFx0XHRcdGlmKCFhbmNob3Ipe3JldHVybn1cclxuXHRcdFx0XHRcdFx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdFx0XHRcdFx0XHRpZih0ZmlsZS5wYXJlbnQucGF0aCE9YW5jaG9yLnBhcmVudC5wYXRoKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bGV0IGRzdCA9IGFuY2hvci5wYXJlbnQucGF0aCtcIi9cIit0ZmlsZS5uYW1lO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKHRmaWxlLGRzdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX3BvcF9ub2RlKHRmaWxlKVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR0ZmlsZXMudW5zaGlmdChhbmNob3IpXHJcblx0XHRcdFx0XHRcdFx0bGV0IGFuY2hvcl9uZXh0ID0gdGhpcy5jaGFpbi5nZXRfbmV4dF9ub3RlKGFuY2hvcik7XHJcblx0XHRcdFx0XHRcdFx0aWYoYW5jaG9yX25leHQpe3RmaWxlcy5wdXNoKGFuY2hvcl9uZXh0KX1cclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2NvbmNhdF90ZmlsZXModGZpbGVzKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXHJcblx0XHRcdHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oXHJcblx0XHRcdFx0J2NoYW5nZWQnLGFzeW5jIChmaWxlOiBURmlsZSwgZGF0YTogc3RyaW5nLCBjYWNoZTogQ2FjaGVkTWV0YWRhdGEpPT57XHJcblx0XHRcdFx0XHRpZihmaWxlPT10aGlzLmNoYWluLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGV0IHRpbWVySWQgPSBzZXRUaW1lb3V0KGFzeW5jICgpPT57XHJcblx0XHRcdFx0XHRcdC8vIFx1NjU4N1x1NEVGNlx1NTIxN1x1ODg2OFx1NjM5Mlx1NUU4RlxyXG5cdFx0XHRcdFx0XHRpZihmaWxlLnBhcmVudCl7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jaGFpbi5jaGlsZHJlbltmaWxlLnBhcmVudC5wYXRoXT0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGUucGFyZW50LmNoaWxkcmVuXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR0aGlzLmV4cGxvcmVyLnNvcnQoMCxmYWxzZSk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBcdTY1ODdcdTRFRjZcdTU0MERcdTc5RjBcclxuXHRcdFx0XHRcdFx0aWYodGhpcy5zZXR0aW5ncy5maWVsZF9vZl9kaXNwbGF5X3RleHQpe1xyXG5cdFx0XHRcdFx0XHRcdGxldCB0eHQgPSB0aGlzLmV4cGxvcmVyLmdldF9kaXNwbGF5X3RleHQoZmlsZSlcclxuXHRcdFx0XHRcdFx0XHRsZXQgaXRlbXMgPSAodGhpcy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblx0XHRcdFx0XHRcdFx0dGhpcy5leHBsb3Jlci5fc2V0X2Rpc3BsYXlfdGV4dF8oaXRlbXNbZmlsZS5wYXRoXSx0eHQpXHJcblxyXG5cdFx0XHRcdFx0XHRcdGxldCBjYW52YXMgPSBpdGVtc1tmaWxlLnBhdGguc2xpY2UoMCxmaWxlLnBhdGgubGVuZ3RoLTIpKydjYW52YXMnXVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuZXhwbG9yZXIuX3NldF9kaXNwbGF5X3RleHRfKGNhbnZhcyx0eHQpXHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1NzZFRVx1NUY1NVxyXG5cdFx0XHRcdFx0XHRcdGlmKChmaWxlLnBhcmVudCAmJiBmaWxlLmJhc2VuYW1lPT1maWxlLnBhcmVudC5uYW1lKSB8fCAoZmlsZS5wYXJlbnQgJiYgZmlsZS5wYXJlbnQucGF0aD09Jy8nKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgZmllbGQgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZmlsZSx0aGlzLnNldHRpbmdzLmZpZWxkX29mX2Rpc3BsYXlfdGV4dClcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBwcmV2ID0gKGZpbGUgYXMgYW55KS5ub3RlX2NoYWluX2Rpc3BsYXlfZmllbGRcclxuXHRcdFx0XHRcdFx0XHRcdGlmKCFwcmV2IHx8IHByZXYhPWZpZWxkKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9yKGxldCBrZXkgaW4gaXRlbXMpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxldCBwcGF0aCA9ICcnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoZmlsZS5wYXJlbnQucGF0aD09Jy8nKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBwYXRoID09ICcnXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcGF0aCA9IGZpbGUucGFyZW50LnBhdGgrJy8nXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKGl0ZW0uZmlsZS5wYXRoLnN0YXJ0c1dpdGgocHBhdGgpfHxpdGVtLmZpbGUucGF0aD09ZmlsZS5wYXJlbnQucGF0aCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgdHh0ID0gdGhpcy5leHBsb3Jlci5nZXRfZGlzcGxheV90ZXh0KGl0ZW0uZmlsZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuZXhwbG9yZXIuX3NldF9kaXNwbGF5X3RleHRfKGl0ZW0sdHh0KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0KGZpbGUgYXMgYW55KS5ub3RlX2NoYWluX2Rpc3BsYXlfZmllbGQgPSBmaWVsZFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gXHU2NTg3XHU0RUY2XHU5ODlDXHU4MjcyXHJcblx0XHRcdFx0XHRcdGlmKHRoaXMuc2V0dGluZ3MuZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcil7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHN0eWxlID0gYXdhaXQgdGhpcy5leHBsb3Jlci5nZXRfZmlsZWl0ZW1fc3R5bGUoZmlsZSlcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnNldF9maWxlaXRlbV9zdHlsZV9vZl9maWxlKGZpbGUsc3R5bGUpXHJcblx0XHRcdFx0XHRcdFx0bGV0IGl0ZW1zID0gKHRoaXMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtc1xyXG5cclxuXHRcdFx0XHRcdFx0XHRsZXQgY2FudmFzID0gaXRlbXNbZmlsZS5wYXRoLnNsaWNlKDAsZmlsZS5wYXRoLmxlbmd0aC0yKSsnY2FudmFzJ11cclxuXHRcdFx0XHRcdFx0XHRpZihjYW52YXMpe1xyXG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5leHBsb3Jlci5zZXRfZmlsZWl0ZW1fc3R5bGVfb2ZfZmlsZShjYW52YXMuZmlsZSxzdHlsZSlcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1NzZFRVx1NUY1NVxyXG5cdFx0XHRcdFx0XHRcdGlmKChmaWxlLnBhcmVudCAmJiBmaWxlLmJhc2VuYW1lPT1maWxlLnBhcmVudC5uYW1lKSB8fCAoZmlsZS5wYXJlbnQgJiYgZmlsZS5wYXJlbnQucGF0aD09Jy8nKSl7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgZmllbGQgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZmlsZSx0aGlzLnNldHRpbmdzLmZpZWxkX29mX2JhY2tncm91bmRfY29sb3IpXHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgcHJldiA9IChmaWxlIGFzIGFueSkubm90ZV9jaGFpbl9iZ2NvbG9yXHJcblx0XHRcdFx0XHRcdFx0XHRpZighcHJldiB8fCBwcmV2IT1maWVsZCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGZvcihsZXQga2V5IGluIGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgaXRlbSA9IGl0ZW1zW2tleV1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgcHBhdGggPSAnJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKGZpbGUucGFyZW50LnBhdGg9PScvJyl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcGF0aCA9PSAnJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHBhdGggPSBmaWxlLnBhcmVudC5wYXRoKycvJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZihpdGVtLmZpbGUucGF0aC5zdGFydHNXaXRoKHBwYXRoKXx8aXRlbS5maWxlLnBhdGg9PWZpbGUucGFyZW50LnBhdGgpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGV0IHN0eWxlID0gYXdhaXQgdGhpcy5leHBsb3Jlci5nZXRfZmlsZWl0ZW1fc3R5bGUoaXRlbS5maWxlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5leHBsb3Jlci5zZXRfZmlsZWl0ZW1fc3R5bGVfb2ZfZmlsZShpdGVtLmZpbGUsc3R5bGUpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHQoZmlsZSBhcyBhbnkpLm5vdGVfY2hhaW5fYmdjb2xvciA9IGZpZWxkXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fSw1MDApXHJcblx0XHRcdFx0XHRpZihmaWxlPT10aGlzLmNoYWluLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRcdFx0XHRcdHRoaXMudGltZXJJZCA9IHRoaXMudGltZXJJZFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cdFx0dGhpcy53b3JkY291dCA9IG5ldyBXb3JkQ291bnQodGhpcyx0aGlzLmFwcCk7XHJcblx0XHR0aGlzLnN0YXR1cyA9ICdsb2FkZWQnXHJcblx0fVxyXG5cclxuXHJcblx0YXN5bmMgb251bmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmV4cGxvcmVyLnVucmVnaXN0ZXIoKTtcclxuXHRcdGF3YWl0IHRoaXMuZXhwbG9yZXIuc29ydCgpO1xyXG5cdH1cclxuXHRcclxuXHRhc3luYyB1ZnVuY19vbl9maWxlX29wZW4oZmlsZTpURmlsZSl7XHJcblx0XHRpZih0aGlzLnNldHRpbmdzLnJlZnJlc2hEYXRhVmlldyl7XHJcblx0XHRcdCh0aGlzLmFwcCBhcyBhbnkpLmNvbW1hbmRzLmV4ZWN1dGVDb21tYW5kQnlJZChcclxuXHRcdFx0XHRcImRhdGF2aWV3OmRhdGF2aWV3LWZvcmNlLXJlZnJlc2gtdmlld3NcIlxyXG5cdFx0XHQpXHJcblx0XHR9XHJcblx0XHRpZih0aGlzLnNldHRpbmdzLnJlZnJlc2hUYXNrcyl7XHJcblx0XHRcdGxldCB0YXJnZXQgPSBhd2FpdCAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbihcIm9ic2lkaWFuLXRhc2tzLXBsdWdpblwiKTtcclxuXHRcdFx0dGFyZ2V0ICYmIHRhcmdldC5jYWNoZS5ub3RpZnlTdWJzY3JpYmVycygpO1xyXG5cdFx0fVxyXG5cdFx0aWYodGhpcy5zZXR0aW5ncy5hdXRvX25vdGVjaGFpbil7XHJcblx0XHRcdGxldCBub3RlcyA9IHRoaXMuY2hhaW4uZ2V0X2Jyb3RoZXJzKGZpbGUpO1xyXG5cdFx0XHRpZihub3Rlcy5sZW5ndGg9PTApe3JldHVybjt9XHJcblx0XHRcdGxldCB4Zm9sZGVycyA9IHRoaXMuc2V0dGluZ3Mud29yZGNvdW50eGZvbGRlci5zcGxpdCgnXFxuJykuZmlsdGVyKHg9PnghPScnKTtcclxuXHRcdFx0Zm9yKGxldCBpdGVtIG9mIHhmb2xkZXJzKXtcclxuXHRcdFx0XHRpZihmaWxlLnBhdGguc3RhcnRzV2l0aChpdGVtKSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fWVsc2UgaWYoaXRlbT09Jy8nKXtcclxuXHRcdFx0XHRcdGlmKGZpbGUucGFyZW50Py5wYXRoPT0nLycpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKHRoaXMuZXhwbG9yZXI/LmZpbGVfZXhwbG9yZXIpe1xyXG5cdFx0XHRcdG5vdGVzID0gdGhpcy5jaGFpbi5zb3J0X3RmaWxlcyhub3RlcywodGhpcy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkuc29ydE9yZGVyKTtcclxuXHRcdFx0XHRub3RlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXMobm90ZXMsJ2NoYWluJyk7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9jb25jYXRfdGZpbGVzKG5vdGVzKTtcclxuXHRcdFx0XHR0aGlzLmV4cGxvcmVyLnNvcnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjbGVhcl9pbmxpbmtzKHRmaWxlPXRoaXMuY2hhaW4uY3VycmVudF9ub3RlLG1vZGU9J3N1Z2dlc3Rlcicpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybjt9XHJcblx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aCl7XHJcblx0XHRcdGlmKG1vZGU9PT0nc3VnZ2VzdGVyJyl7XHJcblx0XHRcdFx0bW9kZSA9IGF3YWl0IHRoaXMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdFx0W1wiZGVsZXRlIGxpbmtzXCIsJ3JlcGxhY2UgbGlua3MnLFwiZGVsZXRlIHBhcmFncmFwaCB3aXRoIGxpbmtzXCIsXSxcclxuXHRcdFx0XHRcdFtbJ2xpbmsnLCdkZWwnXSxbJ2xpbmsnLCdyZXAnXSxbJ3BhcmEnLCdkZWwnXV1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCByZWcgPSB0aGlzLmVkaXRvci5yZWdleHBfbGluayh0ZmlsZSxtb2RlWzBdKTtcclxuXHRcdFx0aWYocmVnKXtcclxuXHRcdFx0XHRmb3IobGV0IG5vdGUgb2Ygbm90ZXMpe1xyXG5cdFx0XHRcdFx0bGV0IHRhcmdldDtcclxuXHRcdFx0XHRcdGlmKG1vZGVbMV09PT0ncmVwJyl7XHJcblx0XHRcdFx0XHRcdHRhcmdldD10ZmlsZS5iYXNlbmFtZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQ9JydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHRoaXMuZWRpdG9yLnJlcGxhY2Uobm90ZSxyZWcsdGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4KCl7XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcygpO1xyXG5cdFx0aWYobm90ZXM/Lmxlbmd0aD4wKXtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRsZXQgcmVncyA9IGF3YWl0IHRoaXMuY2hhaW4udHBfcHJvbXB0KCdFbnRlciB0aGUgcmVndWxhciBleHByZXNzaW9uIHRvIHJlcGxhY2UuJyk7XHJcblx0XHRcdFx0aWYocmVncz09bnVsbCl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxldCByZWcgPSBuZXcgUmVnRXhwKHJlZ3MsJ2cnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRsZXQgdGFyZ2V0ID0gYXdhaXQgdGhpcy5jaGFpbi50cF9wcm9tcHQoJ0VudGVyIHRoZSB0YXJnZXQgc3RyaW5nLicpO1xyXG5cdFx0XHRcdGlmKHRhcmdldD09bnVsbCl7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRhcmdldCA9IHRhcmdldC5yZXBsYWNlKFxyXG5cdFx0XHRcdFx0L1xcXFxuL2csJ1xcbidcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGZvcihsZXQgbm90ZSBvZiBub3Rlcyl7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmVkaXRvci5yZXBsYWNlKG5vdGUscmVnLHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBjbWRfY2hhaW5faW5zZXJ0X25vZGUoKXtcclxuXHJcblx0XHRsZXQgc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0XHQnLnRyZWUtaXRlbS1zZWxmLmlzLXNlbGVjdGVkJ1xyXG5cdFx0KVxyXG5cdFx0bGV0IGl0ZW1zID0gT2JqZWN0LnZhbHVlcyhzZWxlY3RvcikubWFwKCh4OmFueSk9PnguZGF0YXNldD8ucGF0aClcclxuXHRcdGxldCB0ZmlsZXMgPSBpdGVtcy5tYXAoeD0+dGhpcy5jaGFpbi5nZXRfdGZpbGUoeCkpLmZpbHRlcih4PT54LmV4dGVuc2lvbj09J21kJylcclxuXHRcdGlmKHRmaWxlcy5sZW5ndGg+MSl7XHJcblx0XHRcdHRmaWxlcyA9IHRoaXMuY2hhaW4uc29ydF90ZmlsZXNfYnlfY2hhaW4odGZpbGVzKVxyXG5cdFx0XHRsZXQgbm90ZXMgPSB0aGlzLmNoYWluLmdldF9hbGxfdGZpbGVzKClcclxuXHRcdFx0bm90ZXMgPSBub3Rlcy5maWx0ZXIoKHg6VEZpbGUpPT4hdGZpbGVzLmNvbnRhaW5zKHgpKVxyXG5cdFx0XHRsZXQgYW5jaG9yID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdndXN0ZXJfbm90ZShub3RlcylcclxuXHRcdFx0aWYoIWFuY2hvcil7cmV0dXJufVxyXG5cdFx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdFx0aWYodGZpbGUucGFyZW50LnBhdGghPWFuY2hvci5wYXJlbnQucGF0aCl7XHJcblx0XHRcdFx0XHRsZXQgZHN0ID0gYW5jaG9yLnBhcmVudC5wYXRoK1wiL1wiK3RmaWxlLm5hbWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5yZW5hbWVGaWxlKHRmaWxlLGRzdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5fcG9wX25vZGUodGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdFx0dGZpbGVzLnVuc2hpZnQoYW5jaG9yKVxyXG5cdFx0XHRsZXQgYW5jaG9yX25leHQgPSB0aGlzLmNoYWluLmdldF9uZXh0X25vdGUoYW5jaG9yKTtcclxuXHRcdFx0aWYoYW5jaG9yX25leHQpe3RmaWxlcy5wdXNoKGFuY2hvcl9uZXh0KX1cclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9jb25jYXRfdGZpbGVzKHRmaWxlcyk7XHJcblx0XHRcdHJldHVyblxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYoY3Vycj09bnVsbCl7cmV0dXJuO31cclxuXHRcdGxldCBzbW9kZSA9ICh0aGlzLnN0cmluZ3MgYXMgYW55KVt0aGlzLnNldHRpbmdzLnN1Z2dlc3Rlck5vdGVzTW9kZV07XHJcblx0XHRsZXQgbm90ZXMgPSBhd2FpdCB0aGlzLmNoYWluLnN1Z2dlc3Rlcl9ub3RlcyhjdXJyLGZhbHNlLHNtb2RlKTtcclxuXHRcdGlmKCFub3Rlcyl7cmV0dXJufVxyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzKG5vdGVzLFsnbXRpbWUnLCd4J10pO1xyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKG5vdGVzKTtcclxuXHRcdC8vbm90ZXMgPSBub3Rlcy5maWx0ZXIoZj0+ZiE9Y3Vycik7XHJcblx0XHQvL1x1NEUzQTBcdTY1RjZcdTRFNUZcdTY2M0VcdTc5M0FcdUZGMENcdTU0MjZcdTUyMTlcdTRFRTVcdTRFM0FcdTY2MkZidWdcclxuXHRcdC8vaWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG5cdFx0Y29uc3Qgbm90ZSA9IGF3YWl0IHRoaXMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHR0aGlzLnV0aWxzLmFycmF5X3ByZWZpeF9pZChcclxuXHRcdFx0XHRub3Rlcy5tYXAoKGZpbGU6VEZpbGUpID0+IHRoaXMudGZpbGVfdG9fc3RyaW5nKGZpbGUsW10sXCJcIikpXHJcblx0XHRcdCksIFxyXG5cdFx0XHRub3Rlc1xyXG5cdFx0KTsgXHJcblx0XHRcclxuXHRcdGlmKCFub3RlKXtyZXR1cm47fVxyXG5cdFx0XHJcblx0XHRsZXQgc2l0ZW1zID0gW1xyXG5cdFx0XHR0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfbm9kZV9hZnRlcixcclxuXHRcdFx0dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYmVmb3JlLFxyXG5cdFx0XHR0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfbm9kZV9hc19oZWFkLFxyXG5cdFx0XHR0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfbm9kZV9hc190YWlsLFxyXG5cdFx0XHR0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfZm9sZGVyX2FmdGVyLFxyXG5cdFx0XTtcclxuXHRcdGxldCBtb2RlID0gYXdhaXQgdGhpcy5jaGFpbi50cF9zdWdnZXN0ZXIoXHJcblx0XHRcdHRoaXMudXRpbHMuYXJyYXlfcHJlZml4X2lkKHNpdGVtcyksXHJcblx0XHRcdHNpdGVtcyxmYWxzZSx0aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfc3VnZ2VzdGVyXHJcblx0XHQpO1xyXG5cdFx0XHJcblx0XHRpZighbW9kZSl7cmV0dXJuO31cclxuXHJcblx0XHRpZihtb2RlPT09dGhpcy5zdHJpbmdzLml0ZW1faW5zZXJ0X25vZGVfYXNfaGVhZCl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZChjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2FzX3RhaWwpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FzX3RhaWwoY3Vycixub3RlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnN0cmluZ3MuaXRlbV9pbnNlcnRfbm9kZV9iZWZvcmUpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2JlZm9yZShjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9ub2RlX2FmdGVyKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbi5jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcihjdXJyLG5vdGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMuc3RyaW5ncy5pdGVtX2luc2VydF9mb2xkZXJfYWZ0ZXIpe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluLmNoYWluX2luc2VydF9mb2xkZXJfYWZ0ZXIoY3Vycixub3RlKTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHRmaWxlX3RvX3N0cmluZyh0ZmlsZTpURmlsZSxmaWVsZHM6QXJyYXk8c3RyaW5nPixzZXE6c3RyaW5nKXtcclxuXHRcdGxldCBpdGVtcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0aWYodGZpbGU9PXRoaXMuY2hhaW4uY3VycmVudF9ub3RlKXtcclxuXHRcdFx0aXRlbXMucHVzaCgnXHVEODNDXHVERkUwJyArIHRmaWxlLmJhc2VuYW1lKVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGl0ZW1zLnB1c2godGZpbGUuYmFzZW5hbWUpXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZvcihsZXQgZmllbGQgb2YgZmllbGRzKXtcclxuXHRcdFx0dHJ5e1xyXG5cdFx0XHRcdGl0ZW1zLnB1c2godGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGZpZWxkKSk7XHJcblx0XHRcdH1jYXRjaChlcnJvcil7XHJcblx0XHRcdFx0aXRlbXMucHVzaChcIi1cIik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcy5qb2luKHNlcSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvcGVuX25vdGVfc21hcnRlcigpe1xyXG5cdFx0Ly8gXHU5NEZFXHU1RjBGXHU4QzAzXHU3NTI4XHJcblx0XHRsZXQgY3VyciA9IHRoaXMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0bGV0IG5vdGVzID0gYXdhaXQgdGhpcy5jaGFpbi5zdWdnZXN0ZXJfbm90ZXMoY3VycixmYWxzZSlcclxuXHRcdFxyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzKG5vdGVzLFsnbXRpbWUnLCd4J10pO1xyXG5cdFx0bm90ZXMgPSB0aGlzLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKG5vdGVzKTtcclxuXHRcdGlmKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLmNoYWluLnRwX3N1Z2dlc3RlcihcclxuXHRcdFx0XHR0aGlzLnV0aWxzLmFycmF5X3ByZWZpeF9pZChcclxuXHRcdFx0XHRcdG5vdGVzLm1hcCgoZmlsZTpURmlsZSkgPT4gdGhpcy5jaGFpbi50ZmlsZV90b19zdHJpbmcoZmlsZSkpXHJcblx0XHRcdFx0KSxcclxuXHRcdFx0XHRub3Rlc1xyXG5cdFx0XHQpXHJcblx0XHRcdGlmKG5vdGUpe1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuY2hhaW4ub3Blbl9ub3RlKG5vdGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59IiwgImltcG9ydCB7IHRpbWUgfSBmcm9tICdjb25zb2xlJztcclxuaW1wb3J0IHsgXHJcblx0QXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgXHJcblx0UGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFxyXG5cdFRBYnN0cmFjdEZpbGUsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgaW50ZXJuYWwgZnJvbSAnc3RyZWFtJztcclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBOQ0VkaXRvcntcclxuXHRhcHA6QXBwO1xyXG5cdG5yZXRyeTpudW1iZXI7XHJcblx0cGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbil7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuYXBwID0gdGhpcy5wbHVnaW4uYXBwO1xyXG5cdFx0dGhpcy5ucmV0cnk9MTAwO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2V0X2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlLGtleTpzdHJpbmcsdmFsdWU6YW55LG5yZXRyeT10aGlzLm5yZXRyeSl7XHJcblx0XHRsZXQga3Y6e1trZXk6c3RyaW5nXTpzdHJpbmd9ID0ge307XHJcblx0XHRrdltrZXldID0gdmFsdWU7XHJcblx0XHRsZXQgZmxhZyA9IGF3YWl0IHRoaXMuc2V0X211bHRpX2Zyb250bWF0dGVyKHRmaWxlLGt2LG5yZXRyeSk7XHJcblx0XHRyZXR1cm4gZmxhZztcclxuXHR9XHJcblxyXG5cdGNoZWNrX2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlLGt2Ontba2V5OnN0cmluZ106YW55fSk6Ym9vbGVhbntcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmKCF0ZmlsZSl7cmV0dXJuIGZhbHNlO31cclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRcdGlmKG1ldGE/LmZyb250bWF0dGVyKXtcclxuXHRcdFx0XHRmb3IobGV0IGsgaW4ga3Ype1xyXG5cdFx0XHRcdFx0aWYoIShtZXRhLmZyb250bWF0dGVyW2tdPT1rdltrXSkpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHdhaXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa3Y6e1trZXk6c3RyaW5nXTphbnl9LG5yZXRyeT10aGlzLm5yZXRyeSk6UHJvbWlzZTxib29sZWFuPntcclxuXHRcdGxldCBmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHRcclxuXHRcdHdoaWxlKCFmbGFnICYmIG5yZXRyeT4wKXtcclxuXHRcdFx0YXdhaXQgc2xlZXAoNTApO1xyXG5cdFx0XHRucmV0cnkgPSBucmV0cnktMTtcclxuXHRcdFx0ZmxhZyA9IHRoaXMuY2hlY2tfZnJvbnRtYXR0ZXIodGZpbGUsa3YpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZsYWc7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzZXRfbXVsdGlfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa3Y6e1trZXk6c3RyaW5nXTphbnl9LG5yZXRyeT10aGlzLm5yZXRyeSk6UHJvbWlzZTxib29sZWFuPntcclxuXHRcdGxldCBmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHR3aGlsZSghZmxhZyAmJiBucmV0cnk+MCl7XHJcblxyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIodGZpbGUsIChmbSkgPT57XHJcblx0XHRcdFx0Zm9yKGxldCBrIGluIGt2KXtcclxuXHRcdFx0XHRcdGZtW2tdID0ga3Zba107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0YXdhaXQgc2xlZXAoMTAwKTtcclxuXHRcdFx0bnJldHJ5ID0gbnJldHJ5LTE7XHJcblx0XHRcdGZsYWcgPSB0aGlzLmNoZWNrX2Zyb250bWF0dGVyKHRmaWxlLGt2KTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmbGFnO1xyXG5cdH1cclxuXHJcblx0Z2V0X2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlLGtleTpzdHJpbmcpe1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aWYoIXRmaWxlKXtyZXR1cm4gbnVsbDt9XHJcblx0XHRcdGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0XHRpZihtZXRhPy5mcm9udG1hdHRlcil7XHJcblx0XHRcdFx0bGV0IGtleXMgPSBrZXkuc3BsaXQoJy4nKVxyXG5cdFx0XHRcdGxldCBjZm0gPSBtZXRhLmZyb250bWF0dGVyXHJcblx0XHRcdFx0Zm9yKGxldCBrIG9mIGtleXMpe1xyXG5cdFx0XHRcdFx0bGV0IGl0ZW1zID1rLm1hdGNoKC9eKC4qPykoXFxbXFxkK1xcXSk/JC8pXHJcblx0XHRcdFx0XHRpZighaXRlbXMpe3JldHVybiBudWxsfVxyXG5cdFx0XHRcdFx0aWYoaXRlbXNbMV0pe1xyXG5cdFx0XHRcdFx0XHRjZm0gPSBjZm1baXRlbXNbMV1dXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZighY2ZtKXtyZXR1cm4gbnVsbH1cclxuXHRcdFx0XHRcdGlmKEFycmF5LmlzQXJyYXkoY2ZtKSAmJiBpdGVtc1syXSl7XHJcblx0XHRcdFx0XHRcdGNmbSA9IGNmbVtwYXJzZUludChpdGVtc1syXS5zbGljZSgxLGl0ZW1zWzJdLmxlbmd0aC0xKSldXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBjZm1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfdmF1bHRfbmFtZSgpe1xyXG5cdFx0bGV0IGl0ZW1zID0gKHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuYmFzZVBhdGguc3BsaXQoJ1xcXFwnKVxyXG5cdFx0aXRlbXMgPSBpdGVtc1tpdGVtcy5sZW5ndGgtMV0uc3BsaXQoJy8nKVxyXG5cdFx0cmV0dXJuIGl0ZW1zW2l0ZW1zLmxlbmd0aC0xXVxyXG5cdH1cclxuXHJcblx0Z2V0X2Zyb250bWF0dGVyX2NvbmZpZyh0ZmlsZTpUQWJzdHJhY3RGaWxlLGtleTpzdHJpbmcpe1xyXG5cdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdGlmKHRmaWxlLmV4dGVuc2lvbj09J21kJyl7XHJcblx0XHRcdFx0bGV0IGNvbmZpZyA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLGtleSlcclxuXHRcdFx0XHRpZihjb25maWcpe3JldHVybiBjb25maWd9XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGxldCBmaWxlID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKFxyXG5cdFx0XHRcdFx0dGZpbGUucGF0aC5zbGljZSgwLHRmaWxlLnBhdGgubGVuZ3RoLXRmaWxlLmV4dGVuc2lvbi5sZW5ndGgpKydtZCdcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0aWYoZmlsZSl7XHJcblx0XHRcdFx0XHRsZXQgY29uZmlnID0gdGhpcy5nZXRfZnJvbnRtYXR0ZXIoZmlsZSxrZXkpXHJcblx0XHRcdFx0XHRpZihjb25maWcpe3JldHVybiBjb25maWd9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCBmaWxlID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKHRmaWxlLnBhdGgrJy8nK3RmaWxlLm5hbWUrJy5tZCcpXHJcblx0XHRcdGlmKGZpbGUpe1xyXG5cdFx0XHRcdGxldCBjb25maWcgPSB0aGlzLmdldF9mcm9udG1hdHRlcihmaWxlLGtleSlcclxuXHRcdFx0XHRpZihjb25maWcpe3JldHVybiBjb25maWd9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IGRpciA9IHRmaWxlLnBhcmVudFxyXG5cdFx0d2hpbGUoZGlyKXtcclxuXHRcdFx0bGV0IGNmaWxlO1xyXG5cdFx0XHRpZihkaXIucGFyZW50KXtcclxuXHRcdFx0XHRjZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZShcclxuXHRcdFx0XHRcdGRpci5wYXRoKycvJytkaXIubmFtZSsnLm1kJ1xyXG5cdFx0XHRcdClcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Y2ZpbGUgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfdGZpbGUoXHJcblx0XHRcdFx0XHR0aGlzLmdldF92YXVsdF9uYW1lKClcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1cclxuXHRcdFx0bGV0IGNvbmZpZyA9IHRoaXMuZ2V0X2Zyb250bWF0dGVyKGNmaWxlLGtleSlcclxuXHRcdFx0aWYoY29uZmlnKXtyZXR1cm4gY29uZmlnfVxyXG5cdFx0XHRkaXIgPSBkaXIucGFyZW50XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cclxuXHR9XHJcblx0cmVnZXhwX2xpbmsodGZpbGU6VEZpbGUsbW9kZTpzdHJpbmcpe1xyXG5cdFx0Ly9bW25vdGV8fGFsaWFzXV1cclxuXHRcdGlmKG1vZGU9PT0nbGluaycpe1xyXG5cdFx0XHRyZXR1cm4gbmV3IFJlZ0V4cChgXFxcXFtcXFxcWyR7dGZpbGUuYmFzZW5hbWV9XFxcXHw/LipcXFxcXVxcXFxdYCwnZycpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvL3BhcmFncmFwaFxyXG5cdFx0aWYobW9kZT09PSdwYXJhJyl7XHJcblx0XHRcdHJldHVybiBuZXcgUmVnRXhwKGAuKlxcXFxbXFxcXFske3RmaWxlLmJhc2VuYW1lfVxcXFx8Py4qXFxcXF1cXFxcXS4qYCwnZycpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVwbGFjZSh0ZmlsZTpURmlsZSxyZWdleDphbnksdGFyZ2V0OnN0cmluZyl7XHJcblx0XHRpZih0eXBlb2YgcmVnZXggPT09ICdzdHJpbmcnKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQucHJvY2Vzcyh0ZmlsZSwoZGF0YSk9PntcclxuXHRcdFx0XHRpZihkYXRhLmluZGV4T2YocmVnZXgpPi0xKXtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhLnJlcGxhY2UocmVnZXgsIHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KVxyXG5cdFx0fWVsc2UgaWYocmVnZXggaW5zdGFuY2VvZiBSZWdFeHApe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5wcm9jZXNzKHRmaWxlLChkYXRhKT0+e1xyXG5cdFx0XHRcdGlmKGRhdGEubWF0Y2gocmVnZXgpKXtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhLnJlcGxhY2UocmVnZXgsIHRhcmdldCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVtb3ZlX21ldGFkYXRhKHRmaWxlOlRGaWxlfHN0cmluZyl7XHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0dGZpbGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRpZih0eXBlb2YodGZpbGUpIT0nc3RyaW5nJyl7XHJcblx0XHRcdHJldHVybiAnJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBoZWFkZXJSZWdleCA9IC9eLS0tXFxzKihbXFxzXFxTXSo/KVxccyotLS0vXHJcblx0XHRsZXQgbWF0Y2ggPSBoZWFkZXJSZWdleC5leGVjKHRmaWxlKTtcclxuXHRcdGlmKG1hdGNoKXtcclxuXHRcdFx0dGZpbGUgPSB0ZmlsZS5zbGljZShtYXRjaFswXS5sZW5ndGgpLnRyaW0oKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0ZmlsZTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGV4dHJhY3RfY29kZV9ibG9jayh0ZmlsZTpURmlsZXxzdHJpbmcsYnR5cGU6c3RyaW5nKXtcclxuXHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0dGZpbGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRpZih0eXBlb2YodGZpbGUpIT0nc3RyaW5nJyl7XHJcblx0XHRcdHJldHVybiAnJ1xyXG5cdFx0fVxyXG5cdFx0bGV0IGNzc0NvZGVCbG9ja3MgPSBbXTtcclxuXHRcdGxldCByZWcgPSBuZXcgUmVnRXhwKGBcXGBcXGBcXGAke2J0eXBlfVxcXFxuKFtcXFxcc1xcXFxTXSo/KVxcblxcYFxcYFxcYGAsJ2cnKTs7XHJcblx0XHRsZXQgbWF0Y2hlcztcclxuXHRcdHdoaWxlICgobWF0Y2hlcyA9IHJlZy5leGVjKHRmaWxlKSkgIT09IG51bGwpIHtcclxuXHRcdFx0Y3NzQ29kZUJsb2Nrcy5wdXNoKG1hdGNoZXNbMV0udHJpbSgpKTsgLy8gRXh0cmFjdCB0aGUgQ1NTIGNvZGUgd2l0aG91dCBiYWNrdGlja3NcclxuXHRcdH1cclxuXHRcdHJldHVybiBjc3NDb2RlQmxvY2tzO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgZXh0cmFjdF90ZW1wbGF0ZXJfYmxvY2sodGZpbGU6VEZpbGV8c3RyaW5nLHJlZz0vPCVcXCpcXHMqKFtcXHNcXFNdKj8pXFxzKi0/JT4vZyl7XHJcblx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0dGZpbGUgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZCh0ZmlsZSk7XHJcblx0XHR9XHJcblx0XHRpZih0eXBlb2YodGZpbGUpIT0nc3RyaW5nJyl7XHJcblx0XHRcdHJldHVybiAnJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBjc3NDb2RlQmxvY2tzID0gW107XHJcblx0XHRsZXQgbWF0Y2hlcztcclxuXHRcdHdoaWxlICgobWF0Y2hlcyA9IHJlZy5leGVjKHRmaWxlKSkgIT09IG51bGwpIHtcclxuXHRcdFx0Y3NzQ29kZUJsb2Nrcy5wdXNoKG1hdGNoZXNbMF0udHJpbSgpKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IHRwbHMgPSBhd2FpdCB0aGlzLmV4dHJhY3RfY29kZV9ibG9jayh0ZmlsZSwnanMgLy90ZW1wbGF0ZXInKTtcclxuXHRcdGZvcihsZXQgdHBsIG9mIHRwbHMpe1xyXG5cdFx0XHRjc3NDb2RlQmxvY2tzLnB1c2goYDwlKlxcbiR7dHBsfVxcbi0lPmApXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNzc0NvZGVCbG9ja3M7XHJcblx0fVxyXG5cclxuXHRhc3luYyBleHRyYWN0X3lhbWxfYmxvY2sodGZpbGU6VEZpbGV8c3RyaW5nKXtcclxuXHRcdFxyXG5cdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdHRmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSE9J3N0cmluZycpe1xyXG5cdFx0XHRyZXR1cm4gJydcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaGVhZGVyUmVnZXggPSAvXi0tLVxccyooW1xcc1xcU10qPylcXHMqLS0tL1xyXG5cdFx0bGV0IG1hdGNoID0gaGVhZGVyUmVnZXguZXhlYyh0ZmlsZSk7XHJcbiAgICAgICAgaWYobWF0Y2gpe1xyXG5cdFx0XHRyZXR1cm4gbWF0Y2hbMF1cclxuICAgICAgICB9XHJcblx0XHRyZXR1cm4gJydcclxuXHR9XHJcblxyXG5cdF9leHRyYWN0X2Jsb2NrX2lkXyhwYXJhOnN0cmluZyl7XHJcblx0XHRsZXQgcmVnID0gL1xccytcXF5bYS16QS1aMC05XStcXHI/XFxuPyQvXHJcblx0XHRsZXQgbWF0Y2ggPSByZWcuZXhlYyhwYXJhKVxyXG5cdFx0aWYobWF0Y2gpe1xyXG5cdFx0XHRyZXR1cm4gbWF0Y2hbMF0udHJpbSgpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuICcnXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRfZ2VuZXJhdGVfcmFuZG9tX3N0cmluZ18obGVuZ3RoOm51bWJlcikge1xyXG5cdFx0bGV0IGNoYXJhY3RlcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODknO1xyXG5cdFx0bGV0IHJlc3VsdCA9ICcnO1xyXG5cdFxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRsZXQgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyYWN0ZXJzLmxlbmd0aCk7XHJcblx0XHRcdHJlc3VsdCArPSBjaGFyYWN0ZXJzW3JhbmRvbUluZGV4XTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRhc3luYyBleHRyYWN0X2FsbF9ibG9ja3ModGZpbGU6VEZpbGV8c3RyaW5nKXtcclxuXHRcdFxyXG5cdFx0aWYodGZpbGUgaW5zdGFuY2VvZiBURmlsZSl7XHJcblx0XHRcdHRmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG5cdFx0fVxyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSE9J3N0cmluZycpe1xyXG5cdFx0XHRyZXR1cm4gJydcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgY3R4ID0gdGZpbGU7XHJcblx0XHRsZXQgYmxvY2tzID0gW107XHJcblxyXG5cdFx0bGV0IGhlYWQgPSBhd2FpdCB0aGlzLnBsdWdpbi5lZGl0b3IuZXh0cmFjdF95YW1sX2Jsb2NrKGN0eCk7XHJcblx0XHRpZihoZWFkIT0nJyl7XHJcblx0XHRcdGJsb2Nrcy5wdXNoKFsnWUFNTCcsaGVhZF0pXHJcblx0XHRcdGN0eD1jdHguc2xpY2UoaGVhZC5sZW5ndGgpXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGt2Z2V0czp7W2tleTpzdHJpbmddOmFueX0gPSB7XHJcblx0XHRcdCdcdTdBN0FcdTc2N0RcdTZCQjVcdTg0M0QnOi9eKFxccypcXG4pKi8sXHJcblx0XHRcdCdcdTRFRTNcdTc4MDFcdTU3NTcnOiAvXlsgXFx0XSpgYGBbXFxzXFxTXSo/XFxuWyBcXHRdKmBgYFsgXFx0XSpcXG4oXFxzKlxcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCd0cGxcdTRFRTNcdTc4MDFcdTU3NTcnOi9ePCVcXCpbXFxzXFxTXSo/XFxuLT9cXCo/JT5bIFxcdF0qXFxuKFxccytcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQnXHU0RUZCXHU1MkExJzogL15bIFxcdF0qLSBcXFsuXFxdLipcXG4/KFxccytcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQnXHU2NUUwXHU1RThGXHU1MjE3XHU4ODY4JzogL15bIFxcdF0qLSAuKlxcbj8oXFxzK1xcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy8sXHJcblx0XHRcdCdcdTY3MDlcdTVFOEZcdTUyMTdcdTg4NjgnOiAvXlsgXFx0XSpcXGRcXC4gLipcXG4/KFxccytbIFxcdF0qXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J1x1NUYxNVx1NzUyOCc6IC9eKD4uKlxcbikrKFxccypcXF5bYS16QS1aMC05XStcXHI/W1xcbiRdKT8vLFxyXG5cdFx0XHQnXHU2ODA3XHU5ODk4JzogL14jKyAuKlxcbihcXHMqXFxeW2EtekEtWjAtOV0rXFxyP1tcXG4kXSk/LyxcclxuXHRcdFx0J1x1NkJCNVx1ODQzRCc6IC9eKC4qXFxuPykoXFxzKlxcXlthLXpBLVowLTldK1xccj9bXFxuJF0pPy9cclxuXHRcdH1cclxuXHRcdHdoaWxlKGN0eC5sZW5ndGg+MCl7XHJcblx0XHRcdGxldCBmbGFnID0gdHJ1ZVxyXG5cdFx0XHRmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyhrdmdldHMpKXtcclxuXHRcdFx0XHRsZXQgcmVnID0ga3ZnZXRzW2tleV07XHJcblx0XHRcdFx0bGV0IG1hdGNoID0gcmVnLmV4ZWMoY3R4KTtcclxuXHRcdFx0XHRpZihtYXRjaCl7XHJcblx0XHRcdFx0XHRsZXQgY3VyciA9IG1hdGNoWzBdO1xyXG5cdFx0XHRcdFx0aWYoY3Vyci5sZW5ndGg+MCl7XHJcblx0XHRcdFx0XHRcdGxldCBiaWQgPSB0aGlzLl9leHRyYWN0X2Jsb2NrX2lkXyhjdXJyKVxyXG5cdFx0XHRcdFx0XHRpZihrZXk9PSdcdTZCQjVcdTg0M0QnICYmIGJsb2Nrcy5sZW5ndGg+MCAmJiBibG9ja3NbYmxvY2tzLmxlbmd0aC0xXVswXT09J1x1NkJCNVx1ODQzRCcpe1xyXG5cdFx0XHRcdFx0XHRcdGJsb2Nrc1tibG9ja3MubGVuZ3RoLTFdWzFdID0gYmxvY2tzW2Jsb2Nrcy5sZW5ndGgtMV1bMV0rY3VyclxyXG5cdFx0XHRcdFx0XHRcdGJsb2Nrc1tibG9ja3MubGVuZ3RoLTFdWzJdID0gYmlkXHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGJsb2Nrcy5wdXNoKFtrZXksY3VycixiaWRdKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGZsYWcgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRjdHg9Y3R4LnNsaWNlKGN1cnIubGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHRicmVha1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihmbGFnKXtcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoY3R4Lmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IGJpZCA9IHRoaXMuX2V4dHJhY3RfYmxvY2tfaWRfKGN0eClcclxuXHRcdFx0YmxvY2tzLnB1c2goWydcdTZCQjVcdTg0M0QnLGN0eCxiaWRdKVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGJsb2Nrc1xyXG5cdH1cclxuXHJcblx0YXN5bmMgYXBwZW5kX2Jsb2NrX2lkcyh0ZmlsZTpURmlsZSl7XHJcblx0XHRsZXQgYmxvY2tzID0gYXdhaXQgdGhpcy5leHRyYWN0X2FsbF9ibG9ja3ModGZpbGUpO1xyXG5cdFx0bGV0IGl0ZW1zID0gW11cclxuXHRcdGZvcihsZXQgYmxvY2sgb2YgYmxvY2tzKXtcclxuXHRcdFx0aWYoWydcdTdBN0FcdTc2N0RcdTZCQjVcdTg0M0QnLCdZQU1MJ10uY29udGFpbnMoYmxvY2tbMF0pKXtcclxuXHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdKVxyXG5cdFx0XHR9ZWxzZSBpZighYmxvY2tbMl0pe1xyXG5cdFx0XHRcdGxldCBiaWQgPSB0aGlzLl9nZW5lcmF0ZV9yYW5kb21fc3RyaW5nXyg2KVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmKFsnXHU0RUZCXHU1MkExJywnXHU2NUUwXHU1RThGXHU1MjE3XHU4ODY4JywnXHU2NzA5XHU1RThGXHU1MjE3XHU4ODY4J10uY29udGFpbnMoYmxvY2tbMF0pKXtcclxuXHRcdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0uc2xpY2UoMCwtMSkrJyBeJytiaWQrJ1xcbicpXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpZihibG9ja1sxXS5lbmRzV2l0aCgnXFxuJykpe1xyXG5cdFx0XHRcdFx0XHRpdGVtcy5wdXNoKGJsb2NrWzFdKydeJytiaWQrJ1xcbicpXHJcblx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXSsnXFxuXicrYmlkKydcXG4nKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0bGV0IHJlcyA9IGl0ZW1zLmpvaW4oJycpXHJcblx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkodGZpbGUscmVzKVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHJlbW92ZV9ibG9ja19pZHModGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IGJsb2NrcyA9IGF3YWl0IHRoaXMuZXh0cmFjdF9hbGxfYmxvY2tzKHRmaWxlKTtcclxuXHRcdGxldCBpdGVtcyA9IFtdXHJcblx0XHRmb3IobGV0IGJsb2NrIG9mIGJsb2Nrcyl7XHJcblx0XHRcdGlmKFsnXHU3QTdBXHU3NjdEXHU2QkI1XHU4NDNEJywnWUFNTCddLmNvbnRhaW5zKGJsb2NrWzBdKSl7XHJcblx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXSlcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bGV0IHJlZyA9IC9cXHMrXFxeW2EtekEtWjAtOV0rXFxyP1xcbj8kL1xyXG5cdFx0XHRcdGxldCBtYXRjaCA9IHJlZy5leGVjKGJsb2NrWzFdKVxyXG5cdFx0XHRcdGlmKG1hdGNoKXtcclxuXHRcdFx0XHRcdGl0ZW1zLnB1c2goYmxvY2tbMV0ucmVwbGFjZShyZWcsJ1xcbicpKVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXMucHVzaChibG9ja1sxXSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGxldCByZXMgPSBpdGVtcy5qb2luKCcnKVxyXG5cdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KHRmaWxlLHJlcylcclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRhc3luYyBnZXRfY3VycmVudF9zZWN0aW9uKCl7XHJcblx0XHRsZXQgdmlldyA9ICh0aGlzLmFwcC53b3Jrc3BhY2UgYXMgYW55KS5nZXRBY3RpdmVGaWxlVmlldygpXHJcblx0XHRsZXQgZWRpdG9yID0gdmlldy5lZGl0b3I7XHJcblx0XHRsZXQgdGZpbGUgPSB2aWV3LmZpbGU7XHJcblx0XHRpZighdmlldyB8fCAhZWRpdG9yIHx8ICF0ZmlsZSl7cmV0dXJuIG51bGx9XHJcblx0XHRsZXQgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xyXG5cdFx0Y29uc29sZS5sb2coJ2N1cnNvcicsY3Vyc29yKVxyXG5cdFx0bGV0IGNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpXHJcblx0XHRjb25zb2xlLmxvZygnY2FjaGUnLGNhY2hlKVxyXG5cdFx0aWYoIWNhY2hlKXtyZXR1cm59XHJcblx0XHRpZighY3Vyc29yKXtcclxuXHRcdFx0bGV0IGN0eCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LmNhY2hlZFJlYWQodGZpbGUpO1xyXG5cdFx0XHRsZXQgaXRlbXMgPSBjYWNoZT8uc2VjdGlvbnM/Lm1hcChcclxuXHRcdFx0XHRzZWN0aW9uPT5jdHguc2xpY2Uoc2VjdGlvbi5wb3NpdGlvbi5zdGFydC5vZmZzZXQsc2VjdGlvbi5wb3NpdGlvbi5lbmQub2Zmc2V0KVxyXG5cdFx0XHQpXHJcblx0XHRcdGlmKCFpdGVtcyl7cmV0dXJuIG51bGx9XHJcblx0XHRcdGxldCBzZWN0aW9uID0gYXdhaXQgdGhpcy5wbHVnaW4uY2hhaW4udHBfc3VnZ2VzdGVyKGl0ZW1zLGNhY2hlLnNlY3Rpb25zKVxyXG5cdFx0XHRyZXR1cm4gc2VjdGlvblxyXG5cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgc2VjdGlvbnMgPSBjYWNoZT8uc2VjdGlvbnM/LmZpbHRlcihcclxuXHRcdFx0XHR4PT57cmV0dXJuIHgucG9zaXRpb24uc3RhcnQubGluZTw9Y3Vyc29yLmxpbmUgJiYgeC5wb3NpdGlvbi5lbmQubGluZT49Y3Vyc29yLmxpbmV9XHJcblx0XHRcdClbMF1cclxuXHRcdFx0cmV0dXJuIHNlY3Rpb25zXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4iLCAiXHJcbmltcG9ydCB7IFxyXG5cdEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG5cdFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyxtb21lbnQsTWFya2Rvd25SZW5kZXJlcixDb21wb25lbnQsXHJcblx0VEFic3RyYWN0RmlsZSxcclxuXHRURmlsZSxURm9sZGVyXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge05DRWRpdG9yfSBmcm9tICcuL05DRWRpdG9yJztcclxuaW1wb3J0IHtnZXRfdHBfZnVuY30gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCB7Tm90ZUNvbnRlbnRNb2RhbCxOb3RlRWRpdG9yTW9kYWx9IGZyb20gJy4vTkNNb2RhbCdcclxuaW1wb3J0IHsgc3RyaW5ncyB9IGZyb20gJy4vc3RyaW5ncyc7XHJcbmltcG9ydCB7IG9mZiB9IGZyb20gJ3Byb2Nlc3MnO1xyXG5cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZUNoYWlue1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRwcmV2OnN0cmluZztcclxuXHRuZXh0OnN0cmluZztcclxuXHRlZGl0b3I6TkNFZGl0b3I7XHJcblx0Y2hpbGRyZW46e1trZXk6c3RyaW5nXTphbnl9O1xyXG5cdE5vdGVFZGl0b3JNb2RhbDphbnlcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbixlZGl0b3I6TkNFZGl0b3IscHJldj1cIlByZXZOb3RlXCIsbmV4dD1cIk5leHROb3RlXCIpIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0dGhpcy5lZGl0b3IgPSBuZXcgTkNFZGl0b3IocGx1Z2luKTtcclxuXHRcdHRoaXMuTm90ZUVkaXRvck1vZGFsID0gTm90ZUVkaXRvck1vZGFsXHJcblx0XHRcclxuXHRcdHRoaXMucHJldiA9IHByZXY7XHJcblx0XHR0aGlzLm5leHQgPSBuZXh0O1xyXG5cdFx0dGhpcy5pbml0X2NoaWxkcmVuKCk7XHJcblx0fVxyXG5cclxuXHJcblxyXG4gICAgYXN5bmMgb3Blbl9ub3RlX2luX21vZGFsKG5vdGVQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMuZ2V0X3RmaWxlKG5vdGVQYXRoKTtcclxuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IE5vdGVDb250ZW50TW9kYWwodGhpcy5hcHAsIGNvbnRlbnQsIHRoaXMucGx1Z2luKTtcclxuXHRcdFx0XHRtb2RhbC5vcGVuKCk7XHJcblx0XHRcdFx0cmV0dXJuIG1vZGFsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cdFx0XHRcdGxldCBtb2RhbCA9IG5ldyBOb3RlQ29udGVudE1vZGFsKHRoaXMuYXBwLCBub3RlUGF0aCwgdGhpcy5wbHVnaW4pO1xyXG5cdFx0XHRcdG1vZGFsLm9wZW4oKTtcclxuXHRcdFx0XHRyZXR1cm4gbW9kYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKGBFcnJvciBvcGVuaW5nIG5vdGUgaW4gbW9kYWw6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cdGluaXRfY2hpbGRyZW4oKXtcclxuXHRcdHRoaXMuY2hpbGRyZW4gPSB7fTtcclxuXHRcdGZvcihsZXQgZiBvZiB0aGlzLmdldF9hbGxfZm9sZGVycygpKXtcclxuXHRcdFx0bGV0IHRmaWxlcyA9IGYuY2hpbGRyZW47XHJcblx0XHRcdGlmKHRoaXMucGx1Z2luLmV4cGxvcmVyPy5maWxlX2V4cGxvcmVyKXtcclxuXHRcdFx0XHR0ZmlsZXMgID0gdGhpcy5zb3J0X3RmaWxlcyhcclxuXHRcdFx0XHRcdHRmaWxlcyxcclxuXHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkuc29ydE9yZGVyXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHQodGhpcy5jaGlsZHJlbiBhcyBhbnkpW2YucGF0aF0gPSB0aGlzLnNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHJlZnJlc2hfZm9sZGVyKHRmb2xkZXI6VEZvbGRlcil7XHJcblx0XHRpZih0Zm9sZGVyPy5jaGlsZHJlbil7XHJcblx0XHRcdGxldCB0ZmlsZXMgID0gdGZvbGRlci5jaGlsZHJlbjtcclxuXHRcdFx0aWYodGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3Jlcil7XHJcblx0XHRcdFx0dGZpbGVzICA9IHRoaXMuc29ydF90ZmlsZXMoXHJcblx0XHRcdFx0XHR0ZmlsZXMgYXMgYW55LFxyXG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5zb3J0T3JkZXJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuY2hpbGRyZW5bdGZvbGRlci5wYXRoXSA9IHRoaXMuc29ydF90ZmlsZXNfYnlfY2hhaW4oXHJcblx0XHRcdFx0dGZpbGVzXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZWZyZXNoX3RmaWxlKHRmaWxlOlRBYnN0cmFjdEZpbGUpe1xyXG5cdFx0aWYodGZpbGUucGFyZW50Py5jaGlsZHJlbil7XHJcblx0XHRcdHRoaXMucmVmcmVzaF9mb2xkZXIodGZpbGUucGFyZW50KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldCB0cF9maW5kX3RmaWxlKCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLmZpbGUuZmluZF90ZmlsZScpO1xyXG5cdH1cclxuXHJcblx0Z2V0IHRwX3N1Z2dlc3Rlcigpe1xyXG5cdFx0cmV0dXJuIGdldF90cF9mdW5jKHRoaXMuYXBwLCd0cC5zeXN0ZW0uc3VnZ2VzdGVyJyk7XHJcblx0fVxyXG5cclxuXHRnZXQgdHBfcHJvbXB0KCl7XHJcblx0XHRyZXR1cm4gZ2V0X3RwX2Z1bmModGhpcy5hcHAsJ3RwLnN5c3RlbS5wcm9tcHQnKTtcclxuXHR9XHJcblxyXG5cdGdldF9hbGxfZm9sZGVycygpe1xyXG5cdFx0bGV0IGZvbGRlcnMgPSAodGhpcy5hcHAudmF1bHQgYXMgYW55KS5nZXRBbGxGb2xkZXJzKCk7XHJcblx0XHRsZXQgZm9sZGVyID0gdGhpcy5hcHAudmF1bHQuZ2V0Rm9sZGVyQnlQYXRoKCcvJyk7XHJcblx0XHRpZihmb2xkZXImJiAhZm9sZGVycy5jb250YWlucyhmb2xkZXIpKXtcclxuXHRcdFx0Zm9sZGVycy5wdXNoKGZvbGRlcik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZm9sZGVycztcclxuXHR9XHJcblxyXG5cdGdldF9hbGxfdGZpbGVzKHNvcnRfbW9kZT0nJyl7XHJcblx0XHRsZXQgZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XHJcblx0XHRpZighKHNvcnRfbW9kZT09PScnKSl7XHJcblx0XHRcdHRoaXMuc29ydF90ZmlsZXMoZmlsZXMsc29ydF9tb2RlPXNvcnRfbW9kZSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmlsZXM7XHJcblx0fVxyXG5cdFxyXG5cdHNvcnRfZm9sZGVyc19ieV9tdGltZShmb2xkZXJzOkFycmF5PFRGb2xkZXI+LHJldmVyc2U9dHJ1ZSl7XHJcblx0XHRmdW5jdGlvbiB1ZnVuYyhmOlRGb2xkZXIpe1xyXG5cdFx0XHRyZXR1cm4gTWF0aC5tYXgoXHJcblx0XHRcdFx0Li4uZi5jaGlsZHJlbi5maWx0ZXIoKGY6VEZpbGUpPT5mLmJhc2VuYW1lKS5tYXAoKGY6VEZpbGUpPT5mLnN0YXRcclxuXHRcdFx0XHQubXRpbWUpXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHRcdGxldCByZXMgPSBmb2xkZXJzLnNvcnQoKGEsYik9PnVmdW5jKGEpLXVmdW5jKGIpKTtcclxuXHRcdGlmKHJldmVyc2Upe1xyXG5cdFx0XHRyZXMgPSByZXMucmV2ZXJzZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIGNtZF9tb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIodGZpbGU9dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IGZvbGRlcnMgPSB0aGlzLmdldF9hbGxfZm9sZGVycygpO1xyXG5cdFx0Zm9sZGVycyA9IHRoaXMuc29ydF9mb2xkZXJzX2J5X210aW1lKGZvbGRlcnNcclxuXHRcdCkuZmlsdGVyKGY9PmYhPXRmaWxlLnBhcmVudCk7XHJcblxyXG5cdFx0aWYodGZpbGUuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdGZvbGRlcnMgPSBmb2xkZXJzLmZpbHRlcigoZjpURmlsZSk9PnRoaXMuZmlsdGVyX3VzZXJfaWdub3JlKGYpKTtcclxuXHRcdH1cclxuXHRcdHRyeSB7XHJcblx0XHRcdGxldCBmb2xkZXIgPSBhd2FpdCB0aGlzLnRwX3N1Z2dlc3RlcihcclxuXHRcdFx0XHR0aGlzLnBsdWdpbi51dGlscy5hcnJheV9wcmVmaXhfaWQoXHJcblx0XHRcdFx0XHRmb2xkZXJzLm1hcCgoZjpURmlsZSk9PmYucGF0aClcclxuXHRcdFx0XHQpLGZvbGRlcnNcclxuXHRcdFx0KTtcclxuXHRcdFx0Ly8gXHU3OUZCXHU1MkE4XHU3QjE0XHU4QkIwXHJcblx0XHRcdGxldCBkc3QgPSBmb2xkZXIucGF0aCtcIi9cIit0ZmlsZS5iYXNlbmFtZStcIi5cIit0ZmlsZS5leHRlbnNpb247XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLnJlbmFtZUZpbGUodGZpbGUsZHN0KTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmaWx0ZXJfdXNlcl9pZ25vcmUobm90ZTpURmlsZSl7XHJcblx0XHRpZighKCh0aGlzLmFwcC52YXVsdCBhcyBhbnkpLmNvbmZpZy5hdHRhY2htZW50Rm9sZGVyUGF0aD09PScuLycpKXtcclxuXHRcdFx0aWYobm90ZS5wYXRoLnN0YXJ0c1dpdGgoXHJcblx0XHRcdFx0KHRoaXMuYXBwLnZhdWx0IGFzIGFueSkuY29uZmlnLmF0dGFjaG1lbnRGb2xkZXJQYXRoKVxyXG5cdFx0XHQpe1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYoKHRoaXMuYXBwLnZhdWx0IGFzIGFueSkudXNlcklnbm9yZUZpbHRlcnMpe1xyXG5cdFx0XHRmb3IobGV0IHggb2YgKHRoaXMuYXBwLnZhdWx0IGFzIGFueSkudXNlcklnbm9yZUZpbHRlcnMpe1xyXG5cdFx0XHRcdGlmKG5vdGUucGF0aC5zdGFydHNXaXRoKHgpKXtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ3VzdGVyX25vdGUobm90ZXMgOiBudWxsIHwgQXJyYXk8VEZpbGU+ID0gbnVsbCl7XHJcblx0XHQvLyBcdTRFQ0VcdTVFOTNcdTRFMkRcdTkwMDlcdTYyRTlcdTRFMDBcdTRFMkFcdTdCMTRcdThCQjBcclxuXHRcdGlmKG5vdGVzPT1udWxsKXtcclxuXHRcdFx0bm90ZXMgPSB0aGlzLnNvcnRfdGZpbGVzKFxyXG5cdFx0XHRcdHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCksXHJcblx0XHRcdFx0WydtdGltZScsJ3gnXVxyXG5cdFx0XHQpLmZpbHRlcigoZjpURmlsZSk9PnRoaXMuZmlsdGVyX3VzZXJfaWdub3JlKGYpKTtcclxuXHRcdH1cclxuXHRcdHRyeSB7XHJcblx0XHRcdGxldCBtc2cgPSB0aGlzLnBsdWdpbi51dGlscy5hcnJheV9wcmVmaXhfaWQoKG5vdGVzIGFzIGFueSkubWFwKChmOlRGaWxlKT0+Zi5wYXRoKSk7XHJcblx0XHRcdGxldCBub3RlID0gYXdhaXQgdGhpcy50cF9zdWdnZXN0ZXIobXNnLG5vdGVzKTtcclxuXHRcdFx0cmV0dXJuIG5vdGU7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5fbm90ZSh0ZmlsZTpURmlsZSxuZXdfdGFiPWZhbHNlLHJldmVhbEZvbGRlcj1mYWxzZSxjb2xsYXBzZT10cnVlKXtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0Y29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRcdGlmKG5ld190YWIgfHwgIXZpZXcgfHwgIXZpZXcubGVhZil7XHJcblx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSkub3BlbkZpbGUodGZpbGUpO1xyXG5cdFx0XHR9ZWxzZSBpZigodmlldy5sZWFmIGFzIGFueSkucGlubmVkKXtcclxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKS5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHZpZXcubGVhZi5vcGVuRmlsZSh0ZmlsZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGlmKHJldmVhbEZvbGRlcil7XHJcblx0XHRcdFx0aWYoY29sbGFwc2Upe1xyXG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS50cmVlLnNldENvbGxhcHNlQWxsKHRydWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQodGhpcy5wbHVnaW4uZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnJldmVhbEluRm9sZGVyKHRmaWxlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ3VzdGVyX29wZW5fbm90ZSgpe1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IG5vdGUgPSBhd2FpdCB0aGlzLnN1Z2d1c3Rlcl9ub3RlKCk7XHJcblx0XHRcdHRoaXMub3Blbl9ub3RlKG5vdGUpO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHRnZXRfdGZpbGUocGF0aDpzdHJpbmcsb25seV9maXJzdD10cnVlKXtcclxuXHRcdHRyeXtcclxuXHRcdFx0cGF0aCA9IHBhdGguc3BsaXQoJ3wnKVswXS5yZXBsYWNlKCdbWycsJycpLnJlcGxhY2UoJ11dJywnJyk7XHJcblx0XHRcdGxldCB0ZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVCeVBhdGgocGF0aClcclxuXHRcdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRcdHJldHVybiB0ZmlsZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IHRmaWxlcyA9ICh0aGlzLmFwcC5tZXRhZGF0YUNhY2hlIGFzIGFueSkudW5pcXVlRmlsZUxvb2t1cC5nZXQocGF0aC50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdFx0aWYoIXRmaWxlcyl7XHJcblx0XHRcdFx0dGZpbGVzID0gKHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUgYXMgYW55KS51bmlxdWVGaWxlTG9va3VwLmdldChwYXRoLnRvTG93ZXJDYXNlKCkrJy5tZCcpO1xyXG5cdFx0XHRcdGlmKCF0ZmlsZXMpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRwYXRoID0gcGF0aCsnLm1kJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGN0ZmlsZXMgPSB0ZmlsZXMuZmlsdGVyKCh4OlRGaWxlKT0+eC5uYW1lPT1wYXRoKVxyXG5cdFx0XHRpZihjdGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRpZihvbmx5X2ZpcnN0KXtcclxuXHRcdFx0XHRcdHJldHVybiBjdGZpbGVzWzBdXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRyZXR1cm4gY3RmaWxlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYodGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRpZihvbmx5X2ZpcnN0KXtcclxuXHRcdFx0XHRcdHJldHVybiB0ZmlsZXNbMF1cclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHJldHVybiB0ZmlsZXNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9Y2F0Y2h7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKHBhdGgpXHJcblx0XHRcdHJldHVybiBudWxsXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfdGFncyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZighdGZpbGUpe3JldHVybiBbXX1cclxuXHRcdGxldCBtY2FjaGU9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKHRmaWxlKTtcclxuXHRcdGxldCB0YWdzOkFycmF5PHN0cmluZz4gPSBbXVxyXG5cdFx0aWYobWNhY2hlPy50YWdzKXtcclxuXHRcdFx0Zm9yKGxldCBjdXJyIG9mIG1jYWNoZS50YWdzKXtcclxuXHRcdFx0XHRpZighdGFncy5jb250YWlucyhjdXJyLnRhZykpe1xyXG5cdFx0XHRcdFx0dGFncy5wdXNoKGN1cnIudGFnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYobWNhY2hlPy5mcm9udG1hdHRlcj8udGFncyl7XHJcblx0XHRcdGlmKEFycmF5LmlzQXJyYXkobWNhY2hlLmZyb250bWF0dGVyLnRhZ3MpKXtcclxuXHRcdFx0XHRmb3IobGV0IGN1cnIgb2YgbWNhY2hlLmZyb250bWF0dGVyLnRhZ3Mpe1xyXG5cdFx0XHRcdFx0bGV0IHRhZyA9ICcjJytjdXJyO1xyXG5cdFx0XHRcdFx0aWYoIXRhZ3MuY29udGFpbnModGFnKSl7XHJcblx0XHRcdFx0XHRcdHRhZ3MucHVzaCh0YWcpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ZWxzZSBpZih0eXBlb2YgbWNhY2hlLmZyb250bWF0dGVyLnRhZ3MgPT09ICdzdHJpbmcnKXtcclxuXHRcdFx0XHRsZXQgdGFnID0gYCNgK21jYWNoZS5mcm9udG1hdHRlci50YWdzXHJcblx0XHRcdFx0aWYoIXRhZ3MuY29udGFpbnModGFnKSl7XHJcblx0XHRcdFx0XHR0YWdzLnB1c2godGFnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHRcdHJldHVybiB0YWdzXHJcblx0fVxyXG5cclxuXHRnZXRfcmVjZW50X3RmaWxlcyhvbmx5X21kPXRydWUpOkFycmF5PFRGaWxlPntcclxuXHRcdGxldCByZWNlbnQgPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbigncmVjZW50LWZpbGVzLW9ic2lkaWFuJyk7XHJcblx0XHRpZihyZWNlbnQpe1xyXG5cdFx0XHRsZXQgZmlsZXMgPSByZWNlbnQuZGF0YS5yZWNlbnRGaWxlcy5tYXAoXHJcblx0XHRcdFx0KHg6YW55KT0+dGhpcy5nZXRfdGZpbGUoeC5wYXRoKVxyXG5cdFx0XHQpLmZpbHRlcigoeDphbnkpPT54KVxyXG5cdFx0XHRyZXR1cm4gZmlsZXNcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRsZXQgcmVjZW50ID0gW11cclxuXHRcdFx0bGV0IGZpbGVzID0gKHRoaXMuYXBwLndvcmtzcGFjZSBhcyBhbnkpLnJlY2VudEZpbGVUcmFja2VyPy5sYXN0T3BlbkZpbGVzXHJcblx0XHRcdGlmKGZpbGVzICAmJiBmaWxlcy5sZW5ndGg+MCl7XHJcblx0XHRcdFx0cmVjZW50ID0gZmlsZXMubWFwKCh4OnN0cmluZyk9PnRoaXMuZ2V0X3RmaWxlKHgpKS5maWx0ZXIoKHg6VEZpbGUpPT54KVxyXG5cdFx0XHR9XHJcblx0XHRcdGxldCB0ZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKClcclxuXHRcdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRcdHJlY2VudC51bnNoaWZ0KHRmaWxlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKG9ubHlfbWQpe1xyXG5cdFx0XHRcdHJlY2VudCA9IHJlY2VudC5maWx0ZXIoKHg6VEZpbGUpPT54LmV4dGVuc2lvbj09J21kJylcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVjZW50XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfbGFzdF9kYWlseV9ub3RlKHJlY2VudF9maXJzdD10cnVlKXtcclxuXHRcdGxldCBwYXR0ZXJuPS9eXFxkezR9LVxcZHsyfS1cXGR7Mn0kLztcclxuXHJcblx0XHRpZihyZWNlbnRfZmlyc3Qpe1xyXG5cdFx0XHRsZXQgcmVjZW50ID0gdGhpcy5nZXRfcmVjZW50X3RmaWxlcygpXHJcblx0XHRcdGZvcihsZXQgdGZpbGUgb2YgcmVjZW50KXtcclxuXHRcdFx0XHRpZih0ZmlsZS5iYXNlbmFtZS5tYXRjaChwYXR0ZXJuKSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gdGZpbGU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCB0ID0gbW9tZW50KClcclxuXHRcdGZvcihsZXQgaT0wO2k8MjA7aSsrKXtcclxuXHRcdFx0bGV0IHh0ID0gdC5jbG9uZSgpLmFkZCgtaSwnZGF5cycpXHJcblx0XHRcdC8vIFx1NUU5M1x1NEUyRFx1NjI0MFx1NjcwOVx1NjU4N1x1NEVGNlxyXG5cdFx0XHRsZXQgZm5hbWUgPSB4dC5mb3JtYXQoJ1lZWVktTU0tREQnKTtcclxuXHRcdFx0bGV0IHRmaWxlID0gdGhpcy5nZXRfdGZpbGUoZm5hbWUpO1xyXG5cdFx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGxldCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5maWx0ZXIoXHJcblx0XHRcdCh4OlRGaWxlKT0+eC5iYXNlbmFtZS5tYXRjaChwYXR0ZXJuKVxyXG5cdFx0KTtcclxuXHRcdGZpbGVzID0gdGhpcy5zb3J0X3RmaWxlcyhmaWxlcywnbmFtZScpO1xyXG5cdFx0aWYoZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gZmlsZXNbZmlsZXMubGVuZ3RoLTFdO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRnZXRfbmVpZ2hib3JfbGVhZihvZmZzZXQ9MSl7XHJcblx0XHRsZXQgYXBwID0gdGhpcy5wbHVnaW4uYXBwXHJcblx0XHRsZXQgbGVhdmVzID0gYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ21hcmtkb3duJyk7XHJcblx0XHRsZXQgYWN0aXZlTGVhZiA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xyXG5cdFx0aWYoYWN0aXZlTGVhZil7XHJcblx0XHRcdGxldCBpZHggPSBsZWF2ZXMubWFwKHg9Pngudmlldz09YWN0aXZlTGVhZikuaW5kZXhPZih0cnVlKTtcclxuXHRcdFx0aWR4ID0gaWR4K29mZnNldDtcclxuXHRcdFx0aWYoaWR4PDAgfHwgaWR4PmxlYXZlcy5sZW5ndGgtMSl7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGxlYXZlc1tpZHhdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X2xhc3RfYWN0aXZhdGVfbGVhZihza2lwX2Nvbm90ZT10cnVlKXtcclxuXHRcdGxldCBsZWF2ZXM6QXJyYXk8YW55PiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ21hcmtkb3duJyk7XHJcblx0XHRsZWF2ZXMgPSBsZWF2ZXMuZmlsdGVyKHg9PnguZ2V0Vmlld1N0YXRlKCkuc3RhdGUuZmlsZSk7XHJcblx0XHRsZWF2ZXMgPSBsZWF2ZXMuc29ydCgoYSxiKT0+Yi5hY3RpdmVUaW1lIC0gYS5hY3RpdmVUaW1lKTtcclxuXHJcblx0XHRmb3IobGV0IGxlYWYgb2YgbGVhdmVzKXtcclxuXHRcdFx0bGV0IGZpbGUgPSBsZWFmLmdldFZpZXdTdGF0ZSgpLnN0YXRlLmZpbGU7XHJcblx0XHRcdGlmKHNraXBfY29ub3RlICYmIHRoaXMuZ2V0X3RhZ3MoZmlsZSkuY29udGFpbnMoJyNjb25vdGUnKSl7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGxlYWY7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGxlYWYgPSBudWxsO1xyXG5cdFx0Zm9yKGxldCBpIG9mIFsxLC0xLDBdKXtcclxuXHRcdFx0bGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9uZWlnaGJvcl9sZWFmKGkpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHRyZXR1cm4gbGVhZjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRnZXQgY3VycmVudF9ub3RlKCk6VEZpbGV8bnVsbHtcclxuXHRcdHJldHVybiB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cdH1cclxuXHJcblx0Z2V0X3NlbGVjdGVkX2ZpbGVzKGN1cnJlbnRfaWZfbm9fc2VsZWN0ZWQ9dHJ1ZSl7XHJcblx0XHRsZXQgc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0ICBcIi50cmVlLWl0ZW0tc2VsZi5pcy1zZWxlY3RlZFwiXHJcblx0XHQpO1xyXG5cdFx0bGV0IGl0ZW1zID0gT2JqZWN0LnZhbHVlcyhzZWxlY3RvcikubWFwKCh4OmFueSkgPT4ge1xyXG5cdFx0ICB2YXIgX2E7XHJcblx0XHQgIHJldHVybiAoX2EgPSB4LmRhdGFzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wYXRoO1xyXG5cdFx0fSk7XHJcblx0XHRsZXQgdGZpbGVzID0gaXRlbXMubWFwKFxyXG5cdFx0XHQoeCkgPT4gdGhpcy5nZXRfdGZpbGUoeCkpLmZpbHRlcigoeCkgPT4geC5leHRlbnNpb24gPT0gXCJtZFwiXHJcblx0XHQpXHJcblx0XHRpZih0ZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gdGZpbGVzXHJcblx0XHR9ZWxzZSBpZihjdXJyZW50X2lmX25vX3NlbGVjdGVkICYmIHRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdFx0cmV0dXJuIFt0aGlzLmN1cnJlbnRfbm90ZV1cclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gW11cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGdldF9pbmxpbmtzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLG9ubHlfbWQ9dHJ1ZSk6QXJyYXk8VEZpbGU+e1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybiBbXTt9XHJcblx0XHRsZXQgcmVzOkFycmF5PFRGaWxlPiA9IFtdXHJcblxyXG5cdFx0bGV0IGlubGlua3MgPSAodGhpcy5hcHAubWV0YWRhdGFDYWNoZSBhcyBhbnkpLmdldEJhY2tsaW5rc0ZvckZpbGUodGZpbGUpO1xyXG5cdFx0Zm9yKGxldCBbayx2XSBvZiBpbmxpbmtzLmRhdGEpe1xyXG5cdFx0XHRsZXQgY3VyciA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVCeVBhdGgoayk7XHJcblx0XHRcdGlmKGN1cnIpe1xyXG5cdFx0XHRcdHJlcy5wdXNoKGN1cnIpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfb3V0bGlua3ModGZpbGU9dGhpcy5jdXJyZW50X25vdGUsb25seV9tZD10cnVlKTpBcnJheTxURmlsZT57XHJcblx0XHRpZih0ZmlsZT09bnVsbCl7cmV0dXJuIFtdO31cclxuXHJcblx0XHRsZXQgbWNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG5cdFx0aWYoIW1jYWNoZSl7cmV0dXJuIFtdO31cclxuXHJcblx0XHRsZXQgcmVzOkFycmF5PFRGaWxlPiA9IFtdO1xyXG5cdFx0aWYobWNhY2hlLmxpbmtzKXtcclxuXHRcdFx0Zm9yKGxldCBsaW5rIG9mIG1jYWNoZS5saW5rcyl7XHJcblx0XHRcdFx0bGV0IHRmaWxlID0gdGhpcy5nZXRfdGZpbGUobGluay5saW5rKTtcclxuXHRcdFx0XHRpZih0ZmlsZSAmJiAhcmVzLmNvbnRhaW5zKHRmaWxlKSAmJiAhKG9ubHlfbWQgJiYgdGZpbGUuZXh0ZW5zaW9uIT0nbWQnKSl7XHJcblx0XHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihtY2FjaGUuZnJvbnRtYXR0ZXJMaW5rcyl7XHJcblx0XHRcdGZvcihsZXQgbGluayBvZiBtY2FjaGUuZnJvbnRtYXR0ZXJMaW5rcyl7XHJcblx0XHRcdFx0bGV0IHRmaWxlID0gdGhpcy5nZXRfdGZpbGUobGluay5saW5rKTtcclxuXHRcdFx0XHRpZih0ZmlsZSAmJiAhcmVzLmNvbnRhaW5zKHRmaWxlKSAmJiAhKG9ubHlfbWQgJiYgdGZpbGUuZXh0ZW5zaW9uIT0nbWQnKSl7XHJcblx0XHRcdFx0XHRyZXMucHVzaCh0ZmlsZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZighb25seV9tZCAmJiBtY2FjaGUuZW1iZWRzKXtcclxuXHRcdFx0Zm9yKGxldCBsaW5rIG9mIG1jYWNoZS5lbWJlZHMpe1xyXG5cdFx0XHRcdGxldCB0ZmlsZSA9IHRoaXMuZ2V0X3RmaWxlKGxpbmsubGluayk7XHJcblx0XHRcdFx0aWYodGZpbGUgJiYgIXJlcy5jb250YWlucyh0ZmlsZSkpe1xyXG5cdFx0XHRcdFx0cmVzLnB1c2godGZpbGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9saW5rcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxvbmx5X21kPXRydWUpe1xyXG5cdFx0bGV0IGlubGlua3MgPSB0aGlzLmdldF9pbmxpbmtzKHRmaWxlLG9ubHlfbWQpO1xyXG5cdFx0bGV0IG91dGxpbmtzID0gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUsb25seV9tZCk7XHJcblx0XHRmb3IobGV0IGxpbmsgb2YgaW5saW5rcyl7XHJcblx0XHRcdGlmKCFvdXRsaW5rcy5jb250YWlucyhsaW5rKSl7XHJcblx0XHRcdFx0b3V0bGlua3MucHVzaChsaW5rKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gb3V0bGlua3M7XHJcblx0fVxyXG5cclxuXHRnZXRfZ3JvdXBfaW5saW5rcyh0ZmlsZXM6QXJyYXk8VEZpbGU+LGxldmVsPTEpe1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0d2hpbGUobGV2ZWwhPTApe1xyXG5cdFx0XHRsZXQgY3VyciA9IGl0ZW1zLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0XHRmb3IobGV0IGMgb2YgY3Vycil7XHJcblx0XHRcdFx0bGV0IGxpbmtzID0gdGhpcy5nZXRfaW5saW5rcyhjLHRydWUpO1xyXG5cdFx0XHRcdGZvcihsZXQgbGluayBvZiBsaW5rcyl7XHJcblx0XHRcdFx0XHRpZighaXRlbXMuY29udGFpbnMobGluaykpe1xyXG5cdFx0XHRcdFx0XHRpdGVtcy5wdXNoKGxpbmspXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGN1cnIubGVuZ3RoPT1pdGVtcy5sZW5ndGgpe1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldmVsID0gbGV2ZWwtMTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtcztcclxuXHR9XHJcblxyXG5cdGdldF9ncm91cF9vdXRsaW5rcyh0ZmlsZXM6QXJyYXk8VEZpbGU+LGxldmVsPTEpe1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0d2hpbGUobGV2ZWwhPTApe1xyXG5cdFx0XHRsZXQgY3VyciA9IGl0ZW1zLm1hcCgoeDpURmlsZSk9PngpO1xyXG5cdFx0XHRmb3IobGV0IGMgb2YgY3Vycil7XHJcblx0XHRcdFx0bGV0IGxpbmtzID0gdGhpcy5nZXRfb3V0bGlua3MoYyx0cnVlKTtcclxuXHRcdFx0XHRmb3IobGV0IGxpbmsgb2YgbGlua3Mpe1xyXG5cdFx0XHRcdFx0aWYoIWl0ZW1zLmNvbnRhaW5zKGxpbmspKXtcclxuXHRcdFx0XHRcdFx0aXRlbXMucHVzaChsaW5rKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZihjdXJyLmxlbmd0aD09aXRlbXMubGVuZ3RoKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRsZXZlbCA9IGxldmVsLTE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fVxyXG5cclxuXHRnZXRfZ3JvdXBfbGlua3ModGZpbGVzOkFycmF5PFRGaWxlPixsZXZlbD0xKXtcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoKHg6VEZpbGUpPT54KTtcclxuXHRcdHdoaWxlKGxldmVsIT0wKXtcclxuXHRcdFx0bGV0IGN1cnIgPSBpdGVtcy5tYXAoKHg6VEZpbGUpPT54KTtcclxuXHRcdFx0Zm9yKGxldCBjIG9mIGN1cnIpe1xyXG5cdFx0XHRcdGxldCBsaW5rcyA9IHRoaXMuZ2V0X2xpbmtzKGMsdHJ1ZSk7XHJcblx0XHRcdFx0Zm9yKGxldCBsaW5rIG9mIGxpbmtzKXtcclxuXHRcdFx0XHRcdGlmKCFpdGVtcy5jb250YWlucyhsaW5rKSl7XHJcblx0XHRcdFx0XHRcdGl0ZW1zLnB1c2gobGluaylcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoY3Vyci5sZW5ndGg9PWl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0bGV2ZWwgPSBsZXZlbC0xO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGl0ZW1zO1xyXG5cdH1cclxuXHJcblx0Z2V0X2Jyb3RoZXJzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGlmKHRmaWxlJiZ0ZmlsZS5wYXJlbnQpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcih0ZmlsZS5wYXJlbnQsZmFsc2UpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcblx0Z2V0X3VuY2xlcyh0ZmlsZTpURmlsZSl7XHJcblx0XHRpZih0ZmlsZSAmJiB0ZmlsZS5wYXJlbnQgJiYgdGZpbGUucGFyZW50LnBhcmVudCl7XHJcblx0XHRcdGxldCBmb2xkZXIgPSB0ZmlsZS5wYXJlbnQucGFyZW50O1xyXG5cdFx0XHRyZXR1cm4gZm9sZGVyLmNoaWxkcmVuLmZpbHRlcihcclxuXHRcdFx0XHQoeDpUQWJzdHJhY3RGaWxlKT0+eCBpbnN0YW5jZW9mIFRGaWxlXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHRcdHJldHVybiBbXVxyXG5cdH1cclxuXHJcblx0Z2V0X3RmaWxlc19vZl9mb2xkZXIodGZvbGRlcjpURm9sZGVyfG51bGwsd2l0aF9jaGlsZHJlbj1mYWxzZSk6YW55e1xyXG5cdFx0aWYodGZvbGRlcj09bnVsbCl7cmV0dXJuIFtdO31cclxuXHRcdGxldCBub3RlcyA9IFtdO1xyXG5cdFx0Zm9yKGxldCBjIG9mIHRmb2xkZXIuY2hpbGRyZW4pe1xyXG5cdFx0XHRpZihjIGluc3RhbmNlb2YgVEZpbGUgJiYgYy5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRub3Rlcy5wdXNoKGMpO1xyXG5cdFx0XHR9ZWxzZSBpZihjIGluc3RhbmNlb2YgVEZvbGRlciAmJiB3aXRoX2NoaWxkcmVuKXtcclxuXHRcdFx0XHRsZXQgdG1wID0gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcihjKTtcclxuXHRcdFx0XHRmb3IobGV0IHggb2YgdG1wKXtcclxuXHRcdFx0XHRcdG5vdGVzLnB1c2goeCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbm90ZXM7XHJcblxyXG5cdH1cclxuXHJcblx0aW5kZXhPZkZvbGRlcih0ZmlsZTpURm9sZGVyLHRmaWxlczpBcnJheTxURmlsZT4pe1xyXG5cdFx0bGV0IGZub3RlID0gdGhpcy50cF9maW5kX3RmaWxlKHRmaWxlLm5hbWUrJy5tZCcpO1xyXG5cdFx0aWYoIWZub3RlKXtyZXR1cm4gLTE7fVxyXG5cdFx0bGV0IG1zZyA9IHRoaXMucGx1Z2luLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdGZub3RlLFwiRm9sZGVyUHJldk5vdGVcIlxyXG5cdFx0KTtcclxuXHRcdGlmKCFtc2d8fHR5cGVvZihtc2cpIT0nc3RyaW5nJyl7cmV0dXJuIC0xO31cclxuXHRcdGxldCBhbmNob3IgPSB0aGlzLmdldF90ZmlsZShtc2cpXHJcblx0XHRpZighYW5jaG9yKXtyZXR1cm4gLTE7fVxyXG5cdFx0bGV0IGlkeCA9IHRmaWxlcy5pbmRleE9mKGFuY2hvcik7XHJcblx0XHRsZXQgb2Zmc2V0ID0gdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcihcclxuXHRcdFx0Zm5vdGUsXCJGb2xkZXJQcmV2Tm90ZU9mZnNldFwiXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmKHR5cGVvZihvZmZzZXQpPT0nc3RyaW5nJyl7XHJcblx0XHRcdGlkeCA9IGlkeCArIHBhcnNlRmxvYXQob2Zmc2V0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRpZHggPSBpZHggKyAwLjU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaWR4O1xyXG5cdH1cclxuXHJcblx0dGZpbGVfdG9fc3RyaW5nKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBjdXJyID0gdGhpcy5jdXJyZW50X25vdGU7XHJcblx0XHRsZXQgbXNnID0gJyc7XHJcblx0XHRpZih0ZmlsZS5wYXJlbnQ9PWN1cnI/LnBhcmVudCl7XHJcblx0XHRcdG1zZyA9IHRmaWxlLmJhc2VuYW1lO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdG1zZyA9IHRmaWxlLnBhdGg7XHJcblx0XHR9XHJcblx0XHRpZih0ZmlsZT09dGhpcy5jdXJyZW50X25vdGUpe1xyXG5cdFx0XHRyZXR1cm4gYFx1RDgzQ1x1REZFMCAke21zZ31gXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG1zZztcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHJcblx0YXN5bmMgc3VnZ2VzdGVyX25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLGN1cnJfZmlyc3Q9ZmFsc2Usc21vZGU9Jycpe1xyXG5cdFx0aWYodGZpbGUpe3RmaWxlPT10aGlzLmN1cnJlbnRfbm90ZTt9XHJcblx0XHRsZXQga3YgPSBbXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9nZXRfYnJvdGhlcnMsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9ub3RlY2hhaW4sXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV91bmNsZV9ub3RlcyxcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3NhbWVfZm9sZGVyLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1faW5saW5rc19vdXRsaW5rcyxcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlucyxcclxuXHRcdFx0dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX291dGxpbmtzLFxyXG5cdFx0XHR0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fYWxsX25vZXMsXHJcblx0XHRcdHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9yZWNlbnQsXHJcblx0XHRdXHJcblx0XHRcclxuXHRcdGlmKGN1cnJfZmlyc3Qpe1xyXG5cdFx0XHRrdi51bnNoaWZ0KHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9jdXJyZW50bm90ZSlcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRrdi5wdXNoKHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9jdXJyZW50bm90ZSlcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbW9kZSA9ICcnO1xyXG5cdFx0aWYoa3YuY29udGFpbnMoc21vZGUpKXtcclxuXHRcdFx0bW9kZSA9IHNtb2RlO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdG1vZGUgPSBhd2FpdCB0aGlzLnRwX3N1Z2dlc3Rlcih0aGlzLnBsdWdpbi51dGlscy5hcnJheV9wcmVmaXhfaWQoa3YpLGt2KTtcclxuXHRcdH1cclxuXHRcdGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fY3VycmVudG5vdGUpe1xyXG5cdFx0XHRyZXR1cm4gW3RmaWxlXTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fZ2V0X2Jyb3RoZXJzKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2Jyb3RoZXJzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fc2FtZV9mb2xkZXIpe1xyXG5cdFx0XHRpZih0ZmlsZT8ucGFyZW50KXtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRfdGZpbGVzX29mX2ZvbGRlcih0ZmlsZS5wYXJlbnQsdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1faW5saW5rc19vdXRsaW5rcyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9saW5rcyh0ZmlsZSk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlucyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9pbmxpbmtzKHRmaWxlKTtcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fb3V0bGlua3Mpe1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRfb3V0bGlua3ModGZpbGUpO1xyXG5cdFx0fWVsc2UgaWYobW9kZT09PXRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV9hbGxfbm9lcyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9hbGxfdGZpbGVzKCk7XHJcblx0XHR9ZWxzZSBpZihtb2RlPT09dGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX3JlY2VudCl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9yZWNlbnRfdGZpbGVzKClcclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fdW5jbGVfbm90ZXMpe1xyXG5cdFx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3VuY2xlcyh0ZmlsZSk7XHJcblx0XHRcdH1cclxuXHRcdH1lbHNlIGlmKG1vZGU9PT10aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fbm90ZWNoYWluKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X2NoYWluKFxyXG5cdFx0XHRcdHRmaWxlLFxyXG5cdFx0XHRcdE51bWJlcih0aGlzLnBsdWdpbi5zZXR0aW5ncy5QcmV2Q2hhaW4pLFxyXG5cdFx0XHRcdE51bWJlcih0aGlzLnBsdWdpbi5zZXR0aW5ncy5OZXh0Q2hhaW4pXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdC8vIENoYWluXHJcblx0Z2V0X3ByZXZfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZighdGZpbGUpe3JldHVybjt9XHJcblx0XHRpZigodGZpbGUgYXMgYW55KS5kZWxldGVkKXtcclxuXHRcdFx0bGV0IHRmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcclxuXHRcdFx0XHJcblx0XHRcdHRmaWxlcyA9IHRmaWxlcy5maWx0ZXIoZj0+e1xyXG5cdFx0XHRcdGlmKCFmKXtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsZXQgbmV4dCA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihmLHRoaXMubmV4dClcclxuXHRcdFx0XHRpZih0eXBlb2YobmV4dCkhPSdzdHJpbmcnKXtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWA9PSBuZXh0XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRpZih0ZmlsZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRcdHJldHVybiB0ZmlsZXNbMF07XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0bGV0IG5hbWUgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsdGhpcy5wcmV2KTtcclxuXHRcdFx0aWYoIW5hbWV8fHR5cGVvZihuYW1lKSE9J3N0cmluZycpe3JldHVybiBudWxsO31cclxuXHRcdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZShuYW1lKTtcclxuXHRcdFx0cmV0dXJuIG5vdGU/bm90ZTpudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3Blbl9wcmV2X25vdGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlID0gdGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKTtcclxuXHRcdHRoaXMub3Blbl9ub3RlKG5vdGUpO1xyXG5cdH1cclxuXHJcblx0Z2V0X25leHRfbm90ZSh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRpZighdGZpbGUpe3JldHVybiBudWxsO31cclxuXHRcdGlmKCh0ZmlsZSBhcyBhbnkpLmRlbGV0ZWQpe1xyXG5cdFx0XHRsZXQgdGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xyXG5cdFx0XHRsZXQgcHJldiA9IFxyXG5cdFx0XHR0ZmlsZXMgPSB0ZmlsZXMuZmlsdGVyKGY9PntcclxuXHRcdFx0XHRpZighZil7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IHByZXYgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoZix0aGlzLnByZXYpXHJcblx0XHRcdFx0aWYodHlwZW9mKHByZXYpIT0nc3RyaW5nJyl7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gPT0gcHJldlxyXG5cdFx0XHR9KTtcclxuXHRcdFx0aWYodGZpbGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGVzWzBdO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGxldCBuYW1lID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLHRoaXMubmV4dCk7XHJcblx0XHRcdGlmKCFuYW1lfHx0eXBlb2YobmFtZSkhPSdzdHJpbmcnKXtyZXR1cm4gbnVsbDt9XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfdGZpbGUobmFtZSk7XHJcblx0XHRcdHJldHVybiBub3RlP25vdGU6bnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9wZW5fbmV4dF9ub3Rlcyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRsZXQgbm90ZSA9IHRoaXMuZ2V0X25leHRfbm90ZSh0ZmlsZSk7XHJcblx0XHR0aGlzLm9wZW5fbm90ZShub3RlKTtcclxuXHR9XHJcblxyXG5cdGdldF9jaGFpbih0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSxwcmV2PTEwLG5leHQ9MTAsd2l0aF9zZWxmPXRydWUpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwpe3JldHVybiBbXTt9XHJcblx0XHRcclxuXHRcdGxldCByZXMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdGlmKHdpdGhfc2VsZil7XHJcblx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IHRtcCA9IHRmaWxlO1xyXG5cdFx0Zm9yKGxldCBpPXByZXY7aSE9MDtpLS0pe1x0XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfcHJldl9ub3RlKHRtcCk7XHJcblx0XHRcdGlmKCFub3RlKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2UgaWYocmVzLmluY2x1ZGVzKG5vdGUpKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnVuc2hpZnQobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0dG1wID0gdGZpbGU7XHJcblx0XHRmb3IobGV0IGk9bmV4dDtpIT0wO2ktLSl7XHJcblx0XHRcdGxldCBub3RlID0gdGhpcy5nZXRfbmV4dF9ub3RlKHRtcCk7XHJcblx0XHRcdGlmKCFub3RlKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2UgaWYocmVzLmluY2x1ZGVzKG5vdGUpKXtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnB1c2gobm90ZSk7XHJcblx0XHRcdFx0dG1wID0gbm90ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGdldF9maXJzdF9ub3RlKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2NoYWluKHRmaWxlLC0xLDAsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbMF07XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfbGFzdF9ub3RlKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlKXtcclxuXHRcdGxldCBub3RlcyA9IHRoaXMuZ2V0X2NoYWluKHRmaWxlLDAsLTEsZmFsc2UpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPjApe1xyXG5cdFx0XHRyZXR1cm4gbm90ZXNbbm90ZXMubGVuZ3RoLTFdO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Z2V0X25laWdoYm9ycyh0ZmlsZT10aGlzLmN1cnJlbnRfbm90ZSl7XHJcblx0XHRyZXR1cm4gW1xyXG5cdFx0XHR0aGlzLmdldF9wcmV2X25vdGUodGZpbGUpLFxyXG5cdFx0XHR0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpLFxyXG5cdFx0XVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fc2V0X3ByZXYodGZpbGU6VEZpbGUscHJldjpURmlsZXxudWxsKXtcclxuXHRcdGlmKHRmaWxlPT1udWxsIHx8IHRmaWxlPT1wcmV2KXtyZXR1cm47fVxyXG5cdFx0aWYodGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKT09cHJldil7cmV0dXJuO31cclxuXHRcdGxldCBtc2cgPSBgTm90ZSBDaGFpbjogJHtwcmV2Py5iYXNlbmFtZX0gLS0+IFx1RDgzQ1x1REZFMCR7dGZpbGUuYmFzZW5hbWV9YDtcclxuXHRcdGlmKHByZXY9PW51bGwgKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMucHJldixudWxsXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMucHJldixgW1ske3ByZXYuYmFzZW5hbWV9XV1gXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRpZih0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluKXtcclxuXHRcdFx0bmV3IE5vdGljZShtc2csNTAwMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9zZXRfbmV4dCh0ZmlsZTpURmlsZSxuZXh0OlRGaWxlfG51bGwpe1xyXG5cdFx0aWYodGZpbGU9PW51bGwgfHwgdGZpbGU9PW5leHQpe3JldHVybjt9XHJcblx0XHRpZih0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpPT1uZXh0KXtyZXR1cm47fVxyXG5cdFx0bGV0IG1zZyA9IGBOb3RlIENoYWluOiBcdUQ4M0NcdURGRTAke3RmaWxlPy5iYXNlbmFtZX0gPC0tICR7bmV4dD8uYmFzZW5hbWV9YDtcclxuXHRcdGlmKG5leHQ9PW51bGwgKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMubmV4dCxudWxsXHJcblx0XHRcdCk7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YXdhaXQgdGhpcy5lZGl0b3Iuc2V0X2Zyb250bWF0dGVyKFxyXG5cdFx0XHRcdHRmaWxlLHRoaXMubmV4dCxgW1ske25leHQuYmFzZW5hbWV9XV1gXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRpZih0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluKXtcclxuXHRcdFx0bmV3IE5vdGljZShtc2csNTAwMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9zZXRfcHJldl9uZXh0KHRmaWxlOlRGaWxlLHByZXY6VEZpbGUsbmV4dDpURmlsZSl7XHJcblx0XHRpZih0ZmlsZT09bnVsbCB8fCBwcmV2PT1uZXh0fHx0ZmlsZT09cHJldnx8dGZpbGU9PW5leHQpe3JldHVybjt9XHJcblxyXG5cdFx0aWYodGhpcy5nZXRfcHJldl9ub3RlKHRmaWxlKT09cHJldil7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X25leHQodGZpbGUsbmV4dCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZih0aGlzLmdldF9uZXh0X25vdGUodGZpbGUpPT1uZXh0KXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldih0ZmlsZSxwcmV2KTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBtc2cgPSBgTm90ZSBDaGFpbjogJHtwcmV2Py5iYXNlbmFtZX0gLS0+IFx1RDgzQ1x1REZFMCR7dGZpbGU/LmJhc2VuYW1lfSA8LS0gJHtuZXh0Py5iYXNlbmFtZX1gO1xyXG5cdFx0bGV0IGZtOntba2V5OnN0cmluZ106YW55fSA9IHt9O1xyXG5cdFx0Zm1bdGhpcy5wcmV2XSA9IHByZXY/YFtbJHtwcmV2LmJhc2VuYW1lfV1dYDpudWxsO1xyXG5cdFx0Zm1bdGhpcy5uZXh0XSA9IG5leHQ/YFtbJHtuZXh0LmJhc2VuYW1lfV1dYDpudWxsO1xyXG5cdFx0YXdhaXQgdGhpcy5wbHVnaW4uZWRpdG9yLnNldF9tdWx0aV9mcm9udG1hdHRlcih0ZmlsZSxmbSk7XHJcblx0XHRpZih0aGlzLnBsdWdpbi5zZXR0aW5ncy5ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluKXtcclxuXHRcdFx0bmV3IE5vdGljZShtc2csNTAwMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9saW5rX3ByZXZfbmV4dChwcmV2OlRGaWxlLG5leHQ6VEZpbGUpe1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldihuZXh0LHByZXYpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dChwcmV2LG5leHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fY29uY2F0X3RmaWxlcyh0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdC8vIFx1NkUwNVx1OTY2NFx1ODFFQVx1OTVFRFx1NzNBRlxyXG5cdFx0bGV0IHByZXYgPSB0aGlzLmdldF9wcmV2X25vdGUodGZpbGVzWzBdKTtcclxuXHRcdGlmKHRmaWxlcy5jb250YWlucyhwcmV2KSl7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fc2V0X3ByZXYodGZpbGVzWzBdLG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1NkUwNVx1OTY2NFx1ODFFQVx1OTVFRFx1NzNBRlxyXG5cdFx0bGV0IG5leHQgPSB0aGlzLmdldF9uZXh0X25vdGUodGZpbGVzW3RmaWxlcy5sZW5ndGgtMV0pO1xyXG5cdFx0aWYodGZpbGVzLmNvbnRhaW5zKG5leHQpKXtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfbmV4dCh0ZmlsZXNbdGZpbGVzLmxlbmd0aC0xXSxudWxsKTtcclxuXHRcdH1cclxuXHRcdGlmKHRmaWxlcy5sZW5ndGg8PTEpe1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHRsZXQgTiA9IHRmaWxlcy5sZW5ndGg7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9uZXh0KHRmaWxlc1swXSx0ZmlsZXNbMV0pO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9zZXRfcHJldih0ZmlsZXNbTi0xXSx0ZmlsZXNbTi0yXSk7XHJcblx0XHRmb3IobGV0IGk9MTtpPHRmaWxlcy5sZW5ndGgtMTtpKyspe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3NldF9wcmV2X25leHQodGZpbGVzW2ldLHRmaWxlc1tpLTFdLHRmaWxlc1tpKzFdKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5fcG9wX25vZGUodGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5nZXRfbmVpZ2hib3JzKHRmaWxlKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fbGlua19wcmV2X25leHQobm90ZXNbMF0sbm90ZXNbMV0pO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYXNfaGVhZCh0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0bGV0IGhlYWQgPSB0aGlzLmdldF9maXJzdF9ub3RlKGFuY2hvcik7XHJcblx0XHRhd2FpdCB0aGlzLmNoYWluX2xpbmtfcHJldl9uZXh0KHRmaWxlLGhlYWQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X25vZGVfYXNfdGFpbCh0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0bGV0IHRhaWwgPSB0aGlzLmdldF9sYXN0X25vdGUoYW5jaG9yKTtcclxuXHRcdGF3YWl0IHRoaXMuY2hhaW5fbGlua19wcmV2X25leHQodGFpbCx0ZmlsZSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBjaGFpbl9pbnNlcnRfbm9kZV9hZnRlcih0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0bGV0IGFuY2hvcl9uZXh0ID0gdGhpcy5nZXRfbmV4dF9ub3RlKGFuY2hvcik7XHJcblx0XHRpZihhbmNob3JfbmV4dD09dGZpbGUpe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IHRmaWxlX25laWdoYm9yID0gdGhpcy5nZXRfbmVpZ2hib3JzKHRmaWxlKTtcclxuXHRcdGlmKHRmaWxlX25laWdoYm9yWzFdPT1hbmNob3Ipe1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX2NvbmNhdF90ZmlsZXMoXHJcblx0XHRcdFx0W3RmaWxlX25laWdoYm9yWzBdLGFuY2hvcix0ZmlsZSxhbmNob3JfbmV4dF1cclxuXHRcdFx0KTtcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX3BvcF9ub2RlKHRmaWxlKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5jaGFpbl9jb25jYXRfdGZpbGVzKFthbmNob3IsdGZpbGUsYW5jaG9yX25leHRdKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGNoYWluX2luc2VydF9ub2RlX2JlZm9yZSh0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0bGV0IGFuY2hvcl9wcmV2ID0gdGhpcy5nZXRfcHJldl9ub3RlKGFuY2hvcik7XHJcblx0XHRpZihhbmNob3JfcHJldj09dGZpbGUpe3JldHVybjt9XHJcblx0XHRsZXQgdGZpbGVfbmVpZ2hib3IgPSB0aGlzLmdldF9uZWlnaGJvcnModGZpbGUpO1xyXG5cdFx0aWYodGZpbGVfbmVpZ2hib3JbMF09PWFuY2hvcil7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fY29uY2F0X3RmaWxlcyhcclxuXHRcdFx0XHRbYW5jaG9yX3ByZXYsdGZpbGUsYW5jaG9yLHRmaWxlX25laWdoYm9yWzFdXVxyXG5cdFx0XHQpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhaW5fcG9wX25vZGUodGZpbGUpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLmNoYWluX2NvbmNhdF90ZmlsZXMoW2FuY2hvcl9wcmV2LHRmaWxlLGFuY2hvcl0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgY2hhaW5faW5zZXJ0X2ZvbGRlcl9hZnRlcih0ZmlsZTpURmlsZSxhbmNob3I6VEZpbGUpe1xyXG5cdFx0aWYoIXRmaWxlLnBhcmVudCB8fCB0ZmlsZS5wYXJlbnQucGFyZW50IT1hbmNob3IucGFyZW50KXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bGV0IG5vdGUgPSB0aGlzLmdldF90ZmlsZSh0ZmlsZS5wYXJlbnQubmFtZSk7XHJcblx0XHRpZighbm90ZSl7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGF3YWl0IHRoaXMucGx1Z2luLmVkaXRvci5zZXRfbXVsdGlfZnJvbnRtYXR0ZXIoXHJcblx0XHRcdG5vdGUsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcIkZvbGRlclByZXZOb3RlXCI6YFtbJHthbmNob3IuYmFzZW5hbWV9XV1gLFxyXG5cdFx0XHRcdFwiRm9sZGVyUHJldk5vdGVPZmZzZXRcIjowLjUsXHJcblx0XHQgICAgfVxyXG5cdFx0KVxyXG5cdH1cclxuXHRcclxuXHRhc3luYyBjaGFpbl9zdWdnZXN0ZXJfdGZpbGVzKHRmaWxlPXRoaXMuY3VycmVudF9ub3RlLG1vZGU9J3N1Z2dlc3Rlcicpe1xyXG5cdFx0bGV0IG5vdGVzID0gdGhpcy5nZXRfYnJvdGhlcnModGZpbGUpO1xyXG5cdFx0aWYobm90ZXMubGVuZ3RoPT0wKXtyZXR1cm47fVxyXG5cclxuXHRcdGxldCBmaWxlcyA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyX3NvcnQobm90ZXMpO1xyXG5cdFx0YXdhaXQgdGhpcy5jaGFpbl9jb25jYXRfdGZpbGVzKGZpbGVzKTtcclxuXHR9XHJcblxyXG5cdHNvcnRfdGZpbGVzKGZpbGVzOkFycmF5PFRGaWxlPixmaWVsZDphbnkpOmFueXtcclxuXHRcdGlmKHR5cGVvZiBmaWVsZCA9PT0gJ3N0cmluZycpe1xyXG5cdFx0XHRpZihmaWVsZD09PSduYW1lJyB8fCBmaWVsZD09PSdhbHBoYWJldGljYWwnKXtcclxuXHRcdFx0XHRyZXR1cm4gZmlsZXMuc29ydChcclxuXHRcdFx0XHRcdChhLGIpPT4oYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdtdGltZSd8fCBmaWVsZD09PSdieU1vZGlmaWVkVGltZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGEsYik9PihhLnN0YXQ/Lm10aW1lLWIuc3RhdD8ubXRpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdjdGltZScgfHwgZmllbGQ9PT0nYnlDcmVhdGVkVGltZScpe1xyXG5cdFx0XHRcdHJldHVybiBmaWxlcy5zb3J0KFxyXG5cdFx0XHRcdFx0KGEsYik9PihhLnN0YXQ/LmN0aW1lLWIuc3RhdD8uY3RpbWUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9ZWxzZSBpZihmaWVsZD09PSdhbHBoYWJldGljYWxSZXZlcnNlJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYixhKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fWVsc2UgaWYoZmllbGQ9PT0nYnlNb2RpZmllZFRpbWVSZXZlcnNlJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYixhKT0+KGEuc3RhdD8ubXRpbWUtYi5zdGF0Py5tdGltZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1lbHNlIGlmKGZpZWxkPT09J2J5Q3JlYXRlZFRpbWVSZXZlcnNlJyl7XHJcblx0XHRcdFx0cmV0dXJuIGZpbGVzLnNvcnQoXHJcblx0XHRcdFx0XHQoYixhKT0+KGEuc3RhdD8uY3RpbWUtYi5zdGF0Py5jdGltZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH1lbHNlIGlmKGZpZWxkPT09J2NoYWluJyl7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuc29ydF90ZmlsZXNfYnlfY2hhaW4oZmlsZXMpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmaWxlcztcclxuXHRcdH1lbHNlIGlmKHR5cGVvZiBmaWVsZCA9PT0gJ29iamVjdCcpe1xyXG5cdFx0XHRpZihmaWVsZCBpbnN0YW5jZW9mIEFycmF5KXtcclxuXHRcdFx0XHRsZXQgbmZpbGVzID0gdGhpcy5zb3J0X3RmaWxlcyhmaWxlcyxmaWVsZFswXSk7XHJcblx0XHRcdFx0aWYoZmllbGQubGVuZ3RoPj0yKXtcclxuXHRcdFx0XHRcdGlmKGZpZWxkWzFdPT09J3gnKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG5maWxlcy5yZXZlcnNlKClcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIG5maWxlcztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZpbGVzO1xyXG5cdH1cclxuXHRcclxuXHRzb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXM6QXJyYXk8VEFic3RyYWN0RmlsZT4pe1xyXG5cdFx0bGV0IG5vdGVzID0gdGZpbGVzLmZpbHRlcihmPT5mIGluc3RhbmNlb2YgVEZpbGUpO1xyXG5cdFx0bGV0IHJlczpUQWJzdHJhY3RGaWxlW10gPSBbXTtcclxuXHRcdGxldCBjdGZpbGVzOlRGaWxlW10gPSBbXTtcclxuXHRcdHdoaWxlKG5vdGVzLmxlbmd0aD4wKXtcclxuXHRcdFx0bGV0IG5vdGUgPSBub3Rlc1swXTtcclxuXHRcdFx0aWYobm90ZSBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRsZXQgeGNoYWluID0gdGhpcy5nZXRfY2hhaW4obm90ZSwtMSwtMSk7XHJcblx0XHRcdFx0Zm9yKGxldCB4IG9mIHhjaGFpbil7XHJcblx0XHRcdFx0XHRpZihub3Rlcy5jb250YWlucyh4KSl7XHJcblx0XHRcdFx0XHRcdGN0ZmlsZXMucHVzaCh4KTtcclxuXHRcdFx0XHRcdFx0bm90ZXMucmVtb3ZlKHgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJlcy5wdXNoKC4uLmN0ZmlsZXMpO1xyXG5cdFx0bGV0IGNhbnZhcyA9IHJlcy5maWx0ZXIoZj0+KGYgaW5zdGFuY2VvZiBURmlsZSkgJiYoZi5leHRlbnNpb249PSdjYW52YXMnKSlcclxuXHRcdHJlcyA9IHJlcy5maWx0ZXIoZj0+KGYgaW5zdGFuY2VvZiBURmlsZSkgJiYoZi5leHRlbnNpb24hPSdjYW52YXMnKSk7XHJcblx0XHRsZXQgZm9sZGVycyA9IHRmaWxlcy5maWx0ZXIoZj0+ZiBpbnN0YW5jZW9mIFRGb2xkZXIpO1xyXG5cdFx0aWYoZm9sZGVycy5sZW5ndGg+MCl7XHJcblx0XHRcdGxldCBpZHhzID0gZm9sZGVycy5tYXAoXHJcblx0XHRcdFx0KGY6VEZvbGRlcik9PnRoaXMuaW5kZXhPZkZvbGRlcihmLGN0ZmlsZXMpXHJcblx0XHRcdCk7XHJcblx0XHRcdHJlcy5wdXNoKC4uLmZvbGRlcnMpO1xyXG5cdFx0XHRmdW5jdGlvbiBpbmRleE9mKGY6VEFic3RyYWN0RmlsZSl7XHJcblx0XHRcdFx0aWYoZiBpbnN0YW5jZW9mIFRGaWxlKXtcclxuXHRcdFx0XHRcdHJldHVybiByZXMuaW5kZXhPZihmKTtcclxuXHRcdFx0XHR9ZWxzZSBpZihmIGluc3RhbmNlb2YgVEZvbGRlcil7XHJcblx0XHRcdFx0XHRyZXR1cm4gaWR4c1tmb2xkZXJzLmluZGV4T2YoZildO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXMgPSByZXMuc29ydCgoYSxiKT0+aW5kZXhPZihhKS1pbmRleE9mKGIpKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiBjYW52YXMpe1xyXG5cdFx0XHRsZXQgcm5hbWUgPSByZXMubWFwKHg9PnggaW5zdGFuY2VvZiBURm9sZGVyP3gubmFtZTogKHggYXMgVEZpbGUpLmJhc2VuYW1lKTtcclxuXHRcdFx0bGV0IGNuYW1lID0gKHRmaWxlIGFzIFRGaWxlKS5iYXNlbmFtZTtcclxuXHRcdFx0bGV0IGlkeCA9IHJuYW1lLmluZGV4T2YoY25hbWUpO1xyXG5cdFx0XHRpZihpZHg8MCl7XHJcblx0XHRcdFx0aWR4ID0gcm5hbWUuaW5kZXhPZihjbmFtZS5zcGxpdCgnLicpLnNsaWNlKDAsLTEpLmpvaW4oJy4nKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoaWR4PDApe1xyXG5cdFx0XHRcdHJlcy5wdXNoKHRmaWxlKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmVzLnNwbGljZShpZHgrMSwwLHRmaWxlKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdHNvcnRfdGZpbGVzX2ZvbGRlcl9maXJzdCh0ZmlsZXM6QXJyYXk8VEZpbGU+KXtcclxuXHRcdGxldCBBID0gdGZpbGVzLmZpbHRlcihmPT5mIGluc3RhbmNlb2YgVEZvbGRlcikuc29ydCgoYSxiKT0+KGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpKTtcclxuXHRcdGxldCBCID0gdGZpbGVzLmZpbHRlcihmPT5mIGluc3RhbmNlb2YgVEZpbGUpO1xyXG5cdFx0cmV0dXJuIHRoaXMucGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShbQSxCXSk7XHJcblx0fVxyXG5cclxuXHRzb3J0X3RmaWxlc19ieV9maWVsZCh0ZmlsZXM6QXJyYXk8VEZpbGU+LGZpZWxkOnN0cmluZyl7XHJcblx0XHRsZXQgcmVzID0gdGZpbGVzLnNvcnQoXHJcblx0XHRcdChhLGIpPT57XHJcblx0XHRcdFx0bGV0IGF2ID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGEsZmllbGQpO1xyXG5cdFx0XHRcdGxldCBidiA9IHRoaXMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihiLGZpZWxkKTtcclxuXHRcdFx0XHRpZih0eXBlb2YoYXYpIT10eXBlb2YoYnYpKXtcclxuXHRcdFx0XHRcdHJldHVybiAwXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmKHR5cGVvZihhdik9PSdudW1iZXInICYmIHR5cGVvZihidik9PSdudW1iZXInKXtcclxuXHRcdFx0XHRcdHJldHVybiBhdiAtIGJ2O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZih0eXBlb2YoYXYpPT0nc3RyaW5nJyAmJiB0eXBlb2YoYnYpPT0nc3RyaW5nJyl7XHJcblx0XHRcdFx0XHRsZXQgdiA9IChhdiBhcyBzdHJpbmcpLmxvY2FsZUNvbXBhcmUoYnYgYXMgc3RyaW5nKVxyXG5cdFx0XHRcdFx0cmV0dXJuIHZcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIDBcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHN1Z2dlc3Rlcl9zb3J0KHRmaWxlczpBcnJheTxURmlsZT4pe1xyXG5cdFx0aWYoIXRmaWxlcyl7cmV0dXJuIFtdO31cclxuXHRcdGlmKHRmaWxlcy5sZW5ndGg9PTApe3JldHVybiBbXX07XHJcblx0XHRsZXQga3YgPSB7XHJcblx0XHRcdCdjaGFpbic6J2NoYWluJyxcclxuXHRcdFx0J25hbWUgKGEgdG8geiknOiduYW1lJyxcclxuXHRcdFx0J2N0aW1lIChvbGQgdG8gbmV3KSc6J2N0aW1lJyxcclxuXHRcdFx0J210aW1lIChvbGQgdG8gbmV3KSc6J210aW1lJyxcclxuXHRcdFx0J25hbWUgKHogdG8gYSknOlsnbmFtZScsJ3gnXSxcclxuXHRcdFx0J2N0aW1lIChuZXcgdG8gb2xkKSc6WydjdGltZScsJ3gnXSxcclxuXHRcdFx0J210aW1lIChuZXcgdG8gb2xkKSc6WydtdGltZScsJ3gnXSxcclxuXHRcdH1cclxuXHRcdGxldCBmaWVsZCA9IGF3YWl0IHRoaXMudHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRPYmplY3Qua2V5cyhrdiksXHJcblx0XHRcdE9iamVjdC52YWx1ZXMoa3YpXHJcblx0XHQpO1xyXG5cdFx0aWYoZmllbGQ9PW51bGwpe3JldHVybiBbXTt9XHJcblx0XHRpZihmaWVsZD09J2NoYWluJyl7IFxyXG5cdFx0XHR0ZmlsZXMgPSB0aGlzLnNvcnRfdGZpbGVzKHRmaWxlcywnbmFtZScpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuc29ydF90ZmlsZXModGZpbGVzLGZpZWxkKTtcclxuXHR9XHJcblxyXG5cdHZpZXdfc29ydF9ieV9jaGFpbigpe1xyXG5cdFx0bGV0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFxyXG5cdFx0XHRcImZpbGUtZXhwbG9yZXJcIlxyXG5cdFx0KVswXT8udmlldyBhcyBhbnk7XHJcblx0XHRpZighdmlldyl7cmV0dXJuO31cclxuXHRcdHZpZXcuc29ydCgpO1xyXG5cdFx0aWYodmlldy5yZWFkeSl7XHJcblx0XHRcdGZvcihsZXQgcGF0aCBpbiB2aWV3LmZpbGVJdGVtcyl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSB2aWV3LmZpbGVJdGVtc1twYXRoXTtcclxuXHRcdFx0XHRpZihpdGVtLnZDaGlsZHJlbil7XHJcblx0XHRcdFx0XHRsZXQgZmlsZXMgPSBpdGVtLnZDaGlsZHJlbi5fY2hpbGRyZW4ubWFwKChmOmFueSk9PmYuZmlsZSk7XHJcblx0XHRcdFx0XHRmaWxlcyA9IHRoaXMuc29ydF90ZmlsZXNfYnlfY2hhaW4oZmlsZXMpO1xyXG5cdFx0XHRcdFx0bGV0IGNoaWxkcmVuID0gaXRlbS52Q2hpbGRyZW4uX2NoaWxkcmVuLnNvcnQoXHJcblx0XHRcdFx0XHRcdChhOmFueSxiOmFueSk9PmZpbGVzLmluZGV4T2YoYS5maWxlKS1maWxlcy5pbmRleE9mKGIuZmlsZSlcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdGl0ZW0udkNoaWxkcmVuLnNldENoaWxkcmVuKGNoaWxkcmVuKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmlldy50cmVlLmluZmluaXR5U2Nyb2xsLmNvbXB1dGUoKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgZ2V0X2ZpbGVfbGlua3ModGZpbGU6VEZpbGUseGxpbmtzPXRydWUsaW5saW5rcz10cnVlLG91dGxpbmtzPXRydWUsb25seW1kPWZhbHNlKXtcclxuXHRcdGxldCBpdGVtczp7W2tleTpzdHJpbmddOmFueX0gPSB7fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiBpdGVtcztcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtc1snXHVEODNDXHVERkUwICcrdGZpbGUuYmFzZW5hbWVdID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5nZXRGdWxsUGF0aCh0ZmlsZS5wYXRoKVxyXG5cdFx0aWYoeGxpbmtzKXtcclxuXHRcdFx0bGV0IHRtcDtcclxuXHRcdFx0dG1wID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLCdnaXRodWInKTtcclxuXHRcdFx0aWYodG1wKXtcclxuXHRcdFx0XHRpZih0bXAuY29udGFpbnMoJ2dpdGh1Yi5jb20nKSl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERjEwZ2l0aHViJ10gPSB0bXA7XHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERjEwZ2l0aHViJ10gPSBgaHR0cHM6Ly9naXRodWIuY29tL2ArdG1wO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0bXAgPSB0aGlzLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIodGZpbGUsJ2h1Z2dpbmdmYWNlJyk7XHJcblx0XHRcdGlmKHRtcCl7XHJcblx0XHRcdFx0aWYodG1wLmNvbnRhaW5zKCdodWdnaW5nZmFjZS5jbycpKXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdUQ4M0NcdURGMTBodWdnaW5nZmFjZVx1RDgzRVx1REQxNyddID0gdG1wO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REYxMGh1Z2dpbmdmYWNlXHVEODNFXHVERDE3J10gPSBgaHR0cHM6Ly9odWdnaW5nZmFjZS5jby9gK3RtcDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dG1wID0gdGhpcy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKHRmaWxlLCdhcnhpdicpO1xyXG5cdFx0XHRpZih0bXA/LklEKXtcclxuXHRcdFx0XHRpdGVtc1snXHVEODNDXHVERjEwYXJ4aXYnXSA9IGBodHRwczovL2FyeGl2Lm9yZy9hYnMvYCt0bXA/LklEO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0bGV0IHRleHQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKVxyXG5cdFx0XHQvLyBcdTUzMzlcdTkxNERcdTU5MTZcdTkwRThcdTk0RkVcdTYzQTVcclxuXHRcdFx0Y29uc3QgcmVnZXggPSAvXFxbW14oXFxbXFxdKV0qP1xcXVxcKC4qP1xcKS9nO1xyXG5cdFx0XHRjb25zdCBtYXRjaGVzID0gdGV4dC5tYXRjaChyZWdleCk7XHJcblx0XHRcdGlmIChtYXRjaGVzKSB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBtYXRjaCBvZiBtYXRjaGVzKSB7XHJcblx0XHRcdFx0XHQvLyBcdTYzRDBcdTUzRDZcdTUzMzlcdTkxNERcdTc2ODRcdTdFQzRcclxuXHRcdFx0XHRcdGxldCBrZXkgPSBtYXRjaC5zbGljZSgxLG1hdGNoLmluZGV4T2YoJ10oJykpO1xyXG5cdFx0XHRcdFx0bGV0IHZhbHVlID0gbWF0Y2guc2xpY2UobWF0Y2guaW5kZXhPZignXSgnKSkuc2xpY2UoMiwtMSk7XHJcblx0XHRcdFx0XHRpZih2YWx1ZT09PScnKXtjb250aW51ZTt9XHJcblx0XHRcdFx0XHRpZihrZXk9PT0nJyl7XHJcblx0XHRcdFx0XHRcdGtleSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYodmFsdWUuc3RhcnRzV2l0aCgnaHR0cCcpKXtcclxuXHRcdFx0XHRcdFx0a2V5PSdcdUQ4M0NcdURGMTAgJytrZXk7XHJcblx0XHRcdFx0XHR9ZWxzZSBpZih2YWx1ZS5zdGFydHNXaXRoKCdmaWxlOi8vLycpKXtcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zbGljZSg4KVxyXG5cdFx0XHRcdFx0XHRrZXk9ICdcdUQ4M0RcdURDQzEgJyAra2V5O1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGtleSA9ICdcdUQ4M0RcdUREMTcgJytrZXk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpdGVtc1trZXldID0gdmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZihpbmxpbmtzKXtcclxuXHQgICAgICAgIGxldCBsaW5rcyA9IHRoaXMuZ2V0X2lubGlua3MoKTtcclxuXHQgICAgICAgIGZvcihsZXQgaSBvZiBsaW5rcyl7XHJcblx0ICAgICAgICAgICAgaWYob25seW1kJiYgIShpLmV4dGVuc2lvbj09PSdtZCcpKXtjb250aW51ZTt9XHJcblx0XHRcdFx0aWYoaS5leHRlbnNpb249PT0nbWQnKXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLmJhc2VuYW1lXSA9ICh0aGlzLmFwcC52YXVsdC5hZGFwdGVyIGFzIGFueSkuZ2V0RnVsbFBhdGgoaS5wYXRoKTtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGl0ZW1zWydcdTIxMzlcdUZFMEYgJytpLm5hbWVdID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5nZXRGdWxsUGF0aChpLnBhdGgpO1xyXG5cdFx0XHRcdH1cclxuXHQgICAgICAgIH1cclxuXHQgICAgfVxyXG5cdCAgICBpZihvdXRsaW5rcyl7XHJcblx0ICAgICAgICBsZXQgbGlua3MgPSB0aGlzLmdldF9vdXRsaW5rcygpO1xyXG5cdCAgICAgICAgZm9yKGxldCBpIG9mIGxpbmtzKXtcclxuXHQgICAgICAgICAgICBpZihvbmx5bWQmJiAhKGkuZXh0ZW5zaW9uPT09J21kJykpe2NvbnRpbnVlO31cclxuXHRcdFx0XHRpZihpLmV4dGVuc2lvbj09PSdtZCcpe1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REQ3RVx1RkUwRiAnK2kuYmFzZW5hbWVdID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5nZXRGdWxsUGF0aChpLnBhdGgpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REQ3RVx1RkUwRiAnK2kubmFtZV0gPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmdldEZ1bGxQYXRoKGkucGF0aCk7XHJcblx0XHRcdFx0fVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9XHJcblx0XHRpdGVtc1snXHVEODNEXHVEQzkyIHZhdWx0J10gPSAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBhcyBhbnkpLmdldEZ1bGxQYXRoKCcuJyk7XHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fVxyXG5cclxufSIsICJcclxuaW1wb3J0IHsgXHJcblx0QXBwLCBNb2RhbCwgTm90aWNlLE1hcmtkb3duUmVuZGVyZXIsQ29tcG9uZW50LFxyXG4gICAgVEZpbGVcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gXCIuLi9tYWluXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTm90ZUNvbnRlbnRNb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIGNvbnRlbnQ6IHN0cmluZztcclxuICAgIHBsdWdpbjogTm90ZUNoYWluUGx1Z2luO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBjb250ZW50OiBzdHJpbmcsIHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwKTtcclxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgfVxyXG5cclxuICAgIG9uT3BlbigpIHtcclxuICAgICAgICBjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XHJcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5tb2RhbEVsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgdGhpcy5tb2RhbEVsLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nOyAvLyBcdTZERkJcdTUyQTBcdTZFREFcdTUyQThcdTY3NjFcclxuXHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogJ25vdGUtY29udGVudC1jb250YWluZXInIH0pO1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygnbWFya2Rvd24tcmVuZGVyZWQnKTtcclxuICAgICAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICd0YWJsZS1jZWxsJztcclxuICAgICAgICBjb250YWluZXIuc3R5bGUudmVydGljYWxBbGlnbiA9ICdtaWRkbGUnO1xyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzIwcHgnOyAvLyBcdTZERkJcdTUyQTBcdTRFMDBcdTRFOUJcdTUxODVcdThGQjlcdThERERcclxuXHJcbiAgICAgICAgLy8gXHU1MjFCXHU1RUZBXHU0RTAwXHU0RTJBXHU0RTM0XHU2NUY2XHU3Njg0IENvbXBvbmVudCBcdTVCOUVcdTRGOEJcclxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgTWFya2Rvd25SZW5kZXJlci5yZW5kZXIodGhpcy5hcHAsIHRoaXMuY29udGVudCwgY29udGFpbmVyLCAnJywgY29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDbGlja0xpc3RlbmVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZSgpIHtcclxuICAgICAgICBsZXQge2NvbnRlbnRFbH0gPSB0aGlzO1xyXG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENsaWNrTGlzdGVuZXIoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdBJyAmJiB0YXJnZXQuaGFzQ2xhc3MoJ2ludGVybmFsLWxpbmsnKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGxldCBocmVmID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Ob3RlSW5NYWluVmlldyhocmVmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9wZW5Ob3RlSW5NYWluVmlldyhsaW5rVGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLm9wZW5MaW5rVGV4dChsaW5rVGV4dCwgJycsIGZhbHNlLCB7IGFjdGl2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yIG9wZW5pbmcgbm90ZTogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RlRWRpdG9yTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgICBmaWxlUGF0aDogc3RyaW5nOyAvLyBcdTZERkJcdTUyQTBcdTY1ODdcdTRFRjZcdThERUZcdTVGODRcdTVDNUVcdTYwMjdcclxuICAgIGlzRWRpdE1vZGU6IGJvb2xlYW47IC8vIFx1NkRGQlx1NTJBMFx1N0YxNlx1OEY5MVx1NkEyMVx1NUYwRlx1NUM1RVx1NjAyN1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBmaWxlUGF0aDogc3RyaW5nLCBpc0VkaXRNb2RlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMuZmlsZVBhdGggPSBmaWxlUGF0aDtcclxuICAgICAgICB0aGlzLmlzRWRpdE1vZGUgPSBpc0VkaXRNb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG9uT3BlbigpIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNFZGl0TW9kZSkge1xyXG4gICAgICAgICAgICAvLyBcdTgzQjdcdTUzRDZcdTY1ODdcdTRFRjZcdTVCRjlcdThDNjFcclxuICAgICAgICAgICAgbGV0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5maWxlUGF0aCkgYXMgVEZpbGU7XHJcbiAgICAgICAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcdTUyMUJcdTVFRkFcdTRFMDBcdTRFMkFcdTY1QjBcdTc2ODRcdTVERTVcdTRGNUNcdTUzM0FcdTUzRjZcdTVCNTBcdTVFNzZcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGxlYWYub3BlbkZpbGUoZmlsZSwgeyBzdGF0ZTogeyBtb2RlOiAnc291cmNlJyB9IH0pOyAvLyBcdTRFRTVcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjZcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBcdTUxNzNcdTk1RURcdTVGNTNcdTUyNERcdTZBMjFcdTYwMDFcdTdBOTdcdTUzRTNcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYEZpbGUgbm90IGZvdW5kOiAke3RoaXMuZmlsZVBhdGh9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBcdTUxNzZcdTRFRDZcdTZBMjFcdTVGMEZcdTc2ODRcdTU5MDRcdTc0MDZcdTkwM0JcdThGOTFcclxuICAgICAgICAgICAgbmV3IE5vdGljZSgnTm90IGluIGVkaXQgbW9kZS4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25DbG9zZSgpIHtcclxuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcclxuICAgICAgICBjb250ZW50RWwuZW1wdHkoKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBcclxuXHRBcHAsVEFic3RyYWN0RmlsZSxURmlsZSxURm9sZGVyLFZhdWx0LENhY2hlZE1ldGFkYXRhXHJcbn0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQge05vdGVDaGFpbn0gZnJvbSBcIi4vTm90ZUNoYWluXCI7XHJcbmltcG9ydCB7IHN5bWxpbmsgfSBmcm9tICdmcyc7XHJcblxyXG5cclxubGV0IGNoYWluX3NvcnQgPSBmdW5jdGlvbihvcmdfc29ydDpGdW5jdGlvbikge1xyXG5cdGxldCBwbHVnaW4gPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xyXG5cdHJldHVybiBmdW5jdGlvbiguLi5kOmFueSl7XHJcblx0XHRpZihwbHVnaW4pe1xyXG5cdFx0XHRpZihwbHVnaW4/LnNldHRpbmdzLmlzU29ydEZpbGVFeHBsb3Jlcil7XHJcblx0XHRcdFx0bGV0IGUgPSB0aGlzLmZpbGVcclxuXHRcdFx0XHQsIHQgPSB0aGlzLnZpZXdcclxuXHRcdFx0XHQsIGkgPSBlLmNoaWxkcmVuLnNsaWNlKCk7XHJcblx0XHRcdFx0aSA9IGkuZmlsdGVyKCh4OlRBYnN0cmFjdEZpbGUpPT54KTtcclxuXHRcdFx0XHRpZihpLmxlbmd0aD4wKXtcclxuXHRcdFx0XHRcdGxldCBpdGVtcyA9IHBsdWdpbi5jaGFpbi5jaGlsZHJlbltpWzBdLnBhcmVudC5wYXRoXTtcclxuXHRcdFx0XHRcdGlmKGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0bGV0IGEgPSBpdGVtcy5maWx0ZXIoKHg6VEFic3RyYWN0RmlsZSk9PmkuY29udGFpbnMoeCkpO1xyXG5cdFx0XHRcdFx0XHRsZXQgYiA9IGl0ZW1zLmZpbHRlcigoeDpUQWJzdHJhY3RGaWxlKT0+IWkuY29udGFpbnMoeCkpO1xyXG5cdFx0XHRcdFx0XHRhLnB1c2goLi4uYik7XHJcblx0XHRcdFx0XHRcdGkgPSBhO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihwbHVnaW4uc2V0dGluZ3MuaXNGb2xkZXJGaXJzdCl7XHJcblx0XHRcdFx0XHRpID0gcGx1Z2luLmNoYWluLnNvcnRfdGZpbGVzX2ZvbGRlcl9maXJzdChpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bGV0IHIgPSBbXTtcclxuXHRcdFx0XHRmb3IgKGxldCBvID0gMCwgYSA9IGk7IG8gPCBhLmxlbmd0aDsgbysrKSB7XHJcblx0XHRcdFx0XHRsZXQgcyA9IGFbb11cclxuXHRcdFx0XHRcdCwgbCA9IHQuZmlsZUl0ZW1zW3MucGF0aF07XHJcblx0XHRcdFx0XHRsICYmIHIucHVzaChsKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLnZDaGlsZHJlbi5zZXRDaGlsZHJlbihyKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIG9yZ19zb3J0LmNhbGwodGhpcywuLi5kKTtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBvcmdfc29ydC5jYWxsKHRoaXMsLi4uZCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5sZXQgZ2V0U29ydGVkRm9sZGVySXRlbXMgPSBmdW5jdGlvbihvcmdfc29ydDpGdW5jdGlvbikge1xyXG5cdGxldCBwbHVnaW4gPSAodGhpcy5hcHAgYXMgYW55KS5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xyXG5cdHJldHVybiBmdW5jdGlvbihlOmFueSl7XHJcblx0XHRpZihwbHVnaW4pe1xyXG5cdFx0XHR0cnl7XHJcblx0XHRcdFx0bGV0IHJlcyA9IG9yZ19zb3J0LmNhbGwodGhpcyxlKTtcclxuXHRcdFx0XHRsZXQgdGZpbGVzID0gcGx1Z2luLmNoYWluLmNoaWxkcmVuW2UucGF0aF07XHJcblx0XHRcdFx0aWYodGZpbGVzKXtcclxuXHRcdFx0XHRcdHJlcyA9IHJlcy5zb3J0KChhOmFueSxiOmFueSk9PnRmaWxlcy5pbmRleE9mKGEuZmlsZSktdGZpbGVzLmluZGV4T2YoYi5maWxlKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiByZXM7XHJcblx0XHRcdH1jYXRjaChlKXtcclxuXHRcdFx0XHRyZXR1cm4gb3JnX3NvcnQuY2FsbCh0aGlzLGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cmV0dXJuIG9yZ19zb3J0LmNhbGwodGhpcyxlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmxldCBnZXRUdGl0bGUgPSBmdW5jdGlvbihvcmdfZ2V0VHRpbGU6RnVuY3Rpb24pIHtcclxuXHRsZXQgcGx1Z2luID0gKHRoaXMuYXBwIGFzIGFueSkucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcclxuXHRyZXR1cm4gZnVuY3Rpb24oZTphbnkpe1xyXG5cdFx0aWYocGx1Z2luKXtcclxuXHRcdFx0dHJ5e1xyXG5cdFx0XHRcdGxldCByZXMgPSBwbHVnaW4uZXhwbG9yZXIuZ2V0X2Rpc3BsYXlfdGV4dCh0aGlzLmZpbGUpXHJcblx0XHRcdFx0cmV0dXJuIHJlcztcclxuXHRcdFx0fWNhdGNoKGUpe1xyXG5cdFx0XHRcdHJldHVybiBvcmdfZ2V0VHRpbGUuY2FsbCh0aGlzKTtcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiBvcmdfZ2V0VHRpbGUuY2FsbCh0aGlzKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOQ0ZpbGVFeHBsb3JlcntcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0Y2hhaW46Tm90ZUNoYWluO1xyXG5cdGdldFNvcnRlZEZvbGRlckl0ZW1zOkZ1bmN0aW9uO1xyXG5cdGdldFNvcnRlZEZvbGRlckl0ZW1zX25ldzpGdW5jdGlvbjtcclxuXHRnZXRUaXRsZTpGdW5jdGlvbjtcclxuXHRnZXRUaXRsZV9uZXc6RnVuY3Rpb247XHJcblx0X0ZvbGRlckRvbV86YW55O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKXtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5jaGFpbiA9IHBsdWdpbi5jaGFpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMucmVnaXN0ZXIoKTtcclxuXHR9XHJcblxyXG5cdHJlZ2lzdGVyKCl7XHJcblx0XHR0aGlzLmdldFNvcnRlZEZvbGRlckl0ZW1zID0gdGhpcy5maWxlX2V4cGxvcmVyLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRTb3J0ZWRGb2xkZXJJdGVtcztcclxuXHRcdHRoaXMuZ2V0U29ydGVkRm9sZGVySXRlbXNfbmV3ID0gZ2V0U29ydGVkRm9sZGVySXRlbXModGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtcyk7XHJcblx0XHR0aGlzLmZpbGVfZXhwbG9yZXIuY29uc3RydWN0b3IucHJvdG90eXBlLmdldFNvcnRlZEZvbGRlckl0ZW1zID0gdGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtc19uZXc7XHJcblxyXG5cclxuXHRcdGxldCBpdGVtID0gKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpLmZpbGVJdGVtc1tcclxuXHRcdFx0dGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2FsbF90ZmlsZXMoKVswXS5wYXRoXHJcblx0XHRdXHJcblxyXG5cdFx0aWYoaXRlbSl7XHJcblx0XHRcdHRoaXMuZ2V0VGl0bGUgPSBpdGVtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRUaXRsZVxyXG5cdFx0XHR0aGlzLmdldFRpdGxlX25ldyA9IGdldFR0aXRsZSh0aGlzLmdldFRpdGxlKVxyXG5cdFx0XHRpdGVtLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRUaXRsZSA9IHRoaXMuZ2V0VGl0bGVfbmV3XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHRoaXMuc29ydCgwLHRydWUpO1xyXG5cdFx0dGhpcy5zZXRfZGlzcGxheV90ZXh0KClcclxuXHRcdHRoaXMuc2V0X2ZpbGVpdGVtX3N0eWxlKClcclxuXHR9XHJcblxyXG5cdGFzeW5jIHVucmVnaXN0ZXIoKXtcclxuXHRcdGlmKHRoaXMuZ2V0U29ydGVkRm9sZGVySXRlbXMpe1xyXG5cdFx0XHR0aGlzLmZpbGVfZXhwbG9yZXIuY29uc3RydWN0b3IucHJvdG90eXBlLmdldFNvcnRlZEZvbGRlckl0ZW1zID0gdGhpcy5nZXRTb3J0ZWRGb2xkZXJJdGVtcztcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgaXRlbXMgPSAodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRhd2FpdCB0aGlzLl9zZXRfZGlzcGxheV90ZXh0XyhpdGVtLHRoaXMuZ2V0X29yaWdpbl90ZXh0KGl0ZW0uZmlsZSkpXHJcblx0XHRcdGl0ZW0uZWwuc3R5bGUuYmFja2dyb3VuZCA9IG51bGxcclxuXHRcdFx0aXRlbS5lbC5zdHlsZS5ib3JkZXIgPSBudWxsXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXQgZmlsZV9leHBsb3Jlcigpe1xyXG5cdFx0bGV0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFxyXG5cdFx0XHRcImZpbGUtZXhwbG9yZXJcIlxyXG5cdFx0KVswXT8udmlldztcclxuXHRcdHJldHVybiB2aWV3O1xyXG5cdH1cclxuXHRcclxuXHRhc3luYyBzb3J0KG5zbGVlcD0wLGluaXQ9ZmFsc2Upe1xyXG5cdFx0aWYoKHRoaXMuZmlsZV9leHBsb3JlciBhcyBhbnkpPy5zb3J0KXtcclxuXHRcdFx0aWYobnNsZWVwPjApe1xyXG5cdFx0XHRcdGF3YWl0IHNsZWVwKG5zbGVlcCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoaW5pdCl7XHJcblx0XHRcdFx0dGhpcy5wbHVnaW4uY2hhaW4uaW5pdF9jaGlsZHJlbigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihPYmplY3Qua2V5cyh0aGlzLnBsdWdpbi5jaGFpbi5jaGlsZHJlbikubGVuZ3RoPT0wKXtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpPT57XHJcblx0XHRcdFx0XHR0aGlzLnNvcnQobnNsZWVwLHRydWUpO1xyXG5cdFx0XHRcdH0sIDMwMDApO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHQodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHRcclxuXHR9XHJcblxyXG5cdGdldF9maWVsZF9vZl9kaXNwbGF5X3RleHQodGZpbGU6VEFic3RyYWN0RmlsZSk6c3RyaW5ne1xyXG5cdFx0aWYodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KXtcclxuXHRcdFx0bGV0IGl0ZW0gPSAgdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcl9jb25maWcodGZpbGUsdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KVxyXG5cdFx0XHRpZih0eXBlb2YoaXRlbSkgIT0gJ3N0cmluZycpe1xyXG5cdFx0XHRcdHJldHVybiAnJ1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBpdGVtXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJydcclxuXHR9XHJcblxyXG5cdGdldF9vcmlnaW5fdGV4dCh0ZmlsZTpUQWJzdHJhY3RGaWxlKXtcclxuXHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRpZih0ZmlsZS5leHRlbnNpb249PSdtZCcpe1xyXG5cdFx0XHRcdHJldHVybiB0ZmlsZS5iYXNlbmFtZVxyXG5cdFx0XHR9ZWxzZSBpZih0ZmlsZS5leHRlbnNpb249PSdjYW52YXMnKXtcclxuXHRcdFx0XHRyZXR1cm4gdGZpbGUuYmFzZW5hbWVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cmV0dXJuIHRmaWxlLm5hbWVcclxuXHRcdFx0fVxyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJldHVybiB0ZmlsZS5uYW1lXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRfaXRlbSh0ZmlsZTpUQWJzdHJhY3RGaWxlLGZpZWxkOnN0cmluZyl7XHJcblx0XHRpZighZmllbGQpe3JldHVybiAnJ31cclxuXHRcdGxldCBmaWVsZHMgPSBmaWVsZC5zcGxpdCgnfCcpXHJcblx0XHRsZXQgaXRlbSA9ICcnXHJcblx0XHRmb3IobGV0IGYgb2YgZmllbGRzKXtcclxuXHRcdFx0aWYoZj09JyQwJyl7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X29yaWdpbl90ZXh0KHRmaWxlKVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGYuc3RhcnRzV2l0aCgnPycpKXtcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmKHRmaWxlIGluc3RhbmNlb2YgVEZpbGUpe1xyXG5cdFx0XHRcdGxldCBzID0gdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSxmKVxyXG5cdFx0XHRcdGlmKHR5cGVvZiBzID09PSAnbnVtYmVyJyl7XHJcblx0XHRcdFx0XHRpdGVtID0gYCR7c31gXHJcblx0XHRcdFx0fWVsc2UgaWYodHlwZW9mKHMpIT0nc3RyaW5nJyB8fCBzPT0nJyl7XHJcblx0XHRcdFx0XHRjb250aW51ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpdGVtID0gc1xyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmKGZpZWxkcy5sYXN0KCk/LnN0YXJ0c1dpdGgoJz8nKSAmJiBpdGVtKXtcclxuXHRcdFx0cmV0dXJuIGZpZWxkcy5sYXN0KCk/LnNsaWNlKDEpLnJlcGxhY2UoL1xcJDEvZyxpdGVtKSAgfHwgJydcclxuXHRcdH1cclxuXHRcdHJldHVybiBpdGVtXHJcblx0fVxyXG5cclxuXHRnZXRfZGlzcGxheV90ZXh0KHRmaWxlOlRBYnN0cmFjdEZpbGUpIHtcclxuXHRcdGxldCBzdHIgPSB0aGlzLmdldF9maWVsZF9vZl9kaXNwbGF5X3RleHQodGZpbGUpXHJcblx0XHRcclxuXHRcdGlmKCFzdHIgfHwgc3RyPT0nJDAnIHx8IHN0cj09J3skMH0nKXtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0X29yaWdpbl90ZXh0KHRmaWxlKVxyXG5cdFx0fVxyXG5cdCAgXHJcblx0XHRsZXQgbXN0ciA9IHN0ci5yZXBsYWNlKC9cXDwoLis/KT9cXD4vZywgKG1hdGNoOnN0cmluZywgZmllbGQ6c3RyaW5nKSA9PiB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9pdGVtKHRmaWxlLGZpZWxkKVxyXG5cdFx0fSlcclxuXHRcdG1zdHIgPSBtc3RyXHJcblx0XHRpZihtc3RyPT0nJyl7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldF9vcmlnaW5fdGV4dCh0ZmlsZSlcclxuXHRcdH1lbHNle1xyXG5cdFx0XHRyZXR1cm4gbXN0clxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X3NldF9kaXNwbGF5X3RleHRfKGl0ZW06YW55LHR4dDphbnkpe1xyXG5cdFx0aWYoaXRlbSAmJiB0eHQpe1xyXG5cdFx0XHRpZih0eXBlb2YodHh0KT09J3N0cmluZycpe1xyXG5cdFx0XHRcdGl0ZW0uaW5uZXJFbC5zZXRUZXh0KHR4dClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRzZXRfZGlzcGxheV90ZXh0KCl7XHJcblx0XHRsZXQgaXRlbXMgPSAodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRsZXQgdHh0ID0gdGhpcy5nZXRfZGlzcGxheV90ZXh0KGl0ZW0uZmlsZSlcclxuXHRcdFx0dGhpcy5fc2V0X2Rpc3BsYXlfdGV4dF8oaXRlbSx0eHQpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhc3luYyBnZXRfZmlsZWl0ZW1fc3R5bGUodGZpbGU6VEFic3RyYWN0RmlsZSl7XHJcblx0XHRpZih0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKXtcclxuXHRcdFx0bGV0IHN0eWxlID0gdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcl9jb25maWcodGZpbGUsdGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcilcclxuXHRcdFx0aWYodHlwZW9mKHN0eWxlKT09J3N0cmluZycpe1xyXG5cdFx0XHRcdGxldCBmdW5jID0gYXdhaXQgdGhpcy5wbHVnaW4udXRpbHMuZ2V0X3N0cl9mdW5jKHRoaXMuYXBwLHN0eWxlKVxyXG5cdFx0XHRcdGlmKGZ1bmMpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHN0eWxlXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbFxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2V0X2ZpbGVpdGVtX3N0eWxlKCl7XHJcblx0XHRsZXQgaXRlbXMgPSAodGhpcy5maWxlX2V4cGxvcmVyIGFzIGFueSkuZmlsZUl0ZW1zXHJcblx0XHRmb3IobGV0IGtleSBpbiBpdGVtcyl7XHJcblx0XHRcdGxldCBpdGVtID0gaXRlbXNba2V5XVxyXG5cdFx0XHRsZXQgc3R5bGUgPSBhd2FpdCB0aGlzLmdldF9maWxlaXRlbV9zdHlsZShpdGVtLmZpbGUpXHJcblx0XHRcdGF3YWl0IHRoaXMuc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUoaXRlbS5maWxlLHN0eWxlKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YXN5bmMgc2V0X2ZpbGVpdGVtX3N0eWxlX29mX2ZpbGUodGZpbGU6VEFic3RyYWN0RmlsZSxzdHlsZT1udWxsKXtcclxuXHRcdGlmKCF0ZmlsZSl7cmV0dXJufVxyXG5cdFx0aWYoIXN0eWxlKXtcclxuXHRcdFx0c3R5bGUgPSBhd2FpdCB0aGlzLmdldF9maWxlaXRlbV9zdHlsZSh0ZmlsZSlcclxuXHRcdH1cclxuXHRcdGxldCBpdGVtcyA9ICh0aGlzLmZpbGVfZXhwbG9yZXIgYXMgYW55KS5maWxlSXRlbXNcclxuXHRcdGxldCBpdGVtID0gaXRlbXNbdGZpbGUucGF0aF1cclxuXHRcdGlmKGl0ZW0pe1xyXG5cdFx0XHRpZih0eXBlb2Yoc3R5bGUpPT0nZnVuY3Rpb24nKXtcclxuXHRcdFx0XHRzdHlsZSA9IGF3YWl0IChzdHlsZSBhcyBhbnkpKHRmaWxlKVxyXG5cdFx0XHRcdGlmKCFzdHlsZSl7XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoc3R5bGU9PW51bGwpe1xyXG5cdFx0XHRcdGl0ZW0uZWwuc3R5bGUuYmFja2dyb3VuZCA9IG51bGxcclxuXHRcdFx0XHRpdGVtLmVsLnN0eWxlLmJvcmRlciA9IG51bGxcclxuXHRcdFx0fWVsc2UgaWYgKHR5cGVvZihzdHlsZSk9PSdzdHJpbmcnKXtcclxuXHRcdFx0XHRpdGVtLmVsLnN0eWxlLmJhY2tncm91bmQgPSBzdHlsZVxyXG5cdFx0XHR9ZWxzZSBpZih0eXBlb2Yoc3R5bGUpPT0nb2JqZWN0Jyl7XHJcblx0XHRcdFx0Zm9yKGxldCBrIGluIChzdHlsZSBhcyBhbnkpKXtcclxuXHRcdFx0XHRcdChpdGVtIGFzIGFueSkuZWwuc3R5bGVba10gPSAoc3R5bGUgYXMgYW55KVtrXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fWVsc2UgaWYodHlwZW9mKHN0eWxlKT09J2Z1bmN0aW9uJyl7XHJcblx0XHRcdFx0YXdhaXQgKHN0eWxlIGFzIGFueSkodGZpbGUpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0iLCAiXHJcblxyXG5leHBvcnQgY2xhc3MgU3RyaW5nc3tcclxuICAgIGxhbmd1YWdlOnN0cmluZztcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgbGV0IGxhbmcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmd1YWdlJyk7XHJcbiAgICAgICAgaWYobGFuZyl7XHJcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5nO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gJ2VuJztcclxuICAgICAgICB9XHJcblx0fVxyXG5cclxuICAgIGdldCBjbWRfbWVybWFpZF9mbG93Y2hhcnRfbGluaygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWRcdTk0RkVcdTYzQTVcdTUzNjFcdTcyNDcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZCBvZiBsaW5rZWQgbm90ZXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWRcdTc2RUVcdTVGNTVcdTUzNjFcdTcyNDcnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiAnTWVybWFpZCBvZiBmb2xkZXIgbm90ZXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX21lcm1haWRfZmxvd2NoYXJ0X2F1dG8oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdNZXJtYWlkXHU1MzYxXHU3MjQ3J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ01lcm1haWQgb2Ygbm90ZXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IGNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2IC0gXHU0RjdGXHU3NTI4XHU3Q0ZCXHU3RURGXHU3QTBCXHU1RThGXHU2MjUzXHU1RjAwXHVGRjA4XHU0RUM1XHU2ODRDXHU5NzYyXHVGRjA5J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ZpbGUgLSBvcGVuIHdpdGggc3lzdGVtIGFwcCAoZGVza3RvcCBvbmx5KSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfZmlsZV9zaG93X2luX3N5c3RlbV9leHBsb3Jlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjU4N1x1NEVGNiAtIFx1NTcyOFx1N0NGQlx1N0VERlx1NkQ0Rlx1ODlDOFx1NzY4NFx1NjdFNVx1NzcwQlx1RkYwOFx1NEVDNVx1Njg0Q1x1OTc2Mlx1RkYwOSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdGaWxlIC0gc2hvdyBpbiBzeXN0ZW0gZXhwbG9yZXIgKGRlc2t0b3Agb25seSknO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2ZpbGVfcmVuYW1lKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2NTg3XHU0RUY2IC0gXHU5MUNEXHU1NDdEXHU1NDBEXHU2NTg3XHU0RUY2J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ0ZpbGUgLSByZW5hbWUgZmlsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgY21kX2xvbmdmb3JtMm5vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjgzOVx1NjM2RUxvbmdGb3JtXHU5MUNEXHU3RjZFXHU3QjE0XHU4QkIwXHU5NEZFXHU2NzYxJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Jlc2V0IG5vdGUgY2hhaW4gYnkgbG9uZ2Zvcm0nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX2xvbmdmb3JtNG5vdGVjaGFpbigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjgzOVx1NjM2RVx1N0IxNFx1OEJCMFx1OTRGRVx1Njc2MVx1RkYwQ1x1OTFDRFx1N0Y2RUxvbmdGb3JtXHU1NzNBXHU2NjZGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJSZXNldCBsb25nZm9ybSBzY2VuZXMgYnkgbm90ZSBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX3NvcnRfZmlsZV9leHBsb3Jlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjgzOVx1NjM2RVx1N0IxNFx1OEJCMFx1OTRGRVx1NjM5Mlx1NUU4RidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiU29ydCBmaWxlIGV4cGxvcmVyIGJ5IG5vdGUgY2hhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX25vdGVzX3NtYXJ0ZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY2N0FcdTgwRkRcdTYyNTNcdTVGMDBcdTY1ODdcdTRFRjYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gbm90ZSBzbWFydGVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJPcGVuIG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX3ByZXZfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBwcmV2IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNoYWluX21vdmVfdXBfbm9kZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW92ZSBub2RlIHVwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjaGFpbl9tb3ZlX2Rvd25fbm9kZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW92ZSBub2RlIGRvd25cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9vcGVuX25leHRfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI1M1x1NUYwMFx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBuZXh0IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9yZXZlYWxfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NUI5QVx1NEY0RFx1NUY1M1x1NTI0RFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUmV2ZWFsIGN1cnJlbnQgZmlsZSBpbiBuYXZpZ2F0aW9uXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9hbmRfcmV2ZWFsX25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYyNTNcdTVGMDBcdTVFNzZcdTVCOUFcdTRGNERcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gYW5kIHJldmVhbCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjbWRfb3Blbl9wcmV2X25vdGVfb2ZfcmlnaHRfbGVhZigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTNGM1x1NEZBN1x1OTg3NVx1OTc2Mlx1NjI1M1x1NUYwMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiT3BlbiBwcmV2IG5vdGUgb2YgcmlnaHQgbGVhZlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUzRjNcdTRGQTdcdTk4NzVcdTk3NjJcdTYyNTNcdTVGMDBcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk9wZW4gbmV4dCBub3RlIG9mIHJpZ2h0IGxlYWZcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNtZF9leGVjdXRlX3RlbXBsYXRlX21vZGFsKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjY3XHU4ODRDXHU4MTFBXHU2NzJDXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJFeGVjdXRlIFRlbXBsYXRlciBtb2RhbFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQyRlx1NzUyOC9cdTUxNzNcdTk1RUQgY3NzIFx1NEVFM1x1NzgwMVx1NTc1NydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiVG9vZ2xlIGNzcyBibG9jayBpbiBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcblxyXG5cclxuICAgIGdldCBmaWxlbWVudV9jcmVhdGVfbmV4dF9ub3RlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MjFCXHU1RUZBXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJDcmVhdGUgbmV4dCBub3RlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWxlbWVudV9tb3ZlX2FzX25leHRfbm90ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NzlGQlx1NTJBOFx1NEUzQVx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW92ZSBhcyBuZXh0IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZpbGVtZW51X21vdmVfYXNfbmV4dF9ub3Rlcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NzlGQlx1NTJBOFx1NEUzQVx1NTQwRVx1N0Y2RVx1N0IxNFx1OEJCMFx1RkYwOFx1OTAwOVx1NEUyRFx1N0IxNFx1OEJCMFx1RkYwOSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW92ZSBhcyBuZXh0IG5vdGVzKHNlbGVjdGVkKVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2xlYXJfaW5saW5rcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NkUwNVx1NzQwNlx1N0IxNFx1OEJCMFx1NTE2NVx1OTRGRSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdDbGVhciBpbmxpbmtzIG9mIGN1cnJlbnQgZmlsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBtb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTc5RkJcdTUyQThcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1vdmUgY3VycmVudCBmaWxlIHRvIGFub3RoZXIgZm9sZGVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCByZXBsYWNlX25vdGVzX3dpdGhfcmVneCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NkI2M1x1NTIxOVx1ODg2OFx1OEZCRVx1NUYwRlx1NjZGRlx1NjM2Mlx1N0IxNFx1OEJCMFx1NTE4NVx1NUJCOSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUmVwbGFjZSBieSByZWdleFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hhaW5faW5zZXJ0X25vZGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTYzRDJcdTUxNjVcdTgyODJcdTcwQjknXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkluc2VydCBub2RlIG9mIGNoYWluXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjaGFpbl9zZXRfc2VxX25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTkxQ0RcdTU4NTFcdTVGNTNcdTUyNERcdTY1ODdcdTRFRjZcdTU5MzlcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjEnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlYnVpbGQgdGhlIGNoYWluIG9mIGN1cnJlbnQgZm9sZGVyXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjcmVhdGVfbmV3X25vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUyMUJcdTVFRkFcdTY1QjBcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkNyZWF0ZSBuZXcgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19pc1NvcnRGaWxlRXhwbG9yZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY4MzlcdTYzNkVcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjFcdTYzOTJcdTVFOEZcdTc2RUVcdTVGNTUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlNvcnQgYnkgY2hhaW4gaW4gZmlsZSBleHBsb3Jlcj9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfaXNGb2xkZXJGaXJzdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjM5Mlx1NUU4Rlx1NjVGNlx1NzZFRVx1NUY1NVx1NjVGNlx1NjU4N1x1NEVGNlx1NTkzOVx1NEYxOFx1NTE0OFx1RkYxRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiU29ydCBmb2xkZXIgZmlyc3QgaW4gZmlsZSBleHBsb3Jlcj9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfUHJldkNoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwXHU2NTcwXHU5MUNGXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOdW1iZXIgb2YgcHJldiBub3RlcyB0byBzaG93P1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19OZXh0Q2hhaW4oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjBcdTY1NzBcdTkxQ0ZcdUZGMUYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk51bWJlciBvZiBuZXh0IG5vdGVzIHRvIHNob3c/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX3N1Z2dlc3Rlck5vdGVzTW9kZSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5jaGFpbl9pbnNlcnRfbm9kZX1cdUZGMUFcdTlFRDhcdThCQTRcdTZBMjFcdTVGMEZgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmNoYWluX2luc2VydF9ub2RlfTpEZWZhdWx0IG1vZGVgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBzZXR0aW5nX2F1dG9fbm90ZWNoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2XHU2NUY2XHVGRjBDXHU4MUVBXHU1MkE4XHU5MUNEXHU1ODUxXHU2NTg3XHU0RUY2XHU1OTM5XHU3QjE0XHU4QkIwXHU5NEZFXHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJBdXRvIGJ1aWxkIG5vdGVjaGFpbiBvZiBmb2xkZXIgd2hpbGUgb3BlbiBuZXcgZmlsZT9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfcmVmcmVzaERhdGFWaWV3KCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2XHU2NUY2XHVGRjBDXHU1MjM3XHU2NUIwRGF0YXZpZXdcdTg5QzZcdTU2RkVcdUZGMUYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlZnJlc2ggZGF0YXZpZXcgd2hpbGUgb3BlbiBuZXcgZmlsZT9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfcmVmcmVzaFRhc2tzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU2MjUzXHU1RjAwXHU2NTg3XHU0RUY2XHU2NUY2XHVGRjBDXHU1MjM3XHU2NUIwVGFza3NcdTg5QzZcdTU2RkVcdUZGMUYnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlZnJlc2ggdGFza3Mgd2hpbGUgb3BlbiBuZXcgZmlsZT9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfd29yZGNvdXQoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTdFREZcdThCQTFcdTZCQ0ZcdTY1RTVcdTVCNTdcdTY1NzAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlJlZ2lzdGVyIGRhaWx5IHdvcmQgY291bnQ/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQgc2V0dGluZ19hdmF0YSgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTkzNFx1NTBDRidcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQXZhdGFcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBnZXQgc2V0dGluZ193b3JkY291dF94Zm9sZGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU4REYzXHU4RkM3XHU0RUU1XHU0RTBCXHU3NkVFXHU1RjU1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJZ25vcmUgdGhlc2UgZm9sZGVyc1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2V0dGluZ19ub3RpY2Vfd2hpbGVfbW9kaWZ5X2NoYWluKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU0RkVFXHU2NTM5XHU3QjE0XHU4QkIwXHU5NEZFXHU2NUY2XHU2NjNFXHU3OTNBXHU5MDFBXHU3N0U1XHVGRjFGJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOb3RpY2Ugd2hpbGUgbW9kaWZ5IG5vdGUgY2hhaW4/XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXQgc2V0dGluZ19maWVsZF9vZl9kaXNwbGF5X3RleHQoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY1ODdcdTRFRjZcdTUyMTdcdTg4NjhcdTY2M0VcdTc5M0FcdTY1ODdcdTRFRjZcdTU0MEQnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkRpc3BsYXkgdGV4dCBmb3Igbm90ZXMgaW4gZmlsZS1leHBsb3Jlcj9cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNldHRpbmdfZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjU4N1x1NEVGNlx1NTIxN1x1ODg2OFx1NTE0M1x1N0QyMFx1OThDRVx1NjgzQydcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRmlsZS1pdGVtIHN0eWxlIGZvciBub3RlcyBpbiBmaWxlLWV4cGxvcmVyP1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X3N1Z2dlc3Rlcigpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjNEMlx1NTE2NVx1NkEyMVx1NUYwRlx1RkYwOFx1NzZGOFx1NUJGOVx1NEU4RVx1OTUxQVx1NzBCOVx1RkYwOSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiSW5zZXJ0IG1vZGUocmVsYXRlIHRvIGFuY2hvcikuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2luc2VydF9ub2RlX2FmdGVyKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1NDBFXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOZXh0IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X25vZGVfYmVmb3JlKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MjREXHU3RjZFXHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJQcmV2IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5zZXJ0X25vZGVfYXNfaGVhZCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OTRGRVx1NTkzNCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiSGVhZCBvZiBjaGFpblwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pbnNlcnRfbm9kZV9hc190YWlsKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU5NEZFXHU1QzNFJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJUYWlsIG9mIHRoYWluXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2luc2VydF9mb2xkZXJfYWZ0ZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTY1ODdcdTRFRjZcdTU5MzlcdTU0MEVcdTdGNkUnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkZvbGRlciBhcyBuZXh0XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2dldF9icm90aGVycygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NTQwQ1x1N0VBN1x1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTm90ZXMgaW4gc2FtZSBmb2xkZXJcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fc2FtZV9mb2xkZXIoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTU0MENcdTdFQTdcdTdCMTRcdThCQjArXHU1QjUwXHU3NkVFXHU1RjU1J1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOb3RlcyBpbiBzYW1lIGZvbGRlcihyZWN1cnNpdmUpXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX2lubGlua3Nfb3V0bGlua3MoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTUxRkFcdTk0RkUrXHU1MTY1XHU5NEZFJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJvdXRMaW5rcyArIGluTGlua3NcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1faW5saW5zKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MTY1XHU5NEZFJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJpbmxpbmtzXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX291dGxpbmtzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU1MUZBXHU5NEZFJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJvdXRsaW5rc1wiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9hbGxfbm9lcygpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjI0MFx1NjcwOVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQWxsIG5vdGVzXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX3JlY2VudCgpe1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OEZEMVx1NjcxRlx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUmVjZW50XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtX3VuY2xlX25vdGVzKCl7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU0RTBBXHU3RUE3XHU3QjE0XHU4QkIwJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJOb3RlcyBpbiBncmFuZHBhIGZvbGRlclwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9ub3RlY2hhaW4oKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTdCMTRcdThCQjBcdTk0RkVcdTY3NjEnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk5vdGUgY2hhaW5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fY3VycmVudG5vdGUoKXtcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTVGNTNcdTUyNERcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkN1cnJlbnQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hZnRlcigpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTZERkJcdTUyQTBcdTU0MEVcdTdGNkVcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkNyZWF0ZSBuZXh0IG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fY2hhaW5faW5zZXJ0X25vZGVfYXNfdGFpbCgpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLmxhbmd1YWdlPT0nemgnKXtcclxuICAgICAgICAgICAgcmV0dXJuICdcdTk0RkVcdTVDM0VcdTZERkJcdTUyQTBcdTdCMTRcdThCQjAnXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkNyZWF0ZSB0YWlsIG5vdGVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1fY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NkRGQlx1NTJBMFx1NTI0RFx1N0Y2RVx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIHByZXYgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9jaGFpbl9pbnNlcnRfbm9kZV9hc19oZWFkKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1OTRGRVx1NTkzNFx1NkRGQlx1NTJBMFx1N0IxNFx1OEJCMCdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIGhlYWQgbm90ZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbV9pdGVtX2NoYWluX2luc2VydF9udWxsKCk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMubGFuZ3VhZ2U9PSd6aCcpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ1x1NjVFMFx1OTRGRVx1NjNBNSdcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQ3JlYXRlIG5vdGUgbm90IGluIGNoYWluXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBwcm9tcHRfbm90ZW5hbWUoKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy5sYW5ndWFnZT09J3poJyl7XHJcbiAgICAgICAgICAgIHJldHVybiAnXHU4RjkzXHU1MTY1XHU3QjE0XHU4QkIwXHU1NDBEJ1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gXCJJbnB1dCBub3RlIG5hbWVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGxldCBzdHJpbmdzID0gbmV3IFN0cmluZ3MoKTsiLCAiaW1wb3J0IHsgdGltZSB9IGZyb20gJ2NvbnNvbGUnO1xyXG5pbXBvcnQgeyBcclxuICAgIEFwcCwgRWRpdG9yLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFxyXG4gICAgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFxyXG4gICAgVEZpbGUsIFRGb2xkZXIsIG1vbWVudCwgRWRpdG9yUG9zaXRpb24sIEVkaXRvclNlbGVjdGlvblxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IE5vdGVDaGFpblBsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xyXG5pbXBvcnQgKiBhcyBpbnRlcm5hbCBmcm9tICdzdHJlYW0nO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBXb3JkQ291bnR7XHJcblx0YXBwOkFwcDtcclxuICAgIHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0bnJldHJ5Om51bWJlcjtcclxuICAgIHRpbWVySWQ6Tm9kZUpTLlRpbWVvdXQ7XHJcbiAgICBjdXJyX2FjdGl2ZV9maWxlOlRGaWxlO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luLGFwcDpBcHApe1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBhcHA7XHJcblx0XHR0aGlzLm5yZXRyeT0xMDA7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlcigpO1xyXG5cdH1cclxuXHJcbiAgICBmaWx0ZXIodGZpbGU6VEZpbGUpe1xyXG4gICAgICAgIGlmKCF0ZmlsZSl7cmV0dXJuIGZhbHNlO31cclxuICAgICAgICBpZigodGZpbGUgYXMgYW55KS5kZWxldGVkKXtyZXR1cm4gZmFsc2U7fVxyXG4gICAgICAgIGlmKHRmaWxlLmV4dGVuc2lvbiE9J21kJyl7cmV0dXJuIGZhbHNlO31cclxuICAgICAgICBsZXQgeGZvbGRlcnMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy53b3JkY291bnR4Zm9sZGVyLnNwbGl0KCdcXG4nKS5maWx0ZXIoeD0+eCE9JycpO1xyXG4gICAgICAgIGZvcihsZXQgaXRlbSBvZiB4Zm9sZGVycyl7XHJcbiAgICAgICAgICAgIGlmKHRmaWxlLnBhdGguc3RhcnRzV2l0aChpdGVtKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGl0ZW09PScvJyl7XHJcbiAgICAgICAgICAgICAgICBpZih0ZmlsZS5wYXJlbnQ/LnBhdGg9PScvJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFx1N0VERlx1OEJBMVx1NUI1N1x1NjU3MFxyXG4gICAgY291bnRfd29yZHMoY3R4OnN0cmluZyxpZ25vcmU9L1tcXHMhXCIjJCUmJygpKissLi86Ozw9Pj9AW1xcXV5fYHt8fVx1RkYwQ1x1MzAwMlx1RkYwMVx1RkYxRlx1MzAxMFx1MzAxMVx1MzAwMVx1RkYxQlx1RkYxQVx1MjAxQ1x1MjAxRFx1MjAxOFx1MjAxOVx1MzAwQVx1MzAwQlx1RkYwOFx1RkYwOVx1RkYzQlx1RkYzRFx1MjAxNFx1MjAyNlx1RkZFNV0vZyl7XHJcbiAgICAgICAgbGV0IE4gPSBjdHgucmVwbGFjZShpZ25vcmUsICcnKS5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGVucmVnZXggPSAvW2EtekEtWjAtOS1dKy9nO1xyXG4gICAgICAgIGxldCBtYXRjaGVzID0gY3R4Lm1hdGNoKGVucmVnZXgpO1xyXG4gICAgICAgIGlmKG1hdGNoZXMpe1xyXG4gICAgICAgICAgICBsZXQgZWxlbj0wO1xyXG4gICAgICAgICAgICBtYXRjaGVzLmZvckVhY2goeD0+ZWxlbj1lbGVuK3gubGVuZ3RoKTtcclxuICAgICAgICAgICAgTiA9IE4tZWxlbittYXRjaGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE47XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2V0X210aW1lX3ZhbHVlKHRmaWxlOlRGaWxlLGtleTpzdHJpbmcsdmFsOm51bWJlcil7XHJcblxyXG4gICAgICAgIGxldCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICAgICAgICBsZXQgZWRpdG9yU3RhdGU6IHtcclxuICAgICAgICAgICAgY3Vyc29yPzogRWRpdG9yUG9zaXRpb24sXHJcbiAgICAgICAgICAgIHNlbGVjdGlvbj86IHN0cmluZyxcclxuICAgICAgICAgICAgc2FuY2hvcj86RWRpdG9yUG9zaXRpb24sXHJcbiAgICAgICAgICAgIHNoZWFkPzpFZGl0b3JQb3NpdGlvbixcclxuICAgICAgICAgICAgc2Nyb2xsSW5mbz86IHsgbGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciB9XHJcbiAgICAgICAgfSA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXcgJiYgYWN0aXZlVmlldy5maWxlID09PSB0ZmlsZSkge1xyXG4gICAgICAgICAgICBsZXQgZWRpdG9yID0gYWN0aXZlVmlldy5lZGl0b3I7XHJcbiAgICAgICAgICAgIGlmIChlZGl0b3IpIHtcclxuICAgICAgICAgICAgICAgIGVkaXRvclN0YXRlLmN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvclN0YXRlLnNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvclN0YXRlLnNhbmNob3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCdhbmNob3InKTtcclxuICAgICAgICAgICAgICAgIGVkaXRvclN0YXRlLnNoZWFkID0gZWRpdG9yLmdldEN1cnNvcignaGVhZCcpO1xyXG4gICAgICAgICAgICAgICAgZWRpdG9yU3RhdGUuc2Nyb2xsSW5mbyA9IGVkaXRvci5nZXRTY3JvbGxJbmZvKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFsaW5lID0gZWRpdG9yU3RhdGU/LmN1cnNvcj8ubGluZSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gYWN0aXZlVmlldz8uZWRpdG9yPy5nZXRMaW5lKGVkaXRvclN0YXRlLmN1cnNvci5saW5lKVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZihhbGluZSAmJiBhbGluZS5zdGFydHNXaXRoKCd8JykgJiYgYWxpbmUuZW5kc1dpdGgoJ3wnKSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKFxyXG4gICAgICAgICAgICB0ZmlsZSxcclxuICAgICAgICAgICAgKGZtKSA9PntcclxuICAgICAgICAgICAgICAgIGxldCB0ID0gbW9tZW50LnVuaXgodGZpbGUuc3RhdC5tdGltZS8xMDAwKTtcclxuICAgICAgICAgICAgICAgIGxldCBtdGltZSA9IHQuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcbiAgICAgICAgICAgICAgICBpZihmbVtrZXldPT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWw+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZtW2tleV0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYobXRpbWU9PSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSAmJiBtdGltZSE9bW9tZW50LnVuaXgodGZpbGUuc3RhdC5jdGltZS8xMDAwKS5mb3JtYXQoJ1lZWVktTU0tREQnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbVtrZXldW3QuYWRkKC0xLCdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJyldID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtW2tleV1bbXRpbWVdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRzID0gT2JqZWN0LmtleXMoZm1ba2V5XSkuc29ydCgoYixhKT0+YS5sb2NhbGVDb21wYXJlKGIpKS5maWx0ZXIoeD0+ISh4PT1tdGltZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRzLmxlbmd0aD09MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtW2tleV1bbXRpbWVdID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihmbVtrZXldW210aW1lXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbVtrZXldW210aW1lXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigodmFsLWZtW2tleV1bdHNbMF1dKSE9MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbVtrZXldW210aW1lXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoZm1ba2V5XVttdGltZV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZtW2tleV1bbXRpbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC8vIFJlc3RvcmUgZWRpdG9yIHN0YXRlIGlmIGl0IHdhcyBzYXZlZFxyXG4gICAgICAgIGlmIChhY3RpdmVWaWV3ICYmIGFjdGl2ZVZpZXcuZmlsZSA9PT0gdGZpbGUpIHtcclxuICAgICAgICAgICAgbGV0IGVkaXRvciA9IGFjdGl2ZVZpZXcuZWRpdG9yO1xyXG4gICAgICAgICAgICBpZiAoZWRpdG9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yU3RhdGUuc2Nyb2xsSW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5zY3JvbGxUbyhlZGl0b3JTdGF0ZS5zY3JvbGxJbmZvLmxlZnQsIGVkaXRvclN0YXRlLnNjcm9sbEluZm8udG9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JTdGF0ZS5zZWxlY3Rpb24gJiYgZWRpdG9yU3RhdGUuc2FuY2hvciAmJiBlZGl0b3JTdGF0ZS5zaGVhZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRTZWxlY3Rpb24oZWRpdG9yU3RhdGUuc2FuY2hvcixlZGl0b3JTdGF0ZS5zaGVhZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgRXJyb3Igc2V0dGluZyBzZWxlY3Rpb246JHtlcnJvcn1gLDMwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmIChlZGl0b3JTdGF0ZS5jdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0Q3Vyc29yKGVkaXRvclN0YXRlLmN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X25ld193b3Jkcyh0ZmlsZTpURmlsZSxkYXk9bW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpe1xyXG4gICAgICAgIGxldCBtZXRhID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpO1xyXG4gICAgICAgIGxldCB2YWx1ZXMgPSBtZXRhPy5mcm9udG1hdHRlcj8ud29yZHM7XHJcbiAgICAgICAgaWYodmFsdWVzKXtcclxuICAgICAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZXMpLnNvcnQoKGEsYik9PmEubG9jYWxlQ29tcGFyZShiKSk7XHJcbiAgICAgICAgICAgIGxldCBpZHggPSBrZXlzLmluZGV4T2YoZGF5KTtcclxuICAgICAgICAgICAgaWYoaWR4PDApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGlkeD09MCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzW2RheV07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tkYXldLXZhbHVlc1trZXlzW2lkeC0xXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZV93b3JkX2NvdW50KHRmaWxlOlRGaWxlKXtcclxuICAgICAgICBpZighdGhpcy5maWx0ZXIodGZpbGUpKXtyZXR1cm47fVxyXG4gICAgICAgIGxldCBjdHggPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5jYWNoZWRSZWFkKHRmaWxlKTtcclxuICAgICAgICBsZXQgbWNhY2hlID0gdGhpcy5hcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUodGZpbGUpXHJcbiAgICAgICAgaWYobWNhY2hlPy5mcm9udG1hdHRlclBvc2l0aW9uKXtcclxuICAgICAgICAgICAgY3R4ID0gY3R4LnNsaWNlKG1jYWNoZS5mcm9udG1hdHRlclBvc2l0aW9uLmVuZC5vZmZzZXQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBOID0gdGhpcy5jb3VudF93b3JkcyhjdHgpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2V0X210aW1lX3ZhbHVlKHRmaWxlLCd3b3JkcycsTik7XHJcbiAgICB9XHJcblxyXG5cdGNoZWNrX2Zyb250bWF0dGVyKHRmaWxlOlRGaWxlLGt2Ontba2V5OnN0cmluZ106YW55fSk6Ym9vbGVhbntcclxuXHRcdHRyeSB7XHJcblx0XHRcdGlmKCF0ZmlsZSl7cmV0dXJuIGZhbHNlO31cclxuXHRcdFx0bGV0IG1ldGEgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZSh0ZmlsZSk7XHJcblx0XHRcdGlmKG1ldGE/LmZyb250bWF0dGVyKXtcclxuXHRcdFx0XHRmb3IobGV0IGsgaW4ga3Ype1xyXG5cdFx0XHRcdFx0aWYoIShtZXRhLmZyb250bWF0dGVyW2tdPT1rdltrXSkpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHdhaXRfZnJvbnRtYXR0ZXIodGZpbGU6VEZpbGUsa3Y6e1trZXk6c3RyaW5nXTphbnl9LG5yZXRyeT10aGlzLm5yZXRyeSk6UHJvbWlzZTxib29sZWFuPntcclxuXHRcdGxldCBmbGFnID0gdGhpcy5jaGVja19mcm9udG1hdHRlcih0ZmlsZSxrdik7XHJcblx0XHRcclxuXHRcdHdoaWxlKCFmbGFnICYmIG5yZXRyeT4wKXtcclxuXHRcdFx0YXdhaXQgc2xlZXAoNTApO1xyXG5cdFx0XHRucmV0cnkgPSBucmV0cnktMTtcclxuXHRcdFx0ZmxhZyA9IHRoaXMuY2hlY2tfZnJvbnRtYXR0ZXIodGZpbGUsa3YpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZsYWc7XHJcblx0fVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZV93b3JkX2NvdW50X29mX3ZhdWx0KCl7XHJcbiAgICAgICAgbGV0IHRmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKS5maWx0ZXIoKHg6VEZpbGUpPT50aGlzLmZpbHRlcih4KSk7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShgJHtpfS8ke3RmaWxlcy5sZW5ndGh9OiR7dGZpbGUubmFtZX1gLDMwMDApO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZV93b3JkX2NvdW50KHRmaWxlKTtcclxuICAgICAgICAgICAgaSA9IGkrMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXIoKXtcclxuXHRcdGlmKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRjb3V0KXtcclxuXHRcdFx0dGhpcy5yZWdlaXN0ZXJfZWRpdG9yX2NoYW5nZSgpO1xyXG5cdFx0XHR0aGlzLnJlZ2Vpc3Rlcl9hY3RpdmVfbGVhZl9jaGFuZ2UoKTtcclxuXHRcdH1cclxuICAgIH1cclxuXHJcbiAgICByZWdlaXN0ZXJfZWRpdG9yX2NoYW5nZSgpe1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZWRpdG9yLWNoYW5nZScsYXN5bmMgKGVkaXRvcixpbmZvKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoaW5mby5maWxlPy5leHRlbnNpb24hPSdtZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudGltZXJJZCE9PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoaW5mby5maWxlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVySWQgPSBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlX3dvcmRfY291bnQoKGluZm8gYXMgYW55KS5maWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcmVnZWlzdGVyX2FjdGl2ZV9sZWFmX2NoYW5nZSgpe1xyXG4gICAgICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQoXHJcbiAgICAgICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbignYWN0aXZlLWxlYWYtY2hhbmdlJyxhc3luYyAobGVhZik9PntcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdGZpbGUgPSAobGVhZj8udmlldyBhcyBhbnkpLmZpbGU7XHJcbiAgICAgICAgICAgICAgICBpZighbGVhZj8udmlldyl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoISgobGVhZi52aWV3IGFzIGFueSk/LmZpbGU/LmV4dGVuc2lvbj09J21kJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlX3dvcmRfY291bnQodGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jdXJyX2FjdGl2ZV9maWxlPT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJfYWN0aXZlX2ZpbGUgPSB0ZmlsZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmN1cnJfYWN0aXZlX2ZpbGUgIT0gdGZpbGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlX3dvcmRfY291bnQodGhpcy5jdXJyX2FjdGl2ZV9maWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJfYWN0aXZlX2ZpbGUgPSB0ZmlsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X3dvcmRzX29mX3RmaWxlcygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfYWxsX3RmaWxlcygpLm1hcChcclxuICAgICAgICAgICAgeD0+dGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcih4LCd3b3JkcycpXHJcbiAgICAgICAgKS5maWx0ZXIoeD0+eCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VtX3dvcmRzX29mX3RpZmxlcyhmaWxlczpBcnJheTxhbnk+LCBiZWd0Om51bWJlcnxzdHJpbmcsIGVuZHQ6bnVtYmVyfHN0cmluZykge1xyXG4gICAgICAgIGlmKHR5cGVvZihiZWd0KT09J251bWJlcicpe1xyXG4gICAgICAgICAgICBiZWd0ID0gbW9tZW50KCkuYWRkKC1iZWd0LCdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodHlwZW9mKGVuZHQpPT0nbnVtYmVyJyl7XHJcbiAgICAgICAgICAgIGVuZHQgPSBtb21lbnQoKS5hZGQoLWVuZHQsJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgc3RhcnREYXRlID0gbmV3IERhdGUoYmVndCk7XHJcbiAgICAgICAgbGV0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmR0KTtcclxuICAgICAgICBsZXQgZGFpbHlXb3JkQ291bnRzOntba2V5OnN0cmluZ106YW55fSA9IHt9O1xyXG4gICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBkYWlseVdvcmRDb3VudHMgd2l0aCBhbGwgZGF0ZXMgaW4gdGhlIHJhbmdlXHJcbiAgICAgICAgZm9yIChsZXQgZGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7IGRhdGUgPD0gZW5kRGF0ZTsgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMSkpIHtcclxuICAgICAgICAgICAgbGV0IGRhdGVTdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTtcclxuICAgICAgICAgICAgZGFpbHlXb3JkQ291bnRzW2RhdGVTdHJdID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3VtIHVwIHRoZSB3b3JkIGNvdW50cyBmb3IgZWFjaCBkYXRlXHJcbiAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZTphbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGxhc3RXb3JkQ291bnQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgZWFybGllc3REYXRlID0gbmV3IERhdGUoT2JqZWN0LmtleXMoZmlsZSkuc29ydCgpWzBdKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGxhc3RXb3JkQ291bnQgd2l0aCB0aGUgZWFybGllc3QgZGF0ZSdzIHdvcmQgY291bnQgaW4gdGhlIGZpbGVcclxuICAgICAgICAgICAgaWYgKGVhcmxpZXN0RGF0ZSA8IHN0YXJ0RGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGFzdFdvcmRDb3VudCA9IGZpbGVbZWFybGllc3REYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGUgPSBuZXcgRGF0ZShzdGFydERhdGUpOyBkYXRlIDw9IGVuZERhdGU7IGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIDEpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZVN0ciA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUuaGFzT3duUHJvcGVydHkoZGF0ZVN0cikpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0V29yZENvdW50ID0gZmlsZVtkYXRlU3RyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRhaWx5V29yZENvdW50c1tkYXRlU3RyXSArPSBsYXN0V29yZENvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGRhaWx5V29yZENvdW50cztcclxuICAgIH1cclxuXHJcbiAgICBkaWZmX3dvcmRzX29mX3RpZmxlcyhkYWlseVdvcmRDb3VudHM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0sIGZpcnN0X2FzX3plcm86IGJvb2xlYW4gPSB0cnVlKTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB7XHJcbiAgICAgICAgbGV0IGRhaWx5TmV3V29yZENvdW50czogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xyXG4gICAgICAgIGxldCBwcmV2aW91c1RvdGFsID0gMDtcclxuICAgICAgICBsZXQgZmlyc3QgPSAnJztcclxuICAgIFxyXG4gICAgICAgIGZvciAobGV0IGRhdGUgaW4gZGFpbHlXb3JkQ291bnRzKSB7XHJcbiAgICAgICAgICAgIGlmIChmaXJzdCA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGZpcnN0ID0gZGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgY3VycmVudFRvdGFsID0gZGFpbHlXb3JkQ291bnRzW2RhdGVdO1xyXG4gICAgICAgICAgICBkYWlseU5ld1dvcmRDb3VudHNbZGF0ZV0gPSBjdXJyZW50VG90YWwgLSBwcmV2aW91c1RvdGFsO1xyXG4gICAgICAgICAgICBwcmV2aW91c1RvdGFsID0gY3VycmVudFRvdGFsO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIGlmIChmaXJzdF9hc196ZXJvICYmIGZpcnN0ICE9PSAnJykge1xyXG4gICAgICAgICAgICBkYWlseU5ld1dvcmRDb3VudHNbZmlyc3RdID0gMDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICByZXR1cm4gZGFpbHlOZXdXb3JkQ291bnRzO1xyXG4gICAgfVxyXG59IiwgIlxyXG5pbXBvcnQgeyBcclxuXHRBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBcclxuXHRQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsbW9tZW50LFxyXG5cdFRBYnN0cmFjdEZpbGUsXHJcblx0VEZpbGUsVEZvbGRlclxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcclxuaW1wb3J0IHtOQ0VkaXRvcn0gZnJvbSAnLi9OQ0VkaXRvcic7XHJcbmltcG9ydCB7Z2V0X3RwX2Z1bmN9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7IHN0cmluZ3MgfSBmcm9tICcuL3N0cmluZ3MnO1xyXG5pbXBvcnQgeyBvZmYgfSBmcm9tICdwcm9jZXNzJztcclxuaW1wb3J0IHsgbGluayB9IGZyb20gJ2ZzJztcclxuXHJcblxyXG5cclxuY2xhc3MgTm90ZU5vZGUge1xyXG5cdHRmaWxlIDogVEZpbGU7XHJcblx0bm90ZTJpZCA6IHtba2V5OnN0cmluZ106YW55fTtcclxuXHRpZCA6IG51bWJlcjtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cclxuXHRjb25zdHJ1Y3Rvcih0ZmlsZTpURmlsZSxwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHR0aGlzLnRmaWxlID0gdGZpbGU7XHJcblx0XHR0aGlzLm5vdGUyaWQgPSB7fTtcclxuXHRcdHRoaXMuaWQgPSAwO1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0fVxyXG5cclxuXHQvLyBcdThGRDRcdTU2REUgSURYWFhYXHJcblx0Z2V0X2lkKHRmaWxlOlRGaWxlKSB7XHJcblx0XHRpZiAodGZpbGUuYmFzZW5hbWUgaW4gdGhpcy5ub3RlMmlkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLm5vdGUyaWRbdGZpbGUuYmFzZW5hbWVdO1xyXG5cdFx0fVxyXG5cdFx0bGV0IG5ld0lkID0gYElEJHt0aGlzLmlkLnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgJzAnKX1gO1xyXG5cdFx0dGhpcy5ub3RlMmlkW3RmaWxlLmJhc2VuYW1lXSA9IG5ld0lkO1xyXG5cdFx0dGhpcy5pZCA9IHRoaXMuaWQrMTtcclxuXHRcdHJldHVybiBuZXdJZDtcclxuXHJcblx0fVxyXG5cclxuXHQvLyBcdThGRDRcdTU2REVJRFhYWFhbXCJ0ZmlsZS5iYXNlbmFtZVwiXVxyXG5cdGdldF9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBpZCA9IHRoaXMuZ2V0X2lkKHRmaWxlKTtcclxuXHRcdHJldHVybiBgJHtpZH0oXCIke3RmaWxlLmJhc2VuYW1lfVwiKWBcclxuXHR9XHJcblxyXG5cdGdldF9tZWhybWFpZF9ub2RlKG5vZGU6c3RyaW5nLGF2YXRhPScnKXtcclxuXHRcdGlmIChub2RlIGluIHRoaXMubm90ZTJpZCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5ub3RlMmlkW25vZGVdO1xyXG5cdFx0fVxyXG5cdFx0aWYobm9kZS5zdGFydHNXaXRoKCdzdWJncmFwaCAnKSl7XHJcblx0XHRcdHJldHVybiBub2RlLnNsaWNlKCdzdWJncmFwaCAnLmxlbmd0aClcclxuXHRcdH1cclxuXHRcdGxldCBuZXdJZCA9IGBJRCR7dGhpcy5pZC50b1N0cmluZygpLnBhZFN0YXJ0KDQsICcwJyl9YDtcclxuXHRcdHRoaXMubm90ZTJpZFtub2RlXSA9IG5ld0lkO1xyXG5cdFx0dGhpcy5pZCA9IHRoaXMuaWQrMTtcclxuXHRcdGxldCB0ZmlsZSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF90ZmlsZShub2RlKTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0aWYoYXZhdGEgPT0nJyl7XHJcblx0XHRcdFx0YXZhdGEgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmF0YVxyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBtZXRhID0gdGhpcy5wbHVnaW4uZWRpdG9yLmdldF9mcm9udG1hdHRlcih0ZmlsZSxhdmF0YSk7XHJcblx0XHRcdGlmKG1ldGEpe1xyXG5cdFx0XHRcdGlmKG1ldGEuc3RhcnRzV2l0aCgnIycpKXtcclxuXHRcdFx0XHRcdG5vZGUgPSBgIVtbJHt0ZmlsZS5iYXNlbmFtZX0ke21ldGF9fG5vLWhlYWRdXWBcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG5vZGUgPSBtZXRhLnJlcGxhY2UoJ1NFTEYnLGBbWyR7dGZpbGUuYmFzZW5hbWV9XV1gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBgJHtuZXdJZH0oXCIke25vZGV9XCIpYDtcclxuXHR9XHJcblxyXG5cdGdldF9jYW52YXNfbm9kZShub2RlOnN0cmluZyl7XHJcblx0XHRpZiAobm9kZSBpbiB0aGlzLm5vdGUyaWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMubm90ZTJpZFtub2RlXTtcclxuXHRcdH1cclxuXHRcdGxldCBuZXdJZCA9IGBJRCR7dGhpcy5pZC50b1N0cmluZygpLnBhZFN0YXJ0KDQsICcwJyl9YDtcclxuXHRcdHRoaXMubm90ZTJpZFtub2RlXSA9IG5ld0lkO1xyXG5cdFx0dGhpcy5pZCA9IHRoaXMuaWQrMTtcclxuXHRcdHJldHVybiBuZXdJZDtcclxuXHJcblx0fVxyXG5cclxuXHRub3RlczJjbGFzcygpe1xyXG5cdFx0bGV0IG1zZyA9ICdcXG4nO1xyXG5cdFx0Zm9yKGxldCB0ZmlsZSBpbiB0aGlzLm5vdGUyaWQpe1xyXG5cdFx0XHRtc2cgPSBtc2crYFxcdGNsYXNzICR7dGhpcy5ub3RlMmlkW3RmaWxlXX0gaW50ZXJuYWwtbGluaztcXG5gO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZ1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1lcm1haWRHcmFwaHtcclxuXHRwbHVnaW46Tm90ZUNoYWluUGx1Z2luO1xyXG5cdGFwcDpBcHA7XHJcblx0ZWRpdG9yOk5DRWRpdG9yO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHRcdHRoaXMuYXBwID0gcGx1Z2luLmFwcDtcclxuXHRcdHRoaXMuZWRpdG9yID0gcGx1Z2luLmVkaXRvcjtcclxuXHR9XHJcblxyXG5cdGdldF9ub3RlX25vZGUodGZpbGU6VEZpbGUpe1xyXG5cdFx0bGV0IG5vZGUgPSBuZXcgTm90ZU5vZGUodGZpbGUsdGhpcy5wbHVnaW4pO1xyXG5cdFx0cmV0dXJuIG5vZGU7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9jaGFpbihub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nPC0tPicpe1xyXG5cclxuXHRcdGxldCBtc2cgPSAnJztcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoeD0+eCk7XHJcblx0XHRsZXQgc3RhYiA9ICdcXHQnO1xyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnICsgYFxcblxcdHN1YmdyYXBoICR7c3ViZ3JhcGh9XFxuYDtcclxuXHRcdFx0c3RhYiA9ICdcXHRcXHQnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpID0gMDtcclxuXHRcdHdoaWxlKGk8aXRlbXMubGVuZ3RoLTEpe1xyXG5cdFx0XHRsZXQgcHJldiA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaV0pO1xyXG5cdFx0XHRsZXQgbmV4dCA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaSsxXSk7XHJcblx0XHRcdG1zZyA9IG1zZytgJHtzdGFifSR7cHJldn0ke2xpbmV9JHtuZXh0fVxcbmA7XHJcblx0XHRcdGkgPSBpKzE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnK1wiXFx0ZW5kXFxuXCI7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0c3ViZ3JhcGhfbGlua3Mobm9kZTpOb3RlTm9kZSx0ZmlsZXM6QXJyYXk8VEZpbGU+LHN1YmdyYXBoPScnLGxpbmU9Jy0tPicsdGZpbGVzX2ZpcnN0PWZhbHNlKXtcclxuXHRcdGxldCBtc2cgPSAnJztcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoeD0+eCk7XHJcblx0XHRsZXQgc3RhYiA9ICdcXHQnO1xyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnICsgYFxcblxcdHN1YmdyYXBoICR7c3ViZ3JhcGh9XFxuYDtcclxuXHRcdFx0c3RhYiA9ICdcXHRcXHQnO1xyXG5cclxuXHRcdH1cclxuXHRcdGxldCBpID0gMDtcclxuXHRcdGxldCBzaWQgPSBub2RlLmdldF9ub2RlKG5vZGUudGZpbGUpO1xyXG5cdFx0d2hpbGUoaTxpdGVtcy5sZW5ndGgpe1xyXG5cdFx0XHRsZXQgaWQgPSBub2RlLmdldF9ub2RlKGl0ZW1zW2ldKTtcclxuXHRcdFx0aWYodGZpbGVzX2ZpcnN0KXtcclxuXHRcdFx0XHRtc2cgPSBtc2crYCR7c3RhYn0ke2lkfSR7bGluZX0ke3NpZH1cXG5gO1xyXG5cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bXNnID0gbXNnK2Ake3N0YWJ9JHtzaWR9JHtsaW5lfSR7aWR9XFxuYDtcclxuXHRcdFx0fVxyXG5cdFx0XHRpID0gaSsxO1xyXG5cdFx0fVxyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnK1wiXFx0ZW5kXFxuXCI7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbXNnO1xyXG5cdH1cclxuXHJcblx0Ly8gW3NyYyxkc3QsaW9dXHJcblx0ZWRnZXNfb2ZfdGZpbGVzKHRmaWxlczpBcnJheTxURmlsZT4sbWVyZ2VfaW5vdXQ9dHJ1ZSl7XHJcblx0XHRsZXQgaW5saW5rczp7W2tleTpzdHJpbmddOkFycmF5PFRGaWxlPn0gPSB7fVxyXG5cdFx0bGV0IG91dGxpbmtzOntba2V5OnN0cmluZ106QXJyYXk8VEZpbGU+fSA9IHt9XHJcblx0XHRmb3IobGV0IHRmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdG91dGxpbmtzW3RmaWxlcy5pbmRleE9mKHRmaWxlKV0gPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSk7XHJcblx0XHRcdGlubGlua3NbdGZpbGVzLmluZGV4T2YodGZpbGUpXSA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlLHRydWUpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRsZXQgZWRnZXMgPSBbXTtcclxuXHRcdGZvcihsZXQgdGZpbGUgb2YgdGZpbGVzKXtcclxuXHRcdFx0bGV0IGkgPSB0ZmlsZXMuaW5kZXhPZih0ZmlsZSk7XHJcblx0XHRcdGZvcihsZXQgb3V0bGluayBvZiBvdXRsaW5rc1tpXSl7XHJcblx0XHRcdFx0aWYodGZpbGVzLmNvbnRhaW5zKG91dGxpbmspKXtcclxuXHRcdFx0XHRcdGlmKHRmaWxlcy5pbmRleE9mKG91dGxpbmspPD1pKXtjb250aW51ZTt9XHJcblx0XHRcdFx0XHRpZihtZXJnZV9pbm91dCl7XHJcblx0XHRcdFx0XHRcdGlmKGlubGlua3NbaV0uY29udGFpbnMob3V0bGluaykpe1xyXG5cdFx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW3RmaWxlLG91dGxpbmssdHJ1ZV0pO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRlZGdlcy5wdXNoKFt0ZmlsZSxvdXRsaW5rLGZhbHNlXSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRlZGdlcy5wdXNoKFt0ZmlsZSxvdXRsaW5rLGZhbHNlXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmb3IobGV0IGlubGluayBvZiBpbmxpbmtzW2ldKXtcclxuXHRcdFx0XHRpZih0ZmlsZXMuY29udGFpbnMoaW5saW5rKSl7XHJcblx0XHRcdFx0XHRpZih0ZmlsZXMuaW5kZXhPZihpbmxpbmspPD1pKXtjb250aW51ZTt9XHJcblx0XHRcdFx0XHRpZihtZXJnZV9pbm91dCl7XHJcblx0XHRcdFx0XHRcdGlmKCFvdXRsaW5rc1tpXS5jb250YWlucyhpbmxpbmspKXtcclxuXHRcdFx0XHRcdFx0XHRlZGdlcy5wdXNoKFtpbmxpbmssdGZpbGUsZmFsc2VdKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGVkZ2VzLnB1c2goW2lubGluayx0ZmlsZSxmYWxzZV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGVkZ2VzO1xyXG5cdH1cclxuXHJcblx0c3ViZ3JhcGhfY3Jvc3Mobm9kZTpOb3RlTm9kZSx0ZmlsZXM6QXJyYXk8VEZpbGU+LHN1YmdyYXBoPScnLGxpbmU9Jy0tPicsdGZpbGVzX2ZpcnN0PWZhbHNlKXtcclxuXHRcdGxldCBtc2cgPSAnJztcclxuXHRcdGxldCBpdGVtcyA9IHRmaWxlcy5tYXAoeD0+eCk7XHJcblx0XHRsZXQgc3RhYiA9ICdcXHQnO1xyXG5cdFx0aWYoc3ViZ3JhcGghPScnKXtcclxuXHRcdFx0bXNnID0gbXNnICsgYFxcblxcdHN1YmdyYXBoICR7c3ViZ3JhcGh9XFxuYDtcclxuXHRcdFx0c3RhYiA9ICdcXHRcXHQnO1xyXG5cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0bGV0IGVkZ2VzID0gdGhpcy5lZGdlc19vZl90ZmlsZXModGZpbGVzKTtcclxuXHRcdGZvcihsZXQgZWRnZSBvZiBlZGdlcyl7XHJcblx0XHRcdGxldCBzaWQgPSBub2RlLmdldF9ub2RlKGVkZ2VbMF0gYXMgYW55KTtcclxuXHRcdFx0bGV0IGRpZCA9IG5vZGUuZ2V0X25vZGUoZWRnZVsxXSBhcyBhbnkpO1xyXG5cdFx0XHRpZihlZGdlWzJdKXtcclxuXHRcdFx0XHRtc2cgPSBtc2cgKyBgJHtzdGFifSR7c2lkfTwtLi0+JHtkaWR9XFxuYDtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0bXNnID0gbXNnICsgYCR7c3RhYn0ke3NpZH0tLi0+JHtkaWR9XFxuYDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRnZXRfZmxvd2NoYXJ0KHRmaWxlOlRGaWxlLE49MixjX2NoYWluPScjRjA1NDU0JyxjX2lubGluaz0nIzc3NkI1RCcsY19vdXRsaW5rPScjMjIyODMxJyxjX2FuY2hvcj0nIzQwQTU3OCcpe1xyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0bGV0IGxlYWYgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJ05vIEZpbGUuJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHJcblx0XHRsZXQgbXNnID0gXCJcXGBcXGBcXGBtZXJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblx0XHRsZXQgY2hhaW4gPSBuYy5jaGFpbi5nZXRfY2hhaW4odGZpbGUsTixOKVxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9jaGFpbihub2RlLGNoYWluLCdcdTdCMTRcdThCQjBcdTk0RkUnKTtcclxuXHJcblx0XHRsZXQgaW5saW5rcyA9IG5jLmNoYWluLmdldF9pbmxpbmtzKHRmaWxlLHRydWUpLmZpbHRlcigoeDpURmlsZSk9PiFjaGFpbi5jb250YWlucyh4KSk7XHJcblx0XHRsZXQgb3V0bGlua3MgPSBuYy5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSkuZmlsdGVyKCh4OlRGaWxlKT0+IWNoYWluLmNvbnRhaW5zKHgpKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2xpbmtzKG5vZGUsaW5saW5rcywnXHU1MTY1XHU5NEZFJywnLS0+Jyx0cnVlKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2xpbmtzKG5vZGUsb3V0bGlua3MsJ1x1NTFGQVx1OTRGRScsJy0tPicpO1xyXG5cclxuXHRcdG1zZyA9IG1zZyArIG5vZGUubm90ZXMyY2xhc3MoKTtcclxuXHRcdG1zZyA9IG1zZyArIFtcclxuXHRcdFx0J2NsYXNzRGVmIFx1N0IxNFx1OEJCMFx1OTRGRUMgZmlsbDonK2NfY2hhaW4sXHJcblx0XHRcdCdjbGFzc0RlZiBcdTUxNjVcdTk0RkVDIGZpbGw6JytjX2lubGluayxcclxuXHRcdFx0J2NsYXNzRGVmIFx1NTFGQVx1OTRGRUMgZmlsbDonK2Nfb3V0bGluayxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9YCxcclxuXHRcdFx0J2NsYXNzIFx1N0IxNFx1OEJCMFx1OTRGRSBcdTdCMTRcdThCQjBcdTk0RkVDJyxcclxuXHRcdFx0J2NsYXNzIFx1NTE2NVx1OTRGRSBcdTUxNjVcdTk0RkVDJyxcclxuXHRcdFx0J2NsYXNzIFx1NTFGQVx1OTRGRSBcdTUxRkFcdTk0RkVDJyxcclxuXHRcdFx0JydcclxuXHRcdF0uam9pbignXFxuJylcclxuXHRcdG1zZyA9IG1zZytcIlxcYFxcYFxcYFwiO1xyXG5cdFx0bXNnID0gbXNnLnJlcGxhY2UoXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKHRmaWxlKX0gaW50ZXJuYWwtbGluaztgLFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9mb2xkZXIodGZpbGU6VEZpbGUsc3ViZ3JhcGg9J0ZvbGRlcicsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHRmaWxlcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9icm90aGVycyh0ZmlsZSk7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG93Y2hhcnRfY3Jvc3ModGZpbGUsdGZpbGVzLHN1YmdyYXBoLGNvbG9yLGNfYW5jaG9yKTtcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9ub3RlY2hhaW4odGZpbGU6VEZpbGUsTj0xMCxzdWJncmFwaD0nTm90ZUNoYWluJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdGZpbGVzID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2NoYWluKHRmaWxlLE4sTik7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG93Y2hhcnRfY3Jvc3ModGZpbGUsdGZpbGVzLHN1YmdyYXBoLGNvbG9yLGNfYW5jaG9yKTtcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9jcm9zcyhhbmNob3I6VEZpbGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxjb2xvcj0nI0YwNTQ1NCcsY19hbmNob3I9JyM0MEE1NzgnKXtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlc1swXSx0aGlzLnBsdWdpbik7XHJcblx0XHRsZXQgbXNnID0gXCJcXGBcXGBcXGBtZXJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblx0XHRtc2cgPSBtc2cgKyB0aGlzLnN1YmdyYXBoX2Nyb3NzKG5vZGUsdGZpbGVzLHN1YmdyYXBoKTtcclxuXHRcdG1zZyA9IG1zZyArIG5vZGUubm90ZXMyY2xhc3MoKTtcclxuXHRcdG1zZyA9IG1zZyArIFtcclxuXHRcdFx0YGNsYXNzRGVmICR7c3ViZ3JhcGh9QyBmaWxsOiR7Y29sb3J9YCxcclxuXHRcdFx0YGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9YCxcclxuXHRcdFx0YGNsYXNzICR7c3ViZ3JhcGh9ICR7c3ViZ3JhcGh9Q2AsXHJcblx0XHRcdCcnXHJcblx0XHRdLmpvaW4oJ1xcbicpXHJcblx0XHRtc2cgPSBtc2crXCJcXGBcXGBcXGBcIjtcclxuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZChhbmNob3IpfSBpbnRlcm5hbC1saW5rO2AsXHJcblx0XHRcdGBjbGFzcyAke25vZGUuZ2V0X2lkKGFuY2hvcil9IEFuY2hvcjtgXHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGdldF9zdWJncmFoX25hbWVzKGdyb3VwX25hbWU6c3RyaW5nLHRmaWxlczpBcnJheTxURmlsZT4sbmFtZT0nZ3JvdXAnKXtcclxuXHRcdGxldCBuYyA9IHRoaXMucGx1Z2luO1xyXG5cdFx0bGV0IGl0ZW1zOntba2V5OnN0cmluZ106c3RyaW5nfSA9IHt9XHJcblx0XHRmb3IobGV0IGNmaWxlIG9mIHRmaWxlcyl7XHJcblx0XHRcdGxldCBjZ3JvdXAgPSBuYy5lZGl0b3IuZ2V0X2Zyb250bWF0dGVyKGNmaWxlLG5hbWUpXHJcblx0XHRcdGlmKGNncm91cCAmJiBBcnJheS5pc0FycmF5KGNncm91cCkpe1xyXG5cdFx0XHRcdGZvcihsZXQgY2cgb2YgY2dyb3VwKXtcclxuXHRcdFx0XHRcdGxldCB0bXAgPSBjZy5zcGxpdCgnLycpO1xyXG5cdFx0XHRcdFx0aWYodG1wWzBdPT1ncm91cF9uYW1lKXtcclxuXHRcdFx0XHRcdFx0aWYodG1wLmxlbmd0aD09MSl7XHJcblx0XHRcdFx0XHRcdFx0aXRlbXNbdGZpbGVzLmluZGV4T2YoY2ZpbGUpXSA9ICcnO1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRpdGVtc1t0ZmlsZXMuaW5kZXhPZihjZmlsZSldID0gdG1wWzFdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gaXRlbXNcclxuXHR9XHJcblxyXG5cdGZsb3djaGFydF9ncm91cHMoYW5jaG9yOlRGaWxlLG5hbWU9J2dyb3VwJyl7XHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHJcblx0XHRsZXQgdGZpbGVzID0gbmMuY2hhaW4uZ2V0X2Jyb3RoZXJzKGFuY2hvcik7XHJcblx0XHR0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfZ3JvdXBfbGlua3ModGZpbGVzLDEpXHJcblxyXG5cdFx0bGV0IG5vZGUgPSBuYy5tZXJtYWlkLmdldF9ub3RlX25vZGUoYW5jaG9yKTtcclxuXHJcblx0XHRcclxuXHRcdGxldCBncm91cCA9IG5jLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoYW5jaG9yLG5hbWUpO1xyXG5cdFx0aWYoIWdyb3VwfHwhQXJyYXkuaXNBcnJheShncm91cCkpe3JldHVybiBbXTt9XHJcblx0XHRsZXQgcmVzOkFycmF5PHN0cmluZz4gPSBbXTtcclxuXHRcdGZvcihsZXQgZyBvZiBncm91cCl7XHJcblx0XHRcdGcgPSBnLnNwbGl0KCcvJylbMF1cclxuXHRcdFx0bGV0IGl0ZW1zID0gdGhpcy5nZXRfc3ViZ3JhaF9uYW1lcyhnLHRmaWxlcyxuYW1lKTtcclxuXHRcdFx0bGV0IHN1YnMgPSBuZXcgU2V0KE9iamVjdC52YWx1ZXMoaXRlbXMpKVxyXG5cclxuXHRcdFx0bGV0IG1zZyA9IGBcXGBcXGBcXGBtZXJtYWlkXFxuLS0tXFxudGl0bGU6ICR7Z31cXG4tLS1cXG5mbG93Y2hhcnQgVERcXG5gO1xyXG5cdFx0XHRmb3IobGV0IHN1YiBvZiBzdWJzKXtcclxuXHRcdFx0XHRpZihzdWI9PScnKXtcclxuXHRcdFx0XHRcdGZvcihsZXQgaWR4IGluIGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0aWYoaXRlbXNbaWR4XT09c3ViKXtcclxuXHRcdFx0XHRcdFx0XHRtc2cgPSBtc2crJ1xcbicrbm9kZS5nZXRfbm9kZSh0ZmlsZXNbaWR4XSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdG1zZyA9IG1zZysnXFxuc3ViZ3JhcGggJytzdWIrJ1xcbidcclxuXHRcdFx0XHRcdGZvcihsZXQgaWR4IGluIGl0ZW1zKXtcclxuXHRcdFx0XHRcdFx0aWYoaXRlbXNbaWR4XT09c3ViKXtcclxuXHRcdFx0XHRcdFx0XHRtc2cgPSBtc2crJ1xcblxcdCcrbm9kZS5nZXRfbm9kZSh0ZmlsZXNbaWR4XSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRtc2cgPSBtc2crJ1xcbmVuZCdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0bXNnID0gbXNnKydcXG4nK3RoaXMuc3ViZ3JhcGhfY3Jvc3Mobm9kZSxPYmplY3Qua2V5cyhpdGVtcykubWFwKHg9PnRmaWxlc1t4XSkpO1xyXG5cdFx0XHRtc2cgPSBtc2crJ1xcbicrbm9kZS5ub3RlczJjbGFzcygpO1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXG5cXGBcXGBcXGBcIjtcclxuXHRcdFx0cmVzLnB1c2gobXNnKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXM7XHJcblx0fVxyXG5cclxuXHRnZXRfcmVsYXRpb25zaGlwX2dyYXBoKHRmaWxlOlRGaWxlLCBOPTEsIGtleT0nbGluaycsc2hvd19hbGxfbm9kZT10cnVlKSB7XHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHRcdGxldCBtc2cgPSBcImBgYG1lcm1haWRcXG5mbG93Y2hhcnQgVERcXG5cIjtcclxuXHJcblx0XHQvLyBcdTgzQjdcdTUzRDYgTiBcdTVDNDJcdTk0RkVcdTYzQTVcdTc2ODRcdTdCMTRcdThCQjBcclxuXHRcdGxldCB0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfZ3JvdXBfbGlua3MoW3RmaWxlXSwgTik7XHJcblx0XHRpZihzaG93X2FsbF9ub2RlKXtcclxuXHRcdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRcdG1zZyArPWAke25vZGUuZ2V0X25vZGUodGZpbGUpfVxcbmBcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvLyBcdTc1MjhcdTRFOEVcdThEREZcdThFMkFcdTVERjJcdTU5MDRcdTc0MDZcdTc2ODRcdTdCMTRcdThCQjBcclxuXHRcdGxldCBwcm9jZXNzZWRGaWxlcyA9IG5ldyBTZXQ8VEZpbGU+KCk7XHJcblxyXG5cdFx0Zm9yIChsZXQgY3VycmVudEZpbGUgb2YgdGZpbGVzKSB7XHJcblx0XHRcdGlmIChwcm9jZXNzZWRGaWxlcy5oYXMoY3VycmVudEZpbGUpKSBjb250aW51ZTsgLy8gXHU1OTgyXHU2NzlDXHU1REYyXHU1OTA0XHU3NDA2XHVGRjBDXHU4REYzXHU4RkM3XHJcblx0XHRcdHByb2Nlc3NlZEZpbGVzLmFkZChjdXJyZW50RmlsZSk7IC8vIFx1NjgwN1x1OEJCMFx1NEUzQVx1NURGMlx1NTkwNFx1NzQwNlxyXG5cclxuXHRcdFx0bGV0IGxpbmtzID0gbmMuZWRpdG9yLmdldF9mcm9udG1hdHRlcihjdXJyZW50RmlsZSwga2V5KTtcclxuXHRcdFx0aWYgKGxpbmtzKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgW3JlbGF0aW9uLCBsaW5rZWROb3RlXSBvZiBPYmplY3QuZW50cmllcyhsaW5rcykpIHtcclxuXHRcdFx0XHRcdGlmKGxpbmtlZE5vdGUgaW5zdGFuY2VvZiBBcnJheSl7XHJcblx0XHRcdFx0XHRcdGZvcihsZXQgaXRlbSBvZiBsaW5rZWROb3RlKXtcclxuXHRcdFx0XHRcdFx0XHRsZXQgbGlua2VkVEZpbGUgPSBuYy5jaGFpbi5nZXRfdGZpbGUoaXRlbSBhcyBzdHJpbmcpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChsaW5rZWRURmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRtc2cgKz0gYFxcdCR7bm9kZS5nZXRfbm9kZShjdXJyZW50RmlsZSl9IC0tPnwke3JlbGF0aW9ufXwgJHtub2RlLmdldF9ub2RlKGxpbmtlZFRGaWxlKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGxldCBsaW5rZWRURmlsZSA9IG5jLmNoYWluLmdldF90ZmlsZShsaW5rZWROb3RlIGFzIHN0cmluZyk7XHJcblx0XHRcdFx0XHRcdGlmIChsaW5rZWRURmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB7XHJcblx0XHRcdFx0XHRcdFx0bXNnICs9IGBcXHQke25vZGUuZ2V0X25vZGUoY3VycmVudEZpbGUpfSAtLT58JHtyZWxhdGlvbn18ICR7bm9kZS5nZXRfbm9kZShsaW5rZWRURmlsZSl9XFxuYDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bXNnID0gbXNnICsgbm9kZS5ub3RlczJjbGFzcygpO1xyXG5cdFx0bXNnICs9IFwiYGBgXCI7XHJcblx0XHRsZXQgY19hbmNob3I9JyM0MEE1NzgnXHJcblx0XHRtc2cgPSBtc2cucmVwbGFjZShcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBpbnRlcm5hbC1saW5rO2AsXHJcblx0XHRcdGBjbGFzc0RlZiBBbmNob3IgZmlsbDoke2NfYW5jaG9yfSxzdG9rZToke2NfYW5jaG9yfVxcbmNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBBbmNob3I7YFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRnZXRfbWVocm1haWRfZ3JhcGgodGZpbGU6VEZpbGUsIE49MSwga2V5PSdtZXJtYWlkJyxjX2FuY2hvcj0nI2Q0YzRiNycsZmllbGQ9J2F2YXRhJykge1xyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdGxldCBsZWFmID0gdGhpcy5wbHVnaW4uY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0XHRpZihsZWFmKXtcclxuXHRcdFx0XHR0ZmlsZSA9IGxlYWYudmlldy5maWxlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0cmV0dXJuICdObyBGaWxlLidcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgbmMgPSB0aGlzLnBsdWdpbjtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHRcdGxldCBtc2cgPSBcImBgYG1laHJtYWlkXFxuZmxvd2NoYXJ0IFREXFxuXCI7XHJcblxyXG5cdFx0Ly8gXHU4M0I3XHU1M0Q2IE4gXHU1QzQyXHU5NEZFXHU2M0E1XHU3Njg0XHU3QjE0XHU4QkIwXHJcblx0XHRsZXQgdGZpbGVzO1xyXG5cdFx0aWYoTj09LTEpe1xyXG5cdFx0XHR0ZmlsZXMgPSBuYy5jaGFpbi5nZXRfYnJvdGhlcnModGZpbGUpO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHRmaWxlcyA9IG5jLmNoYWluLmdldF9ncm91cF9saW5rcyhbdGZpbGVdLCBOKTtcclxuXHRcdH1cclxuXHRcdHRmaWxlcyA9IG5jLmNoYWluLnNvcnRfdGZpbGVzX2J5X2NoYWluKHRmaWxlcykgYXMgVEZpbGVbXTtcclxuXHJcblx0XHRmb3IgKGxldCBjdXJyZW50RmlsZSBvZiB0ZmlsZXMpIHtcclxuXHRcdFx0bGV0IHNyYyA9IGBbWyR7Y3VycmVudEZpbGUuYmFzZW5hbWV9XV1gXHJcblx0XHRcdGxldCBsaW5rcyA9IG5jLmVkaXRvci5nZXRfZnJvbnRtYXR0ZXIoY3VycmVudEZpbGUsIGtleSk7XHJcblx0XHRcdGlmIChsaW5rcyAmJiBBcnJheS5pc0FycmF5KGxpbmtzKSkge1xyXG5cdFx0XHRcdGZvcihsZXQgbGluayBvZiBsaW5rcyl7XHJcblx0XHRcdFx0XHRpZihsaW5rWydlZGdlJ10hPW51bGwgJiYgbGlua1snbm9kZSddIT1udWxsKXtcclxuXHRcdFx0XHRcdFx0bGV0IGNlZGdlID0gbGlua1snZWRnZSddO1xyXG5cdFx0XHRcdFx0XHRsZXQgY25vZGUgPSBsaW5rWydub2RlJ107XHJcblx0XHRcdFx0XHRcdGlmKGNlZGdlPT0nJyl7XHJcblx0XHRcdFx0XHRcdFx0Y2VkZ2UgPSAnJ1xyXG5cdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRjZWRnZSA9IGB8XCIke2NlZGdlfVwifGBcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRsZXQgbGluZSA9ICctLT4nO1xyXG5cdFx0XHRcdFx0XHRpZihsaW5rWydsaW5lJ10pe1xyXG5cdFx0XHRcdFx0XHRcdGxpbmUgPSBsaW5rWydsaW5lJ11cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZihsaW5lWzBdPT0nPCcgJiYgbGluZVtsaW5lLmxlbmd0aC0xXSE9Jz4nKXtcclxuXHRcdFx0XHRcdFx0XHRsaW5lID0gbGluZS5zbGljZSgxKSsnPidcclxuXHRcdFx0XHRcdFx0XHRpZihjbm9kZSBpbnN0YW5jZW9mIEFycmF5KXtcclxuXHRcdFx0XHRcdFx0XHRcdGZvcihsZXQgaXRlbSBvZiBjbm9kZSl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKGl0ZW0sZmllbGQpfSAke2xpbmV9ICR7Y2VkZ2V9ICR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShzcmMsZmllbGQpfVxcbmA7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0XHRtc2cgKz0gYCR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShjbm9kZSxmaWVsZCl9ICR7bGluZX0gJHtjZWRnZX0gJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyxmaWVsZCl9XFxuYDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRcdGlmKGNub2RlIGluc3RhbmNlb2YgQXJyYXkpe1xyXG5cdFx0XHRcdFx0XHRcdFx0Zm9yKGxldCBpdGVtIG9mIGNub2RlKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bXNnICs9IGAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoc3JjLGZpZWxkKX0gJHtsaW5lfSAke2NlZGdlfSAke25vZGUuZ2V0X21laHJtYWlkX25vZGUoaXRlbSxmaWVsZCl9XFxuYDtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyxmaWVsZCl9ICR7bGluZX0gJHtjZWRnZX0gJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKGNub2RlLGZpZWxkKX1cXG5gO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdGlmKGxpbmtbJ2dyb3VwJ10pe1xyXG5cdFx0XHRcdFx0XHRcdG1zZyArPSBgc3ViZ3JhcGggJHtsaW5rWydncm91cCddfVxcblxcdCR7bm9kZS5nZXRfbWVocm1haWRfbm9kZShzcmMsZmllbGQpfVxcbmVuZFxcbmBcclxuXHRcdFx0XHRcdFx0XHRpZihsaW5rWydjb2xvciddKXtcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgY2xhc3NEZWYgJHtsaW5rWydncm91cCddfUNsYXNzIGZpbGw6JHtsaW5rWydjb2xvciddfVxcbmBcclxuXHRcdFx0XHRcdFx0XHRcdG1zZyArPSBgY2xhc3MgJHtsaW5rWydncm91cCddfSAke2xpbmtbJ2dyb3VwJ119Q2xhc3NcXG5gXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRsZXQgc3JjID0gYFtbJHt0ZmlsZS5iYXNlbmFtZX1dXWBcclxuXHRcdG1zZyArPSBgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyl9XFxuYFxyXG5cdFx0aWYoY19hbmNob3Ipe1xyXG5cdFx0XHRtc2cgKz0gYGNsYXNzRGVmIEFuY2hvciBmaWxsOiR7Y19hbmNob3J9LHN0b2tlOiR7Y19hbmNob3J9XFxuY2xhc3MgJHtub2RlLmdldF9tZWhybWFpZF9ub2RlKHNyYyl9IEFuY2hvcjtcXG5gXHJcblx0XHR9XHJcblx0XHRtc2cgKz0gXCJgYGBcIjtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVjaGFydEdyYXBoe1xyXG5cdHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW47XHJcblx0YXBwOkFwcDtcclxuXHRlZGl0b3I6TkNFZGl0b3I7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pIHtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdFx0dGhpcy5hcHAgPSBwbHVnaW4uYXBwO1xyXG5cdFx0dGhpcy5lZGl0b3IgPSBwbHVnaW4uZWRpdG9yO1xyXG5cdH1cclxuXHJcblxyXG5cdHN1YmdyYXBoX2NoYWluKG5vZGU6Tm90ZU5vZGUsdGZpbGVzOkFycmF5PFRGaWxlPixzdWJncmFwaD0nJyxsaW5lPSc8LS0+Jyl7XHJcblxyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0d2hpbGUoaTxpdGVtcy5sZW5ndGgtMSl7XHJcblx0XHRcdGxldCBwcmV2ID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpXSk7XHJcblx0XHRcdGxldCBuZXh0ID0gbm9kZS5nZXRfbm9kZShpdGVtc1tpKzFdKTtcclxuXHRcdFx0bXNnID0gbXNnK2Ake3N0YWJ9JHtwcmV2fSR7bGluZX0ke25leHR9XFxuYDtcclxuXHRcdFx0aSA9IGkrMTtcclxuXHRcdH1cclxuXHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9saW5rcyhub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nLS0+Jyx0ZmlsZXNfZmlyc3Q9ZmFsc2Upe1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblxyXG5cdFx0fVxyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IHNpZCA9IG5vZGUuZ2V0X25vZGUobm9kZS50ZmlsZSk7XHJcblx0XHR3aGlsZShpPGl0ZW1zLmxlbmd0aCl7XHJcblx0XHRcdGxldCBpZCA9IG5vZGUuZ2V0X25vZGUoaXRlbXNbaV0pO1xyXG5cdFx0XHRpZih0ZmlsZXNfZmlyc3Qpe1xyXG5cdFx0XHRcdG1zZyA9IG1zZytgJHtzdGFifSR7aWR9JHtsaW5lfSR7c2lkfVxcbmA7XHJcblxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRtc2cgPSBtc2crYCR7c3RhYn0ke3NpZH0ke2xpbmV9JHtpZH1cXG5gO1xyXG5cdFx0XHR9XHJcblx0XHRcdGkgPSBpKzE7XHJcblx0XHR9XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2crXCJcXHRlbmRcXG5cIjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRzdWJncmFwaF9jcm9zcyhub2RlOk5vdGVOb2RlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsbGluZT0nLS0+Jyx0ZmlsZXNfZmlyc3Q9ZmFsc2Upe1xyXG5cdFx0bGV0IG1zZyA9ICcnO1xyXG5cdFx0bGV0IGl0ZW1zID0gdGZpbGVzLm1hcCh4PT54KTtcclxuXHRcdGxldCBzdGFiID0gJ1xcdCc7XHJcblx0XHRpZihzdWJncmFwaCE9Jycpe1xyXG5cdFx0XHRtc2cgPSBtc2cgKyBgXFxuXFx0c3ViZ3JhcGggJHtzdWJncmFwaH1cXG5gO1xyXG5cdFx0XHRzdGFiID0gJ1xcdFxcdCc7XHJcblxyXG5cdFx0fVxyXG5cdFx0Zm9yKGxldCB0ZmlsZSBvZiB0ZmlsZXMpe1xyXG5cdFx0XHRsZXQgc2lkID0gbm9kZS5nZXRfbm9kZSh0ZmlsZSk7XHJcblx0XHRcdGxldCBvbGlua3MgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfb3V0bGlua3ModGZpbGUsdHJ1ZSk7XHJcblx0XHRcdGZvcihsZXQgb2xpbmsgb2Ygb2xpbmtzKXtcclxuXHRcdFx0XHRpZihvbGluaz09dGZpbGUpe2NvbnRpbnVlfVxyXG5cdFx0XHRcdGlmKHRmaWxlcy5jb250YWlucyhvbGluaykpe1xyXG5cdFx0XHRcdFx0bGV0IGlkID0gbm9kZS5nZXRfbm9kZShvbGluayk7XHJcblx0XHRcdFx0XHRtc2cgPSBtc2cgKyBgJHtzdGFifSR7c2lkfSR7bGluZX0ke2lkfVxcbmA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmKHN1YmdyYXBoIT0nJyl7XHJcblx0XHRcdG1zZyA9IG1zZytcIlxcdGVuZFxcblwiO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG1zZztcclxuXHR9XHJcblxyXG5cdGdldF9mbG93Y2hhcnQodGZpbGU6VEZpbGUsTj0yLGNfY2hhaW49JyNGMDU0NTQnLGNfaW5saW5rPScjNzc2QjVEJyxjX291dGxpbms9JyMyMjI4MzEnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblx0XHRcclxuXHJcblx0XHRsZXQgbm9kZSA9IG5ldyBOb3RlTm9kZSh0ZmlsZSx0aGlzLnBsdWdpbik7XHJcblxyXG5cdFx0bGV0IG5jID0gdGhpcy5wbHVnaW47XHJcblxyXG5cdFx0bGV0IG1zZyA9IFwiXFxgXFxgXFxgbWVybWFpZFxcbmZsb3djaGFydCBURFxcblwiO1xyXG5cdFx0bGV0IGNoYWluID0gbmMuY2hhaW4uZ2V0X2NoYWluKHRmaWxlLE4sTilcclxuXHRcdG1zZyA9IG1zZyArIHRoaXMuc3ViZ3JhcGhfY2hhaW4obm9kZSxjaGFpbiwnXHU3QjE0XHU4QkIwXHU5NEZFJyk7XHJcblxyXG5cdFx0bGV0IGlubGlua3MgPSBuYy5jaGFpbi5nZXRfaW5saW5rcyh0ZmlsZSx0cnVlKS5maWx0ZXIoKHg6VEZpbGUpPT4hY2hhaW4uY29udGFpbnMoeCkpO1xyXG5cdFx0bGV0IG91dGxpbmtzID0gbmMuY2hhaW4uZ2V0X291dGxpbmtzKHRmaWxlLHRydWUpLmZpbHRlcigoeDpURmlsZSk9PiFjaGFpbi5jb250YWlucyh4KSk7XHJcblxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9saW5rcyhub2RlLGlubGlua3MsJ1x1NTE2NVx1OTRGRScsJy0tPicsdHJ1ZSk7XHJcblxyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9saW5rcyhub2RlLG91dGxpbmtzLCdcdTUxRkFcdTk0RkUnLCctLT4nKTtcclxuXHJcblx0XHRtc2cgPSBtc2cgKyBub2RlLm5vdGVzMmNsYXNzKCk7XHJcblx0XHRtc2cgPSBtc2cgKyBbXHJcblx0XHRcdCdjbGFzc0RlZiBcdTdCMTRcdThCQjBcdTk0RkVDIGZpbGw6JytjX2NoYWluLFxyXG5cdFx0XHQnY2xhc3NEZWYgXHU1MTY1XHU5NEZFQyBmaWxsOicrY19pbmxpbmssXHJcblx0XHRcdCdjbGFzc0RlZiBcdTUxRkFcdTk0RkVDIGZpbGw6JytjX291dGxpbmssXHJcblx0XHRcdGBjbGFzc0RlZiBBbmNob3IgZmlsbDoke2NfYW5jaG9yfSxzdG9rZToke2NfYW5jaG9yfWAsXHJcblx0XHRcdCdjbGFzcyBcdTdCMTRcdThCQjBcdTk0RkUgXHU3QjE0XHU4QkIwXHU5NEZFQycsXHJcblx0XHRcdCdjbGFzcyBcdTUxNjVcdTk0RkUgXHU1MTY1XHU5NEZFQycsXHJcblx0XHRcdCdjbGFzcyBcdTUxRkFcdTk0RkUgXHU1MUZBXHU5NEZFQycsXHJcblx0XHRcdCcnXHJcblx0XHRdLmpvaW4oJ1xcbicpXHJcblx0XHRtc2cgPSBtc2crXCJcXGBcXGBcXGBcIjtcclxuXHRcdG1zZyA9IG1zZy5yZXBsYWNlKFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZCh0ZmlsZSl9IGludGVybmFsLWxpbms7YCxcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQodGZpbGUpfSBBbmNob3I7YFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG5cclxuXHRmbG93Y2hhcnRfZm9sZGVyKHRmaWxlOlRGaWxlLHN1YmdyYXBoPSdGb2xkZXInLGNvbG9yPScjRjA1NDU0JyxjX2FuY2hvcj0nIzQwQTU3OCcpe1xyXG5cdFx0aWYoIXRmaWxlKXtcclxuXHRcdFx0bGV0IGxlYWYgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRcdGlmKGxlYWYpe1xyXG5cdFx0XHRcdHRmaWxlID0gbGVhZi52aWV3LmZpbGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJ05vIEZpbGUuJ1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCB0ZmlsZXMgPSB0aGlzLnBsdWdpbi5jaGFpbi5nZXRfYnJvdGhlcnModGZpbGUpO1xyXG5cdFx0cmV0dXJuIHRoaXMuZmxvd2NoYXJ0X2Nyb3NzKHRmaWxlLHRmaWxlcyxzdWJncmFwaCxjb2xvcixjX2FuY2hvcik7XHJcblx0fVxyXG5cclxuXHRmbG93Y2hhcnRfbm90ZWNoYWluKHRmaWxlOlRGaWxlLE49MTAsc3ViZ3JhcGg9J05vdGVDaGFpbicsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRpZighdGZpbGUpe1xyXG5cdFx0XHRsZXQgbGVhZiA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9sYXN0X2FjdGl2YXRlX2xlYWYoKTtcclxuXHRcdFx0aWYobGVhZil7XHJcblx0XHRcdFx0dGZpbGUgPSBsZWFmLnZpZXcuZmlsZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKCF0ZmlsZSl7XHJcblx0XHRcdHJldHVybiAnTm8gRmlsZS4nXHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHRmaWxlcyA9IHRoaXMucGx1Z2luLmNoYWluLmdldF9jaGFpbih0ZmlsZSxOLE4pO1xyXG5cdFx0cmV0dXJuIHRoaXMuZmxvd2NoYXJ0X2Nyb3NzKHRmaWxlLHRmaWxlcyxzdWJncmFwaCxjb2xvcixjX2FuY2hvcik7XHJcblx0fVxyXG5cclxuXHRmbG93Y2hhcnRfY3Jvc3MoYW5jaG9yOlRGaWxlLHRmaWxlczpBcnJheTxURmlsZT4sc3ViZ3JhcGg9JycsY29sb3I9JyNGMDU0NTQnLGNfYW5jaG9yPScjNDBBNTc4Jyl7XHJcblx0XHRsZXQgbm9kZSA9IG5ldyBOb3RlTm9kZSh0ZmlsZXNbMF0sdGhpcy5wbHVnaW4pO1xyXG5cdFx0bGV0IG1zZyA9IFwiXFxgXFxgXFxgbWVybWFpZFxcbmZsb3djaGFydCBURFxcblwiO1xyXG5cdFx0bXNnID0gbXNnICsgdGhpcy5zdWJncmFwaF9jcm9zcyhub2RlLHRmaWxlcyxzdWJncmFwaCk7XHJcblx0XHRtc2cgPSBtc2cgKyBub2RlLm5vdGVzMmNsYXNzKCk7XHJcblx0XHRtc2cgPSBtc2cgKyBbXHJcblx0XHRcdGBjbGFzc0RlZiAke3N1YmdyYXBofUMgZmlsbDoke2NvbG9yfWAsXHJcblx0XHRcdGBjbGFzc0RlZiBBbmNob3IgZmlsbDoke2NfYW5jaG9yfSxzdG9rZToke2NfYW5jaG9yfWAsXHJcblx0XHRcdGBjbGFzcyAke3N1YmdyYXBofSAke3N1YmdyYXBofUNgLFxyXG5cdFx0XHQnJ1xyXG5cdFx0XS5qb2luKCdcXG4nKVxyXG5cdFx0bXNnID0gbXNnK1wiXFxgXFxgXFxgXCI7XHJcblx0XHRtc2cgPSBtc2cucmVwbGFjZShcclxuXHRcdFx0YGNsYXNzICR7bm9kZS5nZXRfaWQoYW5jaG9yKX0gaW50ZXJuYWwtbGluaztgLFxyXG5cdFx0XHRgY2xhc3MgJHtub2RlLmdldF9pZChhbmNob3IpfSBBbmNob3I7YFxyXG5cdFx0KTtcclxuXHRcdHJldHVybiBtc2c7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FudmFzR3JhcGh7XHJcblx0cGx1Z2luOk5vdGVDaGFpblBsdWdpbjtcclxuXHRhcHA6QXBwO1xyXG5cdGVkaXRvcjpOQ0VkaXRvcjtcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOk5vdGVDaGFpblBsdWdpbikge1xyXG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcblx0XHR0aGlzLmFwcCA9IHBsdWdpbi5hcHA7XHJcblx0XHR0aGlzLmVkaXRvciA9IHBsdWdpbi5lZGl0b3I7XHJcblx0fVxyXG5cclxuXHRnZW5fcmFuZG9tX3N0cmluZyhsZW5ndGg6bnVtYmVyKSB7XHJcblx0XHRsZXQgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcblx0XHRsZXQgcmFuZG9tU3RyaW5nID0gJyc7XHJcblx0XHRcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdCAgbGV0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVycy5sZW5ndGgpO1xyXG5cdFx0ICByYW5kb21TdHJpbmcgKz0gY2hhcmFjdGVycy5jaGFyQXQocmFuZG9tSW5kZXgpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRyZXR1cm4gcmFuZG9tU3RyaW5nO1xyXG5cdCAgfVxyXG5cclxuXHRuZXdfbm90ZV9ub2RlKHRmaWxlOlRGaWxlKXtcclxuXHRcdGxldCBub2RlID0gbmV3IE5vdGVOb2RlKHRmaWxlLHRoaXMucGx1Z2luKTtcclxuXHRcdHJldHVybiBub2RlO1xyXG5cdH1cclxuXHJcblx0Z2VuX25vZGUoTk46Tm90ZU5vZGUsdGZpbGU6VEFic3RyYWN0RmlsZXxzdHJpbmcseD0wLHk9MCx3aWR0aD00MDAsaGVpZ2h0PTQwMCl7XHJcblx0XHRsZXQgcnNwOntba2V5OnN0cmluZ106YW55fSA9IHt9O1xyXG5cdFx0aWYodHlwZW9mKHRmaWxlKSA9PSAnc3RyaW5nJyl7XHJcblx0XHRcdHJzcFsndHlwZSddID0gJ3RleHQnO1xyXG5cdFx0XHRyc3BbJ3RleHQnXSA9IHRmaWxlO1xyXG5cdFx0XHRyc3BbJ2lkJ10gPSBOTi5nZXRfY2FudmFzX25vZGUocnNwWyd0ZXh0J10pO1xyXG5cdFx0fWVsc2V7XHJcblx0XHRcdHJzcFsndHlwZSddID0gJ2ZpbGUnO1xyXG5cdFx0XHRpZih0ZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpe1xyXG5cdFx0XHRcdHJzcFsnZmlsZSddID0gdGZpbGUucGF0aCsnLycrdGZpbGUubmFtZSsnLm1kJztcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cnNwWydmaWxlJ10gPSB0ZmlsZS5wYXRoO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJzcFsnaWQnXSA9IE5OLmdldF9jYW52YXNfbm9kZShyc3BbJ2ZpbGUnXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cnNwWyd4J10gPSB4O1xyXG5cdFx0cnNwWyd5J10gPSB5O1xyXG5cdFx0cnNwWydoZWlnaHQnXSA9IGhlaWdodDtcclxuXHRcdHJzcFsnd2lkdGgnXSA9IHdpZHRoO1xyXG5cclxuXHRcdHJldHVybiByc3A7XHJcblx0fVxyXG5cclxuXHRyY19vZl9zZXF1ZW5jZShpOm51bWJlcixyOm51bWJlcixjOm51bWJlcil7XHJcblx0XHQvKlxyXG5cdFx0XHU1OTgyIHIgXHU4ODRDIGMgXHU1MjE3XHU2MzkyXHU1RThGXHVGRjBDXHU3QjJDIGkgXHU0RTJBXHU1MzYxXHU3MjQ3XHU1QkY5XHU1RTk0XHU3Njg0XHU4ODRDXHU1MjE3XHU1M0Y3XHU2NjJGXHU1OTFBXHU1QzExXHJcblx0XHQqL1xyXG5cdFx0bGV0IHJvdyA9IE1hdGguZmxvb3IoKGkgLSAxKSAvIGMpICsgMTtcclxuXHRcdGxldCBjb2wgPSByb3cgJSAyID09PSAxID8gKGkgLSAxKSAlIGMgKyAxIDogYyAtICgoaSAtIDEpICUgYyk7XHJcblx0XHRyZXR1cm4gW3JvdywgY29sXTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG5vdGVfdG9fY2FudmFzKHRmaWxlOlRGaWxlLG5yb3c9MSxuY29sPTEsd2lkdGg9NDAwLGhlaWdodD00MDAsd21hcmluPTEwMCxobWFyZ2luPTEwMCx3cml0ZT10cnVlKXtcclxuXHRcdGxldCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LnJlYWQodGZpbGUpO1xyXG5cdFx0bGV0IHRpdGxlcyA9IFsuLi5jb250ZW50Lm1hdGNoQWxsKC9eKCMrKVxccysoLispL2dtKV07IC8vIFx1NTMzOVx1OTE0RFx1NjI0MFx1NjcwOVx1NjgwN1x1OTg5OFxyXG5cclxuXHRcdGlmKG5yb3cqbmNvbDx0aXRsZXMubGVuZ3RoKXtcclxuXHRcdFx0bmNvbCA9IE1hdGguY2VpbCh0aXRsZXMubGVuZ3RoL25yb3cpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBub2RlcyA9IFtdO1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IE5OID0gdGhpcy5uZXdfbm90ZV9ub2RlKHRmaWxlKTtcclxuXHRcdGZvcihsZXQgbWF0Y2ggb2YgdGl0bGVzKXtcclxuXHRcdFx0aSA9IGkrMTtcclxuXHRcdFx0bGV0IHRpdGxlID0gYCFbWyR7dGZpbGUuYmFzZW5hbWV9IyR7bWF0Y2hbMl19XV1gO1xyXG5cdFx0XHRsZXQgcG9zID0gdGhpcy5yY19vZl9zZXF1ZW5jZShpLCBucm93LCBuY29sKTtcclxuXHRcdFx0bGV0IG5vZGUgPSB0aGlzLmdlbl9ub2RlKFxyXG5cdFx0XHRcdE5OPU5OLFxyXG5cdFx0XHRcdHRpdGxlLFxyXG5cdFx0XHRcdHBvc1sxXSood2lkdGgrd21hcmluKSxcclxuXHRcdFx0XHRwb3NbMF0qKGhlaWdodCtobWFyZ2luKSxcclxuXHRcdFx0XHR3aWR0aD13aWR0aCxcclxuXHRcdFx0XHRoZWlnaHQ9aGVpZ2h0XHJcblx0XHRcdClcclxuXHRcdFx0bm9kZXMucHVzaChub2RlKTtcclxuXHRcdH1cclxuXHRcdGxldCByZXMgPSB7XHJcblx0XHRcdFwibm9kZXNcIjpub2RlcyxcclxuXHRcdFx0XCJlZGdlc1wiOltdXHJcblx0XHR9XHJcblx0XHRpZih3cml0ZSl7XHJcblx0XHRcdGxldCBwYXRoID0gdGhpcy5wYXRoX21kMmNhbnZhcyh0ZmlsZSk7XHJcblx0XHRcdGF3YWl0IHRoaXMud3JpdGVfY2FudmFzX2ZpbGUocmVzLHBhdGgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHR9XHJcblxyXG5cdGFzeW5jIHdyaXRlX2NhbnZhc19maWxlKGNhbnZhczp7fSxwYXRoOnN0cmluZyl7XHJcblx0XHRsZXQgbXNnID0gSlNPTi5zdHJpbmdpZnkoY2FudmFzKTtcclxuXHRcdGxldCBjYW52YXNGaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcclxuXHRcdGlmIChjYW52YXNGaWxlKSB7XHJcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoY2FudmFzRmlsZSBhcyBURmlsZSwgbXNnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NzUzQlx1NUUwM1x1NjU4N1x1NEVGNlx1NEUwRFx1NUI1OFx1NTcyOFx1RkYwQ1x1NTIxQlx1NUVGQVx1NjVCMFx1NjU4N1x1NEVGNlx1NUU3Nlx1NTE5OVx1NTE2NVx1NTE4NVx1NUJCOVxyXG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY3JlYXRlKHBhdGgsIG1zZyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwYXRoX21kMmNhbnZhcyh0ZmlsZTpURmlsZSl7XHJcblx0XHRyZXR1cm4gdGZpbGUucGF0aC5yZXBsYWNlKCcubWQnLCcuY2FudmFzJylcclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgXHJcblx0QXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLFBsdWdpblxyXG59IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBOb3RlQ2hhaW5QbHVnaW4gZnJvbSAnLi4vbWFpbic7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBOQ1NldHRpbmdzIHtcclxuXHRmaWVsZF9vZl9kaXNwbGF5X3RleHQ6c3RyaW5nO1xyXG5cdGZpZWxkX29mX2JhY2tncm91bmRfY29sb3I6c3RyaW5nO1xyXG5cdFByZXZDaGFpbjpzdHJpbmc7XHJcblx0TmV4dENoYWluOnN0cmluZztcclxuXHRhdXRvX25vdGVjaGFpbjpib29sZWFuO1xyXG5cdG5vdGljZV93aGlsZV9tb2RpZnlfY2hhaW46Ym9vbGVhbjtcclxuXHRyZWZyZXNoRGF0YVZpZXc6Ym9vbGVhbjtcclxuXHRyZWZyZXNoVGFza3M6Ym9vbGVhbixcclxuXHRpc1NvcnRGaWxlRXhwbG9yZXI6Ym9vbGVhbixcclxuXHRpc0ZvbGRlckZpcnN0OmJvb2xlYW4sXHJcblx0c3VnZ2VzdGVyTm90ZXNNb2RlOnN0cmluZyxcclxuXHR3b3JkY291dDpib29sZWFuLFxyXG5cdHdvcmRjb3VudHhmb2xkZXI6c3RyaW5nLFxyXG5cdG1vZGFsX2RlZmF1bHRfd2lkdGg6IG51bWJlcixcclxuICAgIG1vZGFsX2RlZmF1bHRfaGVpZ2h0OiBudW1iZXIsXHJcblx0YXZhdGE6c3RyaW5nLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTkNTZXR0aW5ncyA9IHtcclxuXHRQcmV2Q2hhaW4gOiBcIjEwXCIsXHJcblx0TmV4dENoYWluIDogXCIxMFwiLFxyXG5cdGZpZWxkX29mX2Rpc3BsYXlfdGV4dDogJ25vdGVjaGFpbi5kaXNwbGF5JyxcclxuXHRmaWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yOidub3RlY2hhaW4uc3R5bGUnLFxyXG5cdGF1dG9fbm90ZWNoYWluIDogZmFsc2UsXHJcblx0bm90aWNlX3doaWxlX21vZGlmeV9jaGFpbjpmYWxzZSxcclxuXHRyZWZyZXNoRGF0YVZpZXcgOiB0cnVlLFxyXG5cdHJlZnJlc2hUYXNrcyA6IHRydWUsXHJcblx0aXNTb3J0RmlsZUV4cGxvcmVyIDogdHJ1ZSxcclxuXHRpc0ZvbGRlckZpcnN0IDogdHJ1ZSxcclxuXHRzdWdnZXN0ZXJOb3Rlc01vZGU6JycsXHJcblx0d29yZGNvdXQ6dHJ1ZSxcclxuXHR3b3JkY291bnR4Zm9sZGVyOicnLFxyXG5cdG1vZGFsX2RlZmF1bHRfd2lkdGg6IDgwMCxcclxuICAgIG1vZGFsX2RlZmF1bHRfaGVpZ2h0OiA2MDAsXHJcblx0YXZhdGE6J2F2YXRhJyxcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBOQ1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IE5vdGVDaGFpblBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcclxuXHJcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19pc1NvcnRGaWxlRXhwbG9yZXIpXHJcblx0XHRcdFx0LmFkZFRvZ2dsZSh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1NvcnRGaWxlRXhwbG9yZXIpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzU29ydEZpbGVFeHBsb3JlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19pc0ZvbGRlckZpcnN0KVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNGb2xkZXJGaXJzdClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNGb2xkZXJGaXJzdCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19QcmV2Q2hhaW4pXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5QcmV2Q2hhaW4pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuUHJldkNoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19zdWdnZXN0ZXJOb3Rlc01vZGUpXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fZ2V0X2Jyb3RoZXJzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fZ2V0X2Jyb3RoZXJzKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fdW5jbGVfbm90ZXMnLHRoaXMucGx1Z2luLnN0cmluZ3MuaXRlbV91bmNsZV9ub3RlcylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX25vdGVjaGFpbicsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX25vdGVjaGFpbilcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX3NhbWVfZm9sZGVyJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fc2FtZV9mb2xkZXIpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9pbmxpbmtzX291dGxpbmtzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1faW5saW5rc19vdXRsaW5rcylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX2lubGlucycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2lubGlucylcclxuXHRcdFx0XHQuYWRkT3B0aW9uKCdpdGVtX291dGxpbmtzJyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fb3V0bGlua3MpXHJcblx0XHRcdFx0LmFkZE9wdGlvbignaXRlbV9hbGxfbm9lcycsdGhpcy5wbHVnaW4uc3RyaW5ncy5pdGVtX2FsbF9ub2VzKVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJ2l0ZW1fcmVjZW50Jyx0aGlzLnBsdWdpbi5zdHJpbmdzLml0ZW1fcmVjZW50KVxyXG5cdFx0XHRcdC5hZGRPcHRpb24oJycsJycpXHJcblxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdWdnZXN0ZXJOb3Rlc01vZGUpXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc3VnZ2VzdGVyTm90ZXNNb2RlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19OZXh0Q2hhaW4pXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5OZXh0Q2hhaW4pXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuTmV4dENoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKSAgXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX2F1dG9fbm90ZWNoYWluKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b19ub3RlY2hhaW4pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9fbm90ZWNoYWluID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19maWVsZF9vZl9kaXNwbGF5X3RleHQpXHJcblx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfZGlzcGxheV90ZXh0KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9kaXNwbGF5X3RleHQgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZXhwbG9yZXIuc2V0X2Rpc3BsYXlfdGV4dCgpXHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSkpO1xyXG5cclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHRcdC5zZXROYW1lKHRoaXMucGx1Z2luLnN0cmluZ3Muc2V0dGluZ19maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKVxyXG5cdFx0XHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWVsZF9vZl9iYWNrZ3JvdW5kX2NvbG9yKVxyXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmllbGRfb2ZfYmFja2dyb3VuZF9jb2xvciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmV4cGxvcmVyLnNldF9maWxlaXRlbV9zdHlsZSgpXHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH0pKTtcclxuXHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpICBcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfbm90aWNlX3doaWxlX21vZGlmeV9jaGFpbilcclxuXHRcdFx0XHQuYWRkVG9nZ2xlKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5vdGljZV93aGlsZV9tb2RpZnlfY2hhaW4pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm5vdGljZV93aGlsZV9tb2RpZnlfY2hhaW4gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpICBcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfcmVmcmVzaERhdGFWaWV3KVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaERhdGFWaWV3KVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoRGF0YVZpZXcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfcmVmcmVzaFRhc2tzKVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVmcmVzaFRhc2tzKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWZyZXNoVGFza3MgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdFx0LnNldE5hbWUodGhpcy5wbHVnaW4uc3RyaW5ncy5zZXR0aW5nX3dvcmRjb3V0KVxyXG5cdFx0XHRcdC5hZGRUb2dnbGUodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZGNvdXQpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRjb3V0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfd29yZGNvdXRfeGZvbGRlcilcclxuXHRcdFx0XHQuYWRkVGV4dEFyZWEodGV4dCA9PiB0ZXh0XHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZGNvdW50eGZvbGRlcilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZGNvdW50eGZvbGRlciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0XHQuc2V0TmFtZSh0aGlzLnBsdWdpbi5zdHJpbmdzLnNldHRpbmdfYXZhdGEpXHJcblx0XHRcdFx0LmFkZFRleHRBcmVhKHRleHQgPT4gdGV4dFxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF2YXRhKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdmF0YSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IFxyXG5cdE5vdGljZSwgVEZpbGVcclxufSBmcm9tICdvYnNpZGlhbic7XHJcblxyXG5pbXBvcnQgTm90ZUNoYWluUGx1Z2luIGZyb20gJy4uL21haW4nO1xyXG5cclxuXHJcbmNvbnN0IGNtZF9sb25nZm9ybTJub3RlY2hhaW4gPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogXCJsb25nZm9ybTJub3RlY2hhaW5cIixcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9sb25nZm9ybTJub3RlY2hhaW4sXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBjdXJyID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKGN1cnIgPT0gbnVsbCl7cmV0dXJuO31cclxuXHRcdHBsdWdpbi5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKFxyXG5cdFx0XHRjdXJyLFxyXG5cdFx0XHRhc3luYyAoZm0pID0+e1xyXG5cdFx0XHRcdGlmKGN1cnI9PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0aWYoZm1bJ2xvbmdmb3JtJ109PW51bGwpe3JldHVybjt9XHJcblx0XHRcdFx0bGV0IHNjZW5lcyA9IHBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoZm0ubG9uZ2Zvcm0uc2NlbmVzKTtcclxuXHRcdFx0XHRsZXQgaWdub3JlZEZpbGVzID0gcGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShmbS5sb25nZm9ybS5pZ25vcmVkRmlsZXMpO1xyXG5cdFx0XHRcdGlnbm9yZWRGaWxlcyA9IGlnbm9yZWRGaWxlcy5maWx0ZXIoKGY6c3RyaW5nKT0+IXNjZW5lcy5jb250YWlucyhmKSk7XHJcblx0XHRcdFx0bGV0IG5vdGVzID0gcGx1Z2luLnV0aWxzLmNvbmNhdF9hcnJheShbc2NlbmVzLGlnbm9yZWRGaWxlc10pO1xyXG5cdFx0XHRcdG5vdGVzID0gbm90ZXMubWFwKChmOnN0cmluZyk9PnBsdWdpbi5jaGFpbi50cF9maW5kX3RmaWxlKGYpKTtcclxuXHRcdFx0XHRpZihjdXJyLnBhcmVudD09bnVsbCl7cmV0dXJufTtcclxuXHRcdFx0XHRsZXQgdGZpbGVzID0gcGx1Z2luLmNoYWluLmdldF90ZmlsZXNfb2ZfZm9sZGVyKGN1cnIucGFyZW50KS5maWx0ZXIoKGY6YW55KT0+IW5vdGVzLmNvbnRhaW5zKGYpKTtcclxuXHRcdFx0XHRub3RlcyA9IHBsdWdpbi51dGlscy5jb25jYXRfYXJyYXkoW3RmaWxlcyxub3Rlc10pO1xyXG5cdFx0XHRcdGF3YWl0IHBsdWdpbi5jaGFpbi5jaGFpbl9jb25jYXRfdGZpbGVzKG5vdGVzKTtcclxuXHRcdFx0XHRwbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9sb25nZm9ybTRub3RlY2hhaW4gPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogXCJsb25nZm9ybTRub3RlY2hhaW5cIixcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9sb25nZm9ybTRub3RlY2hhaW4sXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGxldCBjdXJyID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKGN1cnI9PW51bGwgfHwgY3Vyci5wYXJlbnQ9PW51bGwpe3JldHVybjt9XHJcblxyXG5cdFx0bGV0IHBhdGggPSBjdXJyLnBhcmVudC5wYXRoKycvJytjdXJyLnBhcmVudC5uYW1lKycubWQnO1xyXG5cdFx0bGV0IGRzdCA9IGF3YWl0IG5jLmNoYWluLmdldF90ZmlsZShwYXRoKTtcclxuXHRcdGlmKGRzdD09bnVsbCl7XHJcblx0XHRcdGxldCB1ZnVuYyA9IG5jLnV0aWxzLmdldF90cF9mdW5jKG5jLmFwcCwndHAuZmlsZS5jcmVhdGVfbmV3Jyk7XHJcblx0XHRcdGRzdCA9IGF3YWl0IHVmdW5jKFxyXG5cdFx0XHRcdCcnLGN1cnIucGFyZW50Lm5hbWUsXHJcblx0XHRcdFx0ZmFsc2UsY3Vyci5wYXJlbnRcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHRhd2FpdCBuYy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKFxyXG5cdFx0XHRkc3QsXHJcblx0XHRcdGZtID0+e1xyXG5cdFx0XHRcdGlmKGZtWydsb25nZm9ybSddPT1udWxsKXtcclxuXHRcdFx0XHRcdGZtWydsb25nZm9ybSddID0ge1xyXG5cdFx0XHRcdFx0XHQnZm9ybWF0Jzonc2NlbmVzJyxcclxuXHRcdFx0XHRcdFx0J3RpdGxlJzpkc3QucGFyZW50Lm5hbWUsXHJcblx0XHRcdFx0XHRcdCd3b3JrZmxvdyc6J0RlZmF1bHQgV29ya2Zsb3cnLFxyXG5cdFx0XHRcdFx0XHQnc2NlbmVGb2xkZXInOicvJyxcclxuXHRcdFx0XHRcdFx0J3NjZW5lcyc6W10sXHJcblx0XHRcdFx0XHRcdCdpZ25vcmVkRmlsZXMnOltdLFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHRcdFxyXG5cdFx0YXdhaXQgcGx1Z2luLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIoXHJcblx0XHRcdGRzdCxcclxuXHRcdFx0Zm0gPT57XHJcblx0XHRcdFx0aWYoZHN0PT1udWxsKXtyZXR1cm47fVxyXG5cdFx0XHRcdGlmKGRzdC5wYXJlbnQ9PW51bGwpe3JldHVybn07XHJcblxyXG5cdFx0XHRcdGlmKGZtWydsb25nZm9ybSddPT1udWxsKXtyZXR1cm47fVxyXG5cdFx0XHRcdGxldCBub3RlcyA9IHBsdWdpbi5jaGFpbi5nZXRfdGZpbGVzX29mX2ZvbGRlcihkc3QucGFyZW50KTtcclxuXHRcdFx0XHRub3RlcyA9IHBsdWdpbi5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbihub3Rlcyk7XHJcblx0XHRcdFx0Zm0ubG9uZ2Zvcm0uc2NlbmVzID0gbm90ZXMubWFwKChmOlRGaWxlKT0+Zi5iYXNlbmFtZSk7XHJcblx0XHRcdH1cclxuXHRcdClcclxuXHRcdGF3YWl0IG5jLmNoYWluLm9wZW5fbm90ZShkc3QpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuY29uc3QgY21kX3NvcnRfZmlsZV9leHBsb3JlciA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiBcInNvcnRfZmlsZV9leHBsb3JlclwiLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3NvcnRfZmlsZV9leHBsb3JlcixcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0YXdhaXQgcGx1Z2luLmV4cGxvcmVyLnNvcnQoMCx0cnVlKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX29wZW5fbm90ZXNfc21hcnRlciA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnb3Blbl9ub3Rlc19zbWFydGVyJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9ub3Rlc19zbWFydGVyLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4ub3Blbl9ub3RlX3NtYXJ0ZXIoKTtcclxuXHR9XHJcbn0pXHJcblxyXG5jb25zdCBjbWRfb3Blbl9ub3RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdzdWdnZXN0b3Jfb3Blbl9ub3RlJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9ub3RlLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4uY2hhaW4uc3VnZ3VzdGVyX29wZW5fbm90ZSgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfb3Blbl9wcmV2X25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ29wZW5fcHJldl9ub3RlcycsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fcHJldl9ub3RlLFxyXG5cdGNhbGxiYWNrOiAoKSA9PiB7XHJcblx0XHRwbHVnaW4uY2hhaW4ub3Blbl9wcmV2X25vdGVzKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9vcGVuX25leHRfbm90ZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnb3Blbl9uZXh0X25vdGVzJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9uZXh0X25vdGUsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5vcGVuX25leHRfbm90ZXMoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuXHJcbmNvbnN0IGNsZWFyX2lubGlua3MgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NsZWFyX2lubGlua3MnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNsZWFyX2lubGlua3MsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jbGVhcl9pbmxpbmtzKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IG1vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlciA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5tb3ZlX2ZpbGVfdG9fYW5vdGhlcl9mb2xkZXIsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5jaGFpbi5jbWRfbW92ZV9maWxlX3RvX2Fub3RoZXJfZm9sZGVyKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4ID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdyZXBsYWNlX25vdGVzX3dpdGhfcmVneCcsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MucmVwbGFjZV9ub3Rlc193aXRoX3JlZ3gsXHJcblx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdHBsdWdpbi5yZXBsYWNlX25vdGVzX3dpdGhfcmVneCgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFpbl9pbnNlcnRfbm9kZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY2hhaW5faW5zZXJ0X25vZGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNoYWluX2luc2VydF9ub2RlLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uY21kX2NoYWluX2luc2VydF9ub2RlKCk7XHJcblx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCg1MDApO1xyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjaGFpbl9zZXRfc2VxX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NoYWluX3NldF9zZXFfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY2hhaW5fc2V0X3NlcV9ub3RlLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5fc3VnZ2VzdGVyX3RmaWxlcygpO1xyXG5cdFx0cGx1Z2luLmV4cGxvcmVyLnNvcnQoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY2hhaW5fbW92ZV91cF9ub2RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjaGFpbl9tb3ZlX3VwX25vZGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNoYWluX21vdmVfdXBfbm9kZSxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IHRmaWxlID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdGlmKHRmaWxlKXtcclxuXHRcdFx0bGV0IGFuY2hvciA9IHBsdWdpbi5jaGFpbi5nZXRfcHJldl9ub3RlKHRmaWxlKTtcclxuXHRcdFx0aWYoYW5jaG9yKXtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uY2hhaW4uY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlKFxyXG5cdFx0XHRcdFx0dGZpbGUsYW5jaG9yXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNoYWluX21vdmVfZG93bl9ub2RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjaGFpbl9tb3ZlX2Rvbndfbm9kZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY2hhaW5fbW92ZV9kb3duX25vZGUsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCB0ZmlsZSA9IHBsdWdpbi5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCBhbmNob3IgPSBwbHVnaW4uY2hhaW4uZ2V0X25leHRfbm90ZSh0ZmlsZSk7XHJcblx0XHRcdGlmKGFuY2hvcil7XHJcblx0XHRcdFx0YXdhaXQgcGx1Z2luLmNoYWluLmNoYWluX2luc2VydF9ub2RlX2FmdGVyKFxyXG5cdFx0XHRcdFx0dGZpbGUsYW5jaG9yXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRhd2FpdCBwbHVnaW4uZXhwbG9yZXIuc29ydCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNyZWF0ZV9uZXdfbm90ZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY3JlYXRlX25ld19ub3RlJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jcmVhdGVfbmV3X25vdGUsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCB0YXJnZXRzIDp7W2tleTpzdHJpbmddOnN0cmluZ30gPSB7fVxyXG5cdFx0dGFyZ2V0c1twbHVnaW4uc3RyaW5ncy5pdGVtX2NoYWluX2luc2VydF9ub2RlX2FmdGVyXSA9ICdjaGFpbl9pbnNlcnRfbm9kZV9hZnRlcic7XHJcblx0XHR0YXJnZXRzW3BsdWdpbi5zdHJpbmdzLml0ZW1fY2hhaW5faW5zZXJ0X25vZGVfYXNfdGFpbF0gPSAnY2hhaW5faW5zZXJ0X25vZGVfYXNfdGFpbCc7XHJcblx0XHR0YXJnZXRzW3BsdWdpbi5zdHJpbmdzLml0ZW1fY2hhaW5faW5zZXJ0X25vZGVfYmVmb3JlXSA9ICdjaGFpbl9pbnNlcnRfbm9kZV9iZWZvcmUnO1xyXG5cdFx0dGFyZ2V0c1twbHVnaW4uc3RyaW5ncy5pdGVtX2NoYWluX2luc2VydF9ub2RlX2FzX2hlYWRdID0gJ2NoYWluX2luc2VydF9ub2RlX2FzX2hlYWQnO1xyXG5cdFx0dGFyZ2V0c1twbHVnaW4uc3RyaW5ncy5pdGVtX2l0ZW1fY2hhaW5faW5zZXJ0X251bGxdID0gJ251bGwnO1xyXG5cclxuXHRcdGxldCB0YXJnZXQgPSBhd2FpdCBwbHVnaW4uY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRwbHVnaW4udXRpbHMuYXJyYXlfcHJlZml4X2lkKE9iamVjdC5rZXlzKHRhcmdldHMpKSwgXHJcblx0XHRcdE9iamVjdC52YWx1ZXModGFyZ2V0cyksIFxyXG5cdFx0XHR0cnVlXHJcblx0XHQpO1xyXG5cdFx0aWYoIXRhcmdldCl7cmV0dXJuO31cclxuXHRcdGxldCBuYW1lID0gYXdhaXQgcGx1Z2luLmNoYWluLnRwX3Byb21wdChwbHVnaW4uc3RyaW5ncy5wcm9tcHRfbm90ZW5hbWUpO1xyXG5cdFx0aWYobmFtZSl7XHJcblx0XHRcdGxldCBjdXJyID0gcGx1Z2luLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHRcdFx0aWYoY3VyciAmJiBjdXJyLnBhcmVudCl7XHJcblx0XHRcdFx0bGV0IHBhdGggPSBjdXJyLnBhcmVudC5wYXRoKycvJytuYW1lKycubWQnO1xyXG5cdFx0XHRcdGxldCBkc3QgPSBhd2FpdCBwbHVnaW4uY2hhaW4uZ2V0X3RmaWxlKHBhdGgpO1xyXG5cdFx0XHRcdGlmKGRzdD09bnVsbCl7XHJcblx0XHRcdFx0XHRsZXQgZnVuYyA9IHBsdWdpbi51dGlscy5nZXRfdHBfZnVuYyhwbHVnaW4uYXBwLCd0cC5maWxlLmNyZWF0ZV9uZXcnKVxyXG5cdFx0XHRcdFx0ZHN0ID0gYXdhaXQgZnVuYyhcclxuXHRcdFx0XHRcdFx0JycsbmFtZSxcclxuXHRcdFx0XHRcdFx0ZmFsc2UsY3Vyci5wYXJlbnRcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRhd2FpdCBzbGVlcCgzMDApO1xyXG5cdFx0XHRcdFx0aWYoISh0YXJnZXQ9PT0nbnVsbCcpKXtcclxuXHRcdFx0XHRcdFx0YXdhaXQgKHBsdWdpbi5jaGFpbiBhcyBhbnkpW3RhcmdldF0oZHN0LGN1cnIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YXdhaXQgc2xlZXAoMzAwKTtcclxuXHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5jaGFpbi5vcGVuX25vdGUoZHN0KTtcclxuXHRcdFx0XHRcdGF3YWl0IHBsdWdpbi5leHBsb3Jlci5zb3J0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHRcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX3JldmVhbF9ub3RlID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjbWRfcmV2ZWFsX25vdGUnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9yZXZlYWxfbm90ZSxcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0bGV0IG5vdGUgPSBuYy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZihub3RlKXtcclxuXHRcdFx0YXdhaXQgKG5jLmV4cGxvcmVyLmZpbGVfZXhwbG9yZXIgYXMgYW55KS50cmVlLnNldENvbGxhcHNlQWxsKHRydWUpO1xyXG5cdFx0XHRhd2FpdCAobmMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnJldmVhbEluRm9sZGVyKG5vdGUpO1xyXG5cdFx0XHRhd2FpdCBzbGVlcCgxMDApO1xyXG5cdFx0XHRcclxuXHRcdFx0bGV0IGNvbnRhaW5lckVsID0gbmMuZXhwbG9yZXIuZmlsZV9leHBsb3Jlci5jb250YWluZXJFbDtcclxuXHRcdFx0bGV0IHBhbmVsID0gY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLm5hdi1maWxlcy1jb250YWluZXInKTtcclxuXHRcdFx0bGV0IGl0ZW1FbD1jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYXRoPVwiJHtub3RlLnBhdGh9XCJdYCk7XHJcblx0XHRcdGlmKHBhbmVsICYmIGl0ZW1FbCAmJiAoaXRlbUVsIGFzIGFueSkub2Zmc2V0VG9wKXtcclxuXHRcdFx0XHRsZXQgeHRvcCA9IHBhbmVsLnNjcm9sbFRvcCsoKGl0ZW1FbCBhcyBhbnkpLm9mZnNldFRvcC0ocGFuZWwuc2Nyb2xsVG9wK3BhbmVsLmNsaWVudEhlaWdodC8yKSlcclxuXHRcdFx0XHRwYW5lbC5zY3JvbGxUbyh7IHRvcDogeHRvcCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcblxyXG5jb25zdCBjbWRfb3Blbl9hbmRfcmV2ZWFsX25vdGUgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9vcGVuX2FuZF9yZXZlYWxfbm90ZScsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fYW5kX3JldmVhbF9ub3RlLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRsZXQgbm90ZSA9IGF3YWl0IG5jLmNoYWluLnN1Z2d1c3Rlcl9ub3RlKCk7XHJcblx0XHRpZihub3RlKXtcclxuXHRcdFx0YXdhaXQgbmMuY2hhaW4ub3Blbl9ub3RlKG5vdGUpO1xyXG5cdFx0XHRhd2FpdCAobmMuZXhwbG9yZXIuZmlsZV9leHBsb3JlciBhcyBhbnkpLnRyZWUuc2V0Q29sbGFwc2VBbGwodHJ1ZSk7XHJcblx0XHRcdGF3YWl0IChuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyIGFzIGFueSkucmV2ZWFsSW5Gb2xkZXIobm90ZSk7XHJcblx0XHRcdGF3YWl0IHNsZWVwKDEwMCk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgY29udGFpbmVyRWwgPSBuYy5leHBsb3Jlci5maWxlX2V4cGxvcmVyLmNvbnRhaW5lckVsO1xyXG5cdFx0XHRsZXQgcGFuZWwgPSBjb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcubmF2LWZpbGVzLWNvbnRhaW5lcicpO1xyXG5cdFx0XHRsZXQgaXRlbUVsPWNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBhdGg9XCIke25vdGUucGF0aH1cIl1gKTtcclxuXHRcdFx0aWYocGFuZWwgJiYgaXRlbUVsICYmIChpdGVtRWwgYXMgYW55KS5vZmZzZXRUb3Ape1xyXG5cdFx0XHRcdGxldCB4dG9wID0gcGFuZWwuc2Nyb2xsVG9wKygoaXRlbUVsIGFzIGFueSkub2Zmc2V0VG9wLShwYW5lbC5zY3JvbGxUb3ArcGFuZWwuY2xpZW50SGVpZ2h0LzIpKVxyXG5cdFx0XHRcdHBhbmVsLnNjcm9sbFRvKHsgdG9wOiB4dG9wLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX29wZW5fcHJldl9ub3RlX29mX3JpZ2h0X2xlYWYgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9vcGVuX3ByZXZfbm90ZV9vZl9yaWdodF9sZWFmJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfb3Blbl9wcmV2X25vdGVfb2ZfcmlnaHRfbGVhZixcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0bGV0IGxlYWYgPSBuYy5jaGFpbi5nZXRfbGFzdF9hY3RpdmF0ZV9sZWFmKCk7XHJcblx0XHRpZihsZWFmKXtcclxuXHRcdFx0bGV0IHByZXYgPSBuYy5jaGFpbi5nZXRfcHJldl9ub3RlKChsZWFmLnZpZXcgYXMgYW55KS5maWxlKTtcclxuXHRcdFx0aWYocHJldil7XHJcblx0XHRcdFx0YXdhaXQgbGVhZi5vcGVuRmlsZShwcmV2LHthY3RpdmU6ZmFsc2V9KTtcclxuXHRcdFx0XHRhd2FpdCBuYy5hcHAud29ya3NwYWNlLnRyaWdnZXIoJ2ZpbGUtb3BlbicsIGxlYWYpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9vcGVuX25leHRfbm90ZV9vZl9yaWdodF9sZWFmID0gKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcblx0aWQ6ICdjbWRfb3Blbl9uZXh0X25vdGVfb2ZfcmlnaHRfbGVhZicsXHJcblx0bmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGxldCBsZWFmID0gbmMuY2hhaW4uZ2V0X2xhc3RfYWN0aXZhdGVfbGVhZigpO1xyXG5cdFx0aWYobGVhZil7XHJcblx0XHRcdGxldCBuZXh0ID0gbmMuY2hhaW4uZ2V0X25leHRfbm90ZSgobGVhZi52aWV3IGFzIGFueSkuZmlsZSk7XHJcblx0XHRcdGlmKG5leHQpe1xyXG5cdFx0XHRcdGF3YWl0IGxlYWYub3BlbkZpbGUobmV4dCx7YWN0aXZlOmZhbHNlfSk7XHJcblx0XHRcdFx0YXdhaXQgbmMuYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdmaWxlLW9wZW4nLCBsZWFmKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufSk7XHJcblxyXG5jb25zdCBjbWRfZmlsZV9vcGVuX3dpdGhfc3lzdGVtX2FwcCA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX2ZpbGVfb3Blbl93aXRoX3N5c3RlbV9hcHAnLFxyXG5cdG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwLFxyXG5cdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgbmMgPSBwbHVnaW47XHJcblx0XHRpZigobmMuYXBwIGFzIGFueSkuaXNNb2JpbGUpe3JldHVybjt9XHJcblx0XHRsZXQgdGZpbGUgPSBuYy5jaGFpbi5jdXJyZW50X25vdGU7XHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCBpdGVtcyA9IGF3YWl0IG5jLmNoYWluLmdldF9maWxlX2xpbmtzKHRmaWxlKTtcclxuXHJcblx0XHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoaXRlbXMpO1xyXG5cdFx0XHRsZXQga2V5ID0gYXdhaXQgbmMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdG5jLnV0aWxzLmFycmF5X3ByZWZpeF9pZChrZXlzKSxcclxuXHRcdFx0XHRrZXlzXHJcblx0XHRcdClcclxuXHRcdFx0XHJcblx0XHRcdGlmKGtleSl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldO1xyXG5cdFx0XHRcdGxldCBlbGVjdHJvbiA9IHJlcXVpcmUoJ2VsZWN0cm9uJylcclxuXHRcdFx0XHRlbGVjdHJvbi5yZW1vdGUuc2hlbGwub3BlblBhdGgoaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX2ZpbGVfc2hvd19pbl9zeXN0ZW1fZXhwbG9yZXIgPSAocGx1Z2luOk5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuXHRpZDogJ2NtZF9maWxlX3Nob3dfaW5fc3lzdGVtX2V4cGxvcmVyJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZmlsZV9zaG93X2luX3N5c3RlbV9leHBsb3JlcixcclxuXHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG5cdFx0bGV0IG5jID0gcGx1Z2luO1xyXG5cdFx0aWYoKG5jLmFwcCBhcyBhbnkpLmlzTW9iaWxlKXtyZXR1cm47fVxyXG5cdFx0bGV0IHRmaWxlID0gbmMuY2hhaW4uY3VycmVudF9ub3RlO1xyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRsZXQgaXRlbXMgPSBhd2FpdCBuYy5jaGFpbi5nZXRfZmlsZV9saW5rcyh0ZmlsZSk7XHJcblx0XHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoaXRlbXMpO1xyXG5cdFx0XHRsZXQga2V5ID0gYXdhaXQgbmMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdG5jLnV0aWxzLmFycmF5X3ByZWZpeF9pZChrZXlzKSxcclxuXHRcdFx0XHRrZXlzXHJcblx0XHRcdClcclxuXHRcdFx0XHJcblx0XHRcdGlmKGtleSl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSBpdGVtc1trZXldXHJcblx0XHRcdFx0bGV0IGVsZWN0cm9uID0gcmVxdWlyZSgnZWxlY3Ryb24nKVxyXG5cdFx0XHRcdGVsZWN0cm9uLnJlbW90ZS5zaGVsbC5zaG93SXRlbUluRm9sZGVyKGl0ZW0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9maWxlX3JlbmFtZSA9IChwbHVnaW46Tm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG5cdGlkOiAnY21kX2ZpbGVfcmVuYW1lJyxcclxuXHRuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZmlsZV9yZW5hbWUsXHJcblx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdGxldCBuYyA9IHBsdWdpbjtcclxuXHRcdGlmKChuYy5hcHAgYXMgYW55KS5pc01vYmlsZSl7cmV0dXJuO31cclxuXHRcdGxldCB0ZmlsZSA9IG5jLmNoYWluLmN1cnJlbnRfbm90ZTtcclxuXHJcblx0XHRpZih0ZmlsZSl7XHJcblx0XHRcdGxldCBpdGVtczp7W2tleTpzdHJpbmddOmFueX0gPSB7fVxyXG5cdFx0XHRsZXQgbGlua3MgPSBuYy5jaGFpbi5nZXRfaW5saW5rcygpO1xyXG5cdFx0XHRmb3IobGV0IGkgb2YgbGlua3Mpe1xyXG5cdFx0XHRcdGlmKGkuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHUyMTM5XHVGRTBGICcraS5iYXNlbmFtZV0gPSBpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1MjEzOVx1RkUwRiAnK2kubmFtZV0gPSBpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRsaW5rcyA9IG5jLmNoYWluLmdldF9vdXRsaW5rcygpO1xyXG5cdFx0XHRmb3IobGV0IGkgb2YgbGlua3Mpe1xyXG5cdFx0XHRcdGlmKGkuZXh0ZW5zaW9uPT09J21kJyl7XHJcblx0XHRcdFx0XHRpdGVtc1snXHVEODNDXHVERDdFXHVGRTBGICcraS5iYXNlbmFtZV0gPSBpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0aXRlbXNbJ1x1RDgzQ1x1REQ3RVx1RkUwRiAnK2kubmFtZV0gPSBpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhpdGVtcyk7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQga2V5ID0gYXdhaXQgbmMuY2hhaW4udHBfc3VnZ2VzdGVyKFxyXG5cdFx0XHRcdG5jLnV0aWxzLmFycmF5X3ByZWZpeF9pZChrZXlzKSxcclxuXHRcdFx0XHRrZXlzLFxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHRpZihrZXkpe1xyXG5cdFx0XHRcdGxldCBub3RlID0gaXRlbXNba2V5XTtcclxuXHRcdFx0XHRsZXQgcmVzID0gYXdhaXQgbmMuY2hhaW4udHBfcHJvbXB0KCdOZXcgTmFtZScsbm90ZS5iYXNlbmFtZSk7XHJcblx0XHRcdFx0aWYocmVzICYmICEocmVzPT09bm90ZS5iYXNlbmFtZSkgJiYgIShyZXM9PT0nJykpe1xyXG5cdFx0XHRcdFx0bGV0IG5wYXRoID0gbm90ZS5wYXJlbnQucGF0aCsnLycrcmVzKycuJytub3RlLmV4dGVuc2lvbjtcclxuXHRcdFx0XHRcdGxldCBkc3QgPSBuYy5jaGFpbi5nZXRfdGZpbGUocmVzKycuJytub3RlLmV4dGVuc2lvbik7XHJcblx0XHRcdFx0XHRpZihkc3Qpe1xyXG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKCdFeGlzdDonK3Jlcytub3RlLmV4dGVuc2lvbiwzMDAwKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRuYy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZShub3RlLG5wYXRoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21lcm1haWRfZmxvd2NoYXJ0X2xpbmsgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rJyxcclxuICAgIG5hbWU6IHBsdWdpbi5zdHJpbmdzLmNtZF9tZXJtYWlkX2Zsb3djaGFydF9saW5rLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gXCJgYGBkYXRhdmlld2pzXFxubGV0IG5jPWFwcC5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xcbmxldCBtc2cgPW5jLm1lcm1haWQuZ2V0X2Zsb3djaGFydChudWxsLDIpO1xcbmR2LnNwYW4obXNnKVxcbmBgYFwiO1xyXG4gICAgICAgIGF3YWl0IHBsdWdpbi5jaGFpbi5vcGVuX25vdGVfaW5fbW9kYWwoY29udGVudCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlciA9IChwbHVnaW46IE5vdGVDaGFpblBsdWdpbikgPT4gKHtcclxuICAgIGlkOiAnY21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcicsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbWVybWFpZF9mbG93Y2hhcnRfZm9sZGVyLFxyXG4gICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gXCJgYGBkYXRhdmlld2pzXFxubGV0IG5jPWFwcC5wbHVnaW5zLmdldFBsdWdpbignbm90ZS1jaGFpbicpO1xcbmxldCBtc2cgPW5jLm1lcm1haWQuZmxvd2NoYXJ0X2ZvbGRlcihudWxsLCdGb2xkZXInKTtcXG5kdi5zcGFuKG1zZylcXG5gYGBcIjtcclxuICAgICAgICBhd2FpdCBwbHVnaW4uY2hhaW4ub3Blbl9ub3RlX2luX21vZGFsKGNvbnRlbnQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9tZXJtYWlkX2Zsb3djaGFydF9hdXRvID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdjbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0bycsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0byxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IFwiYGBgZGF0YXZpZXdqc1xcbmxldCBuYz1hcHAucGx1Z2lucy5nZXRQbHVnaW4oJ25vdGUtY2hhaW4nKTtcXG5sZXQgbXNnID1uYy5tZXJtYWlkLmdldF9tZWhybWFpZF9ncmFwaChudWxsLDQsJ21lcm1haWQnKTtcXG5kdi5zcGFuKG1zZylcXG5gYGBcIjtcclxuICAgICAgICBhd2FpdCBwbHVnaW4uY2hhaW4ub3Blbl9ub3RlX2luX21vZGFsKGNvbnRlbnQpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF9leGVjdXRlX3RlbXBsYXRlX21vZGFsID0gKHBsdWdpbjogTm90ZUNoYWluUGx1Z2luKSA9PiAoe1xyXG4gICAgaWQ6ICdjbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCcsXHJcbiAgICBuYW1lOiBwbHVnaW4uc3RyaW5ncy5jbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRsZXQgdHBsID0gKHBsdWdpbi5hcHAgYXMgYW55KS5wbHVnaW5zLnBsdWdpbnNbJ3RlbXBsYXRlci1vYnNpZGlhbiddXHJcblx0XHRpZighdHBsKXtyZXR1cm59XHJcblxyXG5cdFx0bGV0IGZvbGRlciA9IHBsdWdpbi5hcHAudmF1bHQuZ2V0Rm9sZGVyQnlQYXRoKHRwbC5zZXR0aW5ncy50ZW1wbGF0ZXNfZm9sZGVyKTtcclxuXHRcdGxldCB0ZmlsZXM7XHJcblx0XHRpZihmb2xkZXIpe1xyXG5cdFx0XHR0ZmlsZXMgPSBwbHVnaW4uY2hhaW4uZ2V0X3RmaWxlc19vZl9mb2xkZXIoZm9sZGVyLHRydWUpXHJcblx0XHRcdHRmaWxlcyA9IHBsdWdpbi5jaGFpbi5zb3J0X3RmaWxlc19ieV9jaGFpbih0ZmlsZXMpXHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0dGZpbGVzID0gcGx1Z2luLmNoYWluLmdldF9hbGxfdGZpbGVzKClcclxuXHRcdH1cclxuXHRcdGxldCB0ZmlsZSA9IGF3YWl0IHBsdWdpbi5jaGFpbi5zdWdndXN0ZXJfbm90ZSh0ZmlsZXMgYXMgYW55KVxyXG5cdFx0aWYodGZpbGUpe1xyXG5cdFx0XHRsZXQgcmVzID0gYXdhaXQgcGx1Z2luLnV0aWxzLnBhcnNlX3RlbXBsYXRlcihwbHVnaW4uYXBwLHRmaWxlLmJhc2VuYW1lKTtcclxuXHRcdFx0bGV0IHR4dCA9IHJlcy5qb2luKCdcXG4nKS50cmltKClcclxuXHRcdFx0bGV0IHZpZXcgPSAocGx1Z2luLmFwcC53b3Jrc3BhY2UgYXMgYW55KS5nZXRBY3RpdmVGaWxlVmlldygpXHJcblx0XHRcdGlmKHZpZXcpe1xyXG5cdFx0XHRcdHZpZXcuZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24odHh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNtZF90b29nbGVfY3NzX2Jsb2NrX2luX25vdGUgPSAocGx1Z2luOiBOb3RlQ2hhaW5QbHVnaW4pID0+ICh7XHJcbiAgICBpZDogJ2NtZF90b29nbGVfY3NzX2Jsb2NrX2luX25vdGUnLFxyXG4gICAgbmFtZTogcGx1Z2luLnN0cmluZ3MuY21kX3Rvb2dsZV9jc3NfYmxvY2tfaW5fbm90ZSxcclxuICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRhd2FpdCBwbHVnaW4udXRpbHMudG9vZ2xlX25vdGVfY3NzKHBsdWdpbi5hcHAsZG9jdW1lbnQsJy8nKVxyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5jb25zdCBjb21tYW5kQnVpbGRlcnMgPSBbXHJcblx0Y21kX29wZW5fbm90ZSxcclxuXHRjbWRfcmV2ZWFsX25vdGUsXHJcblx0Y21kX29wZW5fYW5kX3JldmVhbF9ub3RlLFxyXG5cdGNtZF9vcGVuX3ByZXZfbm90ZSxcclxuXHRjbWRfb3Blbl9uZXh0X25vdGUsXHJcblx0Y21kX29wZW5fcHJldl9ub3RlX29mX3JpZ2h0X2xlYWYsXHJcblx0Y21kX29wZW5fbmV4dF9ub3RlX29mX3JpZ2h0X2xlYWYsXHJcblx0Y21kX29wZW5fbm90ZXNfc21hcnRlcixcclxuXHRjbWRfbG9uZ2Zvcm0ybm90ZWNoYWluLFxyXG5cdGNtZF9sb25nZm9ybTRub3RlY2hhaW4sXHJcblx0Y21kX3NvcnRfZmlsZV9leHBsb3JlcixcclxuXHRjbGVhcl9pbmxpbmtzLFxyXG5cdHJlcGxhY2Vfbm90ZXNfd2l0aF9yZWd4LFxyXG5cdG1vdmVfZmlsZV90b19hbm90aGVyX2ZvbGRlcixcclxuXHRjaGFpbl9pbnNlcnRfbm9kZSxcclxuXHRjaGFpbl9zZXRfc2VxX25vdGUsXHJcblx0Y3JlYXRlX25ld19ub3RlLFxyXG5cdGNoYWluX21vdmVfdXBfbm9kZSxcclxuXHRjaGFpbl9tb3ZlX2Rvd25fbm9kZSxcclxuXHRjbWRfZmlsZV9yZW5hbWUsXHJcblx0Y21kX21lcm1haWRfZmxvd2NoYXJ0X2xpbmssXHJcblx0Y21kX21lcm1haWRfZmxvd2NoYXJ0X2ZvbGRlcixcclxuXHRjbWRfbWVybWFpZF9mbG93Y2hhcnRfYXV0byxcclxuXHRjbWRfZXhlY3V0ZV90ZW1wbGF0ZV9tb2RhbCxcclxuXHRjbWRfdG9vZ2xlX2Nzc19ibG9ja19pbl9ub3RlXHJcbl07XHJcblxyXG5jb25zdCBjb21tYW5kQnVpbGRlcnNEZXNrdG9wID0gW1xyXG5cdGNtZF9maWxlX29wZW5fd2l0aF9zeXN0ZW1fYXBwLFxyXG5cdGNtZF9maWxlX3Nob3dfaW5fc3lzdGVtX2V4cGxvcmVyLFxyXG5cclxuXVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbW1hbmRzKHBsdWdpbjpOb3RlQ2hhaW5QbHVnaW4pIHtcclxuICAgIGNvbW1hbmRCdWlsZGVycy5mb3JFYWNoKChjKSA9PiB7XHJcbiAgICAgICAgcGx1Z2luLmFkZENvbW1hbmQoYyhwbHVnaW4pKTtcclxuICAgIH0pO1xyXG5cdGlmKChwbHVnaW4uYXBwIGFzIGFueSkuaXNNb2JpbGU9PWZhbHNlKXtcclxuXHRcdGNvbW1hbmRCdWlsZGVyc0Rlc2t0b3AuZm9yRWFjaCgoYykgPT4ge1xyXG5cdFx0XHRwbHVnaW4uYWRkQ29tbWFuZChjKHBsdWdpbikpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FB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dkIsVUFBRztBQUNGLGNBQU0sS0FBSyxLQUFLLE9BQU8sZ0JBQWdCLE9BQU0sS0FBSyxDQUFDO0FBQUEsTUFDcEQsU0FBTyxPQUFOO0FBQ0EsY0FBTSxLQUFLLEdBQUc7QUFBQSxNQUNmO0FBQUEsSUFDRDtBQUNBLFdBQU8sTUFBTSxLQUFLLEdBQUc7QUFBQSxFQUN0QjtBQUFBLEVBRUEsTUFBTSxvQkFBbUI7QUFFeEIsUUFBSSxPQUFPLEtBQUssTUFBTTtBQUN0QixRQUFJLFFBQVEsTUFBTSxLQUFLLE1BQU0sZ0JBQWdCLE1BQUssS0FBSztBQUV2RCxZQUFRLEtBQUssTUFBTSxZQUFZLE9BQU0sQ0FBQyxTQUFRLEdBQUcsQ0FBQztBQUNsRCxZQUFRLEtBQUssTUFBTSxxQkFBcUIsS0FBSztBQUM3QyxRQUFHLE1BQU0sU0FBTyxHQUFFO0FBQ2pCLFVBQUksT0FBTyxNQUFNLEtBQUssTUFBTTtBQUFBLFFBQzNCLEtBQUssTUFBTTtBQUFBLFVBQ1YsTUFBTSxJQUFJLENBQUMsU0FBZSxLQUFLLE1BQU0sZ0JBQWdCLElBQUksQ0FBQztBQUFBLFFBQzNEO0FBQUEsUUFDQTtBQUFBLE1BQ0Q7QUFDQSxVQUFHLE1BQUs7QUFDUCxjQUFNLEtBQUssTUFBTSxVQUFVLElBQUk7QUFBQSxNQUNoQztBQUFBLElBQ0Q7QUFBQSxFQUNEO0FBQ0Q7IiwKICAibmFtZXMiOiBbImRvY3VtZW50IiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAic2VjdGlvbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImYiLCAicmVjZW50IiwgImxlYWYiLCAidGZpbGUiLCAicHJldiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInRmaWxlIiwgInNyYyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgInR4dCIsICJzdHlsZSIsICJub3RlcyJdCn0K
